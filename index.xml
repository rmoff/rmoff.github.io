<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>rmoff&#39;s random ramblings</title>
    <link>https://rmoff.net/</link>
    <description>Recent content on rmoff&#39;s random ramblings</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>2025-02-27</lastBuildDate>
    
        <atom:link href="https://rmoff.net/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>DuckDB tricks - renaming fields in a SELECT * across tables</title>
      <link>https://rmoff.net/2025/02/27/duckdb-tricks-renaming-fields-in-a-select-across-tables/</link>
      <pubDate>2025-02-27</pubDate>
      
      <guid>https://rmoff.net/2025/02/27/duckdb-tricks-renaming-fields-in-a-select-across-tables/</guid>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://rmoff.net/images/2025/02/t_IMG_7980.webp" medium="image" type="image/jpg" width="100" height="100" />
      <description>&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;I was exploring some new data, joining across multiple tables, and doing a simple &lt;code&gt;SELECT *&lt;/code&gt; as I’d not worked out yet which columns I actually wanted.
The issue was, the same field name existing in more than one table.
This meant that in the results from the query, it wasn’t clear which field came from which table:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2025/02/duckdb_before.webp&#34; alt=&#34;duckdb before&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;describe&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;select&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;*&lt;/span&gt;
	&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t1&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;inner&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;join&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t2&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;on&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t1&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;X&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t2&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;X&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;So, how to avoid ending up with ambiguous fields?
In my example X is the same value because it’s the JOIN predicate, but Z could have a different value in each table but the result set has two fields called &amp;#34;Z&amp;#34;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;I &lt;em&gt;could&lt;/em&gt; alias each field by hand:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;describe&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;select&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t1&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;X&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t1_X&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t1&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;Y&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t1_Y&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t1&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;Z&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t1_Z&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;,&lt;/span&gt;
		&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t2&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;X&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t2_X&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;,&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t2&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;Z&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t2_Z&lt;/span&gt;
	&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t1&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;inner&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;join&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t2&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;on&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t1&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;X&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t2&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;X&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code&gt;┌─────────────┬─────────────┬─────────┬─────────┬─────────┬─────────┐
│ column_name │ column_type │  null   │   key   │ default │  extra  │
│   varchar   │   varchar   │ varchar │ varchar │ varchar │ varchar │
├─────────────┼─────────────┼─────────┼─────────┼─────────┼─────────┤
│ t1_X        │ VARCHAR     │ YES     │ NULL    │ NULL    │ NULL    │
│ t1_Y        │ VARCHAR     │ YES     │ NULL    │ NULL    │ NULL    │
│ t1_Z        │ VARCHAR     │ YES     │ NULL    │ NULL    │ NULL    │
│ t2_X        │ VARCHAR     │ YES     │ NULL    │ NULL    │ NULL    │
│ t2_Z        │ VARCHAR     │ YES     │ NULL    │ NULL    │ NULL    │
└─────────────┴─────────────┴─────────┴─────────┴─────────┴─────────┘&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;But I’ve got a wide table so don’t want to hand-code the aliases for each field; I want to use &lt;code&gt;SELECT *&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;I &lt;strong&gt;could&lt;/strong&gt; &lt;code&gt;DESCRIBE&lt;/code&gt; each table, scrape the fields into a text editor, and use a search and replace or block edit to prefix the fields and build my SQL that way. But it’s manual and not reusable.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_duckdb_columns_to_the_rescue&#34;&gt;DuckDB &lt;code&gt;COLUMNS&lt;/code&gt; to the rescue&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Thanks to &lt;a href=&#34;https://bsky.app/profile/did:plc:e3fe54cbnttcggrmze2al2vk&#34;&gt;Alex Monahan&lt;/a&gt; on Bluesky (&lt;a href=&#34;https://bsky.app/hashtag/databs&#34;&gt;&lt;code&gt;#dataBS&lt;/code&gt;&lt;/a&gt; FTW!), who pointed me at the &lt;a href=&#34;https://duckdb.org/docs/sql/expressions/star.html#columns-expression&#34;&gt;&lt;code&gt;COLUMNS&lt;/code&gt; expression&lt;/a&gt;.
&lt;a href=&#34;https://duckdbsnippets.com/snippets/204/label-columns-based-on-source-table&#34;&gt;This nice example&lt;/a&gt; illustrates it in action.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Applied to my query above, it looks like this:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;describe&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;select&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;columns&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t1&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;&amp;#34;t1_&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;\0&lt;/span&gt;&lt;span style=&#34;color: #008080&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;,&lt;/span&gt;
		&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;columns&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t2&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;as&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;&amp;#34;t2_&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;\0&lt;/span&gt;&lt;span style=&#34;color: #008080&#34;&gt;&amp;#34;&lt;/span&gt;
                &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t1&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;inner&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;join&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t2&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;on&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t1&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;X&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t2&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;X&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code&gt;┌─────────────┬─────────────┬─────────┬─────────┬─────────┬─────────┐
│ column_name │ column_type │  null   │   key   │ default │  extra  │
│   varchar   │   varchar   │ varchar │ varchar │ varchar │ varchar │
├─────────────┼─────────────┼─────────┼─────────┼─────────┼─────────┤
│ t1_X        │ VARCHAR     │ YES     │ NULL    │ NULL    │ NULL    │
│ t1_Y        │ VARCHAR     │ YES     │ NULL    │ NULL    │ NULL    │
│ t1_Z        │ VARCHAR     │ YES     │ NULL    │ NULL    │ NULL    │
│ t2_X        │ VARCHAR     │ YES     │ NULL    │ NULL    │ NULL    │
│ t2_Z        │ VARCHAR     │ YES     │ NULL    │ NULL    │ NULL    │
└─────────────┴─────────────┴─────────┴─────────┴─────────┴─────────┘&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Perfect!&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;The &lt;code&gt;t1_&lt;/code&gt; is the literal prefix added to the field name, and &lt;code&gt;\0&lt;/code&gt; a regex identifier for the field name.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;You can do more fancy renaming of fields with regex too with the &lt;code&gt;COLUMNS&lt;/code&gt; expression; check out the &lt;a href=&#34;https://duckdb.org/docs/sql/expressions/star.html#renaming-columns-with-regular-expressions-in-a-columns-expression&#34;&gt;docs&lt;/a&gt; for more examples.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;You can also use the new &lt;a href=&#34;https://duckdb.org/2025/02/25/prefix-aliases-in-sql&#34;&gt;&lt;em&gt;prefix aliases&lt;/em&gt;&lt;/a&gt; (added in DuckDB 1.20) if you prefer:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;describe&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;select&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;&amp;#34;t1_&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;\0&lt;/span&gt;&lt;span style=&#34;color: #008080&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;columns&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t1&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;),&lt;/span&gt;
                &lt;span style=&#34;color: #008080&#34;&gt;&amp;#34;t2_&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;\0&lt;/span&gt;&lt;span style=&#34;color: #008080&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;columns&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t2&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;)&lt;/span&gt;
                &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;from&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t1&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;inner&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;join&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t2&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;on&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t1&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;X&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;t2&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;.&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;X&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code&gt;┌─────────────┬─────────────┬─────────┬─────────┬─────────┬─────────┐
│ column_name │ column_type │  null   │   key   │ default │  extra  │
│   varchar   │   varchar   │ varchar │ varchar │ varchar │ varchar │
├─────────────┼─────────────┼─────────┼─────────┼─────────┼─────────┤
│ t1_X        │ VARCHAR     │ YES     │ NULL    │ NULL    │ NULL    │
│ t1_Y        │ VARCHAR     │ YES     │ NULL    │ NULL    │ NULL    │
│ t1_Z        │ VARCHAR     │ YES     │ NULL    │ NULL    │ NULL    │
│ t2_X        │ VARCHAR     │ YES     │ NULL    │ NULL    │ NULL    │
│ t2_Z        │ VARCHAR     │ YES     │ NULL    │ NULL    │ NULL    │
└─────────────┴─────────────┴─────────┴─────────┴─────────┴─────────┘&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    <item>
      <title>Interesting links - February 2025</title>
      <link>https://rmoff.net/2025/02/03/interesting-links-february-2025/</link>
      <pubDate>2025-02-03</pubDate>
      
      <guid>https://rmoff.net/2025/02/03/interesting-links-february-2025/</guid>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://rmoff.net/images/2025/02/t_IMG_7777.webp" medium="image" type="image/jpg" width="100" height="100" />
      <description>&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Here’s a bunch of interesting links and articles about data that I’ve come across recently.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Martin Kleppmanm’s seminal talk from 2015, &lt;a href=&#34;https://martin.kleppmann.com/2015/11/05/database-inside-out-at-oredev.html&#34;&gt;Turning the database inside out&lt;/a&gt; came up on my feed recently, and is still such an important work.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Going back even further, check out the &lt;a href=&#34;https://dl.acm.org/doi/pdf/10.1145/800296.811515&#34;&gt;original SQL paper, from 1974&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Not only do I love the clever title, but &lt;a href=&#34;https://www.infoq.com/articles/rethinking-medallion-architecture/&#34;&gt;The End of the Bronze Age: Rethinking the Medallion Architecture&lt;/a&gt; is also a really good explanation of how &amp;#34;shift left&amp;#34; applies in the data world. If you prefer video there’s &lt;a href=&#34;https://www.youtube.com/watch?v=FiZmyl1Npg0&#34;&gt;one of those too&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;An &lt;a href=&#34;https://www.streamingdata.tech/p/interview-with-nikhil-benesch-materialize&#34;&gt;interesting interview&lt;/a&gt; from a while back with Materialize’s CTO, Nikhil Benesch.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A useful look at the practicalities of &lt;a href=&#34;https://www.confluent.io/en-gb/blog/implementing-streaming-data-products/&#34;&gt;Data Products, Data Contracts, and Change Data Capture&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;I recently came across an interesting project from the European Union called &lt;a href=&#34;https://big-data-test-infrastructure.ec.europa.eu/index_en&#34;&gt;Big Data Test Infrastructure&lt;/a&gt;. Despite the slightyly old-fashioned name, they’re doing some cool stuff with data and public services, such as this one looking at  &lt;a href=&#34;https://big-data-test-infrastructure.ec.europa.eu/whats-new/news/rooting-data-revolutionising-urban-tree-health-monitoring-bochum-germany-2024-11-27_en&#34;&gt;tree health in a town in Germany&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;DataDog have their own proprietary &lt;a href=&#34;https://www.datadoghq.com/blog/engineering/introducing-husky/&#34;&gt;event storage system called Husky&lt;/a&gt;. They’ve previously shared details of the &lt;a href=&#34;https://www.datadoghq.com/blog/engineering/husky-deep-dive/&#34;&gt;ingestion process&lt;/a&gt;, and have recently posted how &lt;a href=&#34;https://www.datadoghq.com/blog/engineering/husky-storage-compaction/&#34;&gt;data compaction at scale is handled&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Two Apache projects were &lt;a href=&#34;https://news.apache.org/foundation/entry/the-apache-software-foundation-announces-new-top-level-projects&#34;&gt;recently announced&lt;/a&gt; as graduating to top-level projects, including &lt;a href=&#34;https://streampark.apache.org/&#34;&gt;Apache StreamPark&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Excellent analysis from Jack Vanlightly looking at &lt;a href=&#34;https://jack-vanlightly.com/blog/2025/2/3/why-snowflake-wants-streaming&#34;&gt;Why Snowflake wants streaming&lt;/a&gt; (specifically, Redpanda, about whom acquisition rumours are swirling).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A new Kafka TUI called &lt;a href=&#34;https://github.com/dhth/kplay&#34;&gt;kplay&lt;/a&gt;, and GUI called &lt;a href=&#34;https://kafkio.com/features&#34;&gt;KafkIO&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;What better way to learn the low-level details of Kafka than &lt;a href=&#34;https://www.reddit.com/r/apachekafka/comments/1hnkrzi/monkafka_building_a_kafka_broker_from_scratch/&#34;&gt;writing your own broker&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Confluent recently launched &lt;a href=&#34;https://marketplace.visualstudio.com/items?itemName=confluentinc.vscode-confluent&#34;&gt;a VSCode plugin&lt;/a&gt; which now &lt;a href=&#34;https://old.reddit.com/r/apachekafka/comments/1hfr68m/the_confluent_extension_for_vs_code_now_supports/&#34;&gt;supports Kafka clusters too&lt;/a&gt; (not just Confluent Cloud).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A fantastic deep-dive blog on &lt;a href=&#34;https://www.warpstream.com/blog/kafka-transactions-explained-twice&#34;&gt;Kafka transactions&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;A nicely explained and illustrated guide to &lt;a href=&#34;https://www.responsive.dev/blog/windows-and-time-kafka-streams-101&#34;&gt;windowing in Kafka Streams&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Mickael Maison has now been writing the &lt;a href=&#34;https://developers.redhat.com/blog/2025/02/03/kafka-monthly-digest-january-2025&#34;&gt;Kafka Monthly Digest&lt;/a&gt; for an impressive seven years!&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://github.com/hyprstream/hyprstream&#34;&gt;Hyprstream&lt;/a&gt; is a built on Apache Arrow Flight and DuckDB for &amp;#34;real-time data ingestion, windowed aggregation, caching, and serving&amp;#34;. Read the associated paper &lt;a href=&#34;https://github.com/hyprstream/hyprstream?tab=readme-ov-file&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;a href=&#34;https://renegadeotter.com/2023/11/12/your-database-skills-are-not-good-to-have.html&#34;&gt;Your Database Skills Are Not &amp;#39;Good to Have&amp;#39;&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Uber run 2,300 MySQL clusters— &lt;a href=&#34;https://www.uber.com/en-GB/blog/mysql-at-uber/&#34;&gt;this post&lt;/a&gt; has details of how they do it.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;</description>
    </item>
    <item>
      <title>Disabling Vale Linting Selectively in Asciidoc</title>
      <link>https://rmoff.net/2024/12/11/disabling-vale-linting-selectively-in-asciidoc/</link>
      <pubDate>2024-12-11</pubDate>
      
      <guid>https://rmoff.net/2024/12/11/disabling-vale-linting-selectively-in-asciidoc/</guid>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://rmoff.net/images/2024/12/t_IMG_6386.webp" medium="image" type="image/jpg" width="100" height="100" />
      <description>&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;I’m a &lt;strong&gt;HUGE&lt;/strong&gt; fan of Docs as Code in general, and specifically tools like &lt;a href=&#34;https://vale.sh&#34;&gt;Vale&lt;/a&gt; that lint your prose for adherence to style rule.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;One thing that had been bugging me though was how to selectively disable Vale for particular sections of a document.
Usually linting issues should be addressed at root: either fix the prose, or update the style rule. Either it’s a rule, or it’s not, right?&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Sometimes though I’ve found a need to make a particular exception to a rule, or simply needed to skip linting for a particular file.
I was struggling with how to do this in Asciidoc.
Despite &lt;a href=&#34;https://vale.sh/docs/topics/config/#asciidoc&#34;&gt;the documentation&lt;/a&gt; showing how to, I could never get it to work reliably.
Now I’ve taken some time to dig into it, I think I’ve finally understood :)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;There are two ways to do it:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Use a special class in the AsciiDoc and then tell Vale to ignore any text that uses that class.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Pass-through configuration to Vale using HTML comments (per &lt;a href=&#34;https://vale.sh/docs/topics/config/#asciidoc&#34;&gt;the docs&lt;/a&gt;).
It turns out line breaks are &lt;strong&gt;crucial&lt;/strong&gt; in getting this to work (and why I found it to work so apparently inconsistently)&lt;/p&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;strong&gt;tl;dr&lt;/strong&gt;: Make sure you put a line break &lt;em&gt;before&lt;/em&gt; a Vale pass-through that re-enables linting or a particular rule, otherwise it cancels out the one that preceeded it.&lt;/p&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_a_quick_recap_of_how_vale_works&#34;&gt;A quick recap of how Vale works&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Vale compiles your document from its source markup (e.g. Asciidoc, Markdown, RST, etc) into HTML.
It then parses the HTML and matches it to the rules you’ve defined.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;This is useful to know because it helps when troubleshooting because you can compare seemingly-identical source document content to what Vale is actually parsing.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_our_test_document&#34;&gt;Our test document&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;I ended up creating a bare-bones document on which to test this. The source looks like this:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;title&#34;&gt;test.adoc&lt;/div&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;asciidoc&#34;&gt;&lt;table class=&#34;linenotable&#34;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;linenos gl&#34;&gt;&lt;pre class=&#34;lineno&#34;&gt;1
2
3
4
5
6
7
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;= Test doc

This line has an acronym: NAT

Let&amp;#39;s not lint this one: KVM

But not this one: FUBAR
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;With a resulting Vale output of:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code&gt; 3:27  suggestion  &amp;#39;NAT&amp;#39; has no definition.  Microsoft.Acronyms
 5:19  suggestion  &amp;#39;KVM&amp;#39; has no definition.  Microsoft.Acronyms&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;em&gt;The number before the colon is the line number, so you can use this to match up the message to the source.&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_option_1_use_a_dedicated_class&#34;&gt;Option 1: Use a dedicated class&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;em&gt;h/t to Aidan Reilly over on the &lt;a href=&#34;https://www.writethedocs.org/slack/&#34;&gt;WriteTheDocs slack group&lt;/a&gt; for this tip 👍&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;The idea here is that you create a dedicated CSS class that you add to Vale’s &lt;a href=&#34;https://vale.sh/docs/topics/config/#ignoredclasses&#34;&gt;&lt;code&gt;IgnoredClasses&lt;/code&gt; configuration&lt;/a&gt;, and include in your Asciidoc wherever you want Vale to skip linting.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;title&#34;&gt;test-option1.adoc&lt;/div&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;asciidoc&#34;&gt;&lt;table class=&#34;linenotable&#34;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;linenos gl&#34;&gt;&lt;pre class=&#34;lineno&#34;&gt;1
2
3
4
5
6
7
8
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;= Test doc

This line has an acronym: NAT

[.my-vale-ignore-class]
Let&amp;#39;s not lint this one: KVM

But not this one: FUBAR
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Resulting HTML:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;html&#34;&gt;[…]
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;div&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;id=&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;&lt;span style=&#34;color: #000080&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;div&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;class=&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;&amp;#34;paragraph&amp;#34;&lt;/span&gt;&lt;span style=&#34;color: #000080&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;This line has an acronym: NAT&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;div&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;class=&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;&amp;#34;paragraph my-vale-ignore-class&amp;#34;&lt;/span&gt;&lt;span style=&#34;color: #000080&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;Let&amp;#39;s not lint this one: KVM&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;div&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;class=&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;&amp;#34;paragraph&amp;#34;&lt;/span&gt;&lt;span style=&#34;color: #000080&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;But not this one: FUBAR&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
[…]&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Vale config:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;title&#34;&gt;vale.ini&lt;/div&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;ini&#34;&gt;&lt;span style=&#34;color: #555555&#34;&gt;[…]&lt;/span&gt;
&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;IgnoredClasses&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color: #d14&#34;&gt;my-vale-ignore-class&lt;/span&gt;
&lt;span style=&#34;color: #555555&#34;&gt;[…]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Resulting Vale output:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code&gt; 3:27  suggestion  &amp;#39;NAT&amp;#39; has no definition.    Microsoft.Acronyms
 8:15  suggestion  &amp;#39;FUBAR&amp;#39; has no definition.  Microsoft.Acronyms&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;So—pretty simple, and effective.
The only issue I see with this is that you can’t granularly target different Vale rules—it’s either on, or off.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_now_the_fiddly_one_pass_through_config_with_html_comments&#34;&gt;Now the fiddly one: Pass-through config with HTML comments&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;The idea here is that you use Asciidoc’s &lt;a href=&#34;https://docs.asciidoctor.org/asciidoc/latest/pass/pass-macro/#inline-pass&#34;&gt;inline &lt;code&gt;pass&lt;/code&gt; macro&lt;/a&gt; to embed HTML comments (&lt;code&gt;&amp;lt;!-- remember these? -→&lt;/code&gt;) in the generated HTML, which then passes the commands to Vale like &lt;code&gt;vale off&lt;/code&gt;:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Here’s what I tried originally:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;title&#34;&gt;test-option2a.adoc&lt;/div&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;asciidoc&#34;&gt;&lt;table class=&#34;linenotable&#34;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;linenos gl&#34;&gt;&lt;pre class=&#34;lineno&#34;&gt;1
2
3
4
5
6
7
8
9
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;= Test doc

This line has an acronym: NAT

pass:[&amp;lt;!-- vale off --&amp;gt;]
Let&amp;#39;s not lint this one: KVM
pass:[&amp;lt;!-- vale on --&amp;gt;]

But not this one: FUBAR
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;and got dismayed when my Vale output was:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code&gt; 3:27  suggestion  &amp;#39;NAT&amp;#39; has no definition.    Microsoft.Acronyms
 6:19  suggestion  &amp;#39;KVM&amp;#39; has no definition.    Microsoft.Acronyms
 9:15  suggestion  &amp;#39;FUBAR&amp;#39; has no definition.  Microsoft.Acronyms&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;The generated HTML does show the comments:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;html&#34;&gt;[…]
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;div&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;id=&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;&lt;span style=&#34;color: #000080&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;div&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;class=&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;&amp;#34;paragraph&amp;#34;&lt;/span&gt;&lt;span style=&#34;color: #000080&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;This line has an acronym: NAT&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;div&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;class=&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;&amp;#34;paragraph&amp;#34;&lt;/span&gt;&lt;span style=&#34;color: #000080&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;&lt;span style=&#34;color: #999988;font-style: italic&#34;&gt;&amp;lt;!-- vale off --&amp;gt;&lt;/span&gt;
Let&amp;#39;s not lint this one: KVM
&lt;span style=&#34;color: #999988;font-style: italic&#34;&gt;&amp;lt;!-- vale on --&amp;gt;&lt;/span&gt;&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;div&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;class=&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;&amp;#34;paragraph&amp;#34;&lt;/span&gt;&lt;span style=&#34;color: #000080&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;But not this one: FUBAR&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
[…]&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;So I was stumped, until I started randomly jiggling things (and, to be fair, looking more closely at the Vale documentation itself) and noticed a difference between the effectiveness of&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;asciidoc&#34;&gt;&lt;table class=&#34;linenotable&#34;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;linenos gl&#34;&gt;&lt;pre class=&#34;lineno&#34;&gt;1
2
3
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;pass:[&amp;lt;!-- vale off --&amp;gt;]
Let&amp;#39;s not lint this one: KVM
pass:[&amp;lt;!-- vale on --&amp;gt;]
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;compared to&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;asciidoc&#34;&gt;&lt;table class=&#34;linenotable&#34;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;linenos gl&#34;&gt;&lt;pre class=&#34;lineno&#34;&gt;1
2
3
4
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;pass:[&amp;lt;!-- vale off --&amp;gt;]
Let&amp;#39;s not lint this one: KVM
&lt;i class=&#34;conum&#34; data-value=&#34;1&#34;&gt;&lt;/i&gt;&lt;b&gt;(1)&lt;/b&gt;
pass:[&amp;lt;!-- vale on --&amp;gt;]
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;colist arabic&#34;&gt;
&lt;table&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;&lt;i class=&#34;conum&#34; data-value=&#34;1&#34;&gt;&lt;/i&gt;&lt;b&gt;1&lt;/b&gt;&lt;/td&gt;
&lt;td&gt;An innocuous blank line!&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Putting these two into a test doc:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;title&#34;&gt;test-option2b.adoc&lt;/div&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;asciidoc&#34;&gt;&lt;table class=&#34;linenotable&#34;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;linenos gl&#34;&gt;&lt;pre class=&#34;lineno&#34;&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;= Test doc

This line has an acronym: NAT

pass:[&amp;lt;!-- vale off --&amp;gt;]
Let&amp;#39;s not lint this one: KVM
pass:[&amp;lt;!-- vale on --&amp;gt;]

pass:[&amp;lt;!-- vale off --&amp;gt;]
Let&amp;#39;s not lint this one too: SNAFU

pass:[&amp;lt;!-- vale on --&amp;gt;]

But not this one: FUBAR
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Here’s the Vale output:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code&gt; 3:27   suggestion  &amp;#39;NAT&amp;#39; has no definition.    Microsoft.Acronyms
 6:26   suggestion  &amp;#39;KVM&amp;#39; has no definition.    Microsoft.Acronyms
 14:19  suggestion  &amp;#39;FUBAR&amp;#39; has no definition.  Microsoft.Acronyms&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Notice how the first one doesn’t work, but the second one (&lt;code&gt;SNAFU&lt;/code&gt;) with the line break before &lt;code&gt;vale on&lt;/code&gt; does?&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;What about this?&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;title&#34;&gt;test-option2c.adoc&lt;/div&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;asciidoc&#34;&gt;&lt;table class=&#34;linenotable&#34;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;linenos gl&#34;&gt;&lt;pre class=&#34;lineno&#34;&gt;1
2
3
4
5
6
7
8
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;= Test doc

This line has an acronym: NAT

pass:[&amp;lt;!-- vale off --&amp;gt;]
Let&amp;#39;s not lint this one: KVM

Let&amp;#39;s not lint this one too: SNAFU
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Vale is happy with that:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code&gt; 3:27  suggestion  &amp;#39;NAT&amp;#39; has no definition.  Microsoft.Acronyms&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Let’s take a look at the HTML generated by &lt;code&gt;test-option2b.adoc&lt;/code&gt;:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;html&#34;&gt;&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;div&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;id=&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;&amp;#34;content&amp;#34;&lt;/span&gt;&lt;span style=&#34;color: #000080&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;div&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;class=&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;&amp;#34;paragraph&amp;#34;&lt;/span&gt;&lt;span style=&#34;color: #000080&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;This line has an acronym: NAT&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;div&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;class=&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;&amp;#34;paragraph&amp;#34;&lt;/span&gt;&lt;span style=&#34;color: #000080&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;&lt;span style=&#34;color: #999988;font-style: italic&#34;&gt;&amp;lt;!-- vale off --&amp;gt;&lt;/span&gt;
Let&lt;span style=&#34;color: #800080&#34;&gt;&amp;amp;#8217;&lt;/span&gt;s not lint this one: KVM
&lt;span style=&#34;color: #999988;font-style: italic&#34;&gt;&amp;lt;!-- vale on --&amp;gt;&lt;/span&gt;&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;&lt;i class=&#34;conum&#34; data-value=&#34;1&#34;&gt;&lt;/i&gt;&lt;b&gt;(1)&lt;/b&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;div&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;class=&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;&amp;#34;paragraph&amp;#34;&lt;/span&gt;&lt;span style=&#34;color: #000080&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;&lt;span style=&#34;color: #999988;font-style: italic&#34;&gt;&amp;lt;!-- vale off --&amp;gt;&lt;/span&gt;
Let&lt;span style=&#34;color: #800080&#34;&gt;&amp;amp;#8217;&lt;/span&gt;s not lint this one too: SNAFU&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;div&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;class=&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;&amp;#34;paragraph&amp;#34;&lt;/span&gt;&lt;span style=&#34;color: #000080&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;&lt;span style=&#34;color: #999988;font-style: italic&#34;&gt;&amp;lt;!-- vale on --&amp;gt;&lt;/span&gt;&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;&lt;i class=&#34;conum&#34; data-value=&#34;2&#34;&gt;&lt;/i&gt;&lt;b&gt;(2)&lt;/b&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;div&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;class=&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;&amp;#34;paragraph&amp;#34;&lt;/span&gt;&lt;span style=&#34;color: #000080&#34;&gt;&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;p&amp;gt;&lt;/span&gt;But not this one: FUBAR&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/p&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;
&lt;span style=&#34;color: #000080&#34;&gt;&amp;lt;/div&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;colist arabic&#34;&gt;
&lt;table&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td&gt;&lt;i class=&#34;conum&#34; data-value=&#34;1&#34;&gt;&lt;/i&gt;&lt;b&gt;1&lt;/b&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;vale on&lt;/code&gt; is within the &lt;code&gt;&amp;lt;p&amp;gt;&lt;/code&gt; tags&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td&gt;&lt;i class=&#34;conum&#34; data-value=&#34;2&#34;&gt;&lt;/i&gt;&lt;b&gt;2&lt;/b&gt;&lt;/td&gt;
&lt;td&gt;&lt;code&gt;vale on&lt;/code&gt; is &lt;em&gt;outside&lt;/em&gt; the &lt;code&gt;&amp;lt;p&amp;gt;&lt;/code&gt; tags&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;So what seems to be happening is that Vale is parsing the whole of the paragraph (&lt;code&gt;&amp;lt;p&amp;gt;&lt;/code&gt;) contents and applying the configuration to it—so if it has an &lt;code&gt;off&lt;/code&gt; and then &lt;code&gt;on&lt;/code&gt;, the two cancel out and thus the effect is nullified.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Pass-through configuration &lt;strong&gt;is&lt;/strong&gt; more flexible, because rather than just turning Vale on and off, you can target individual rules. As above—don’t just ignore rules if they’re inconvenient (they’re called rules for a reason), but if you have a good reason to make an exception, you can do this:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;title&#34;&gt;test-option3.adoc&lt;/div&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;asciidoc&#34;&gt;&lt;table class=&#34;linenotable&#34;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&#34;linenos gl&#34;&gt;&lt;pre class=&#34;lineno&#34;&gt; 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
&lt;/pre&gt;&lt;/td&gt;&lt;td class=&#34;code&#34;&gt;&lt;pre&gt;= Test doc

This line has an acronym: NAT

pass:[&amp;lt;!-- vale Microsoft.Acronyms = NO --&amp;gt;]
This should trigger one rule violation for do not, but ignore the acronym: BHAG

pass:[&amp;lt;!-- vale Microsoft.Acronyms = YES --&amp;gt;]

pass:[&amp;lt;!-- vale off --&amp;gt;]
This should not trigger a rule violation for do not, nor for the acronym: GTFO

pass:[&amp;lt;!-- vale on --&amp;gt;]

We&amp;#39;ll catch this acronymn tho: FUBAR
&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Vale output is as expected:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code&gt; 3:27   suggestion  &amp;#39;NAT&amp;#39; has no definition.        Microsoft.Acronyms
 6:44   error       Use &amp;#39;don&amp;#39;t&amp;#39; instead of &amp;#39;do      Microsoft.Contractions
                    not&amp;#39;.
 15:32  suggestion  &amp;#39;FUBAR&amp;#39; has no definition.      Microsoft.Acronyms&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    <item>
      <title>Current 2024 - 5k Fun Run (or Walk)</title>
      <link>https://rmoff.net/2024/09/02/current-2024-5k-fun-run-or-walk/</link>
      <pubDate>2024-09-02</pubDate>
      
      <guid>https://rmoff.net/2024/09/02/current-2024-5k-fun-run-or-walk/</guid>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://rmoff.net/images/2024/09/t_current24-run.webp" medium="image" type="image/jpg" width="100" height="100" />
      <description>&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;At &lt;a href=&#34;https://current.confluent.io/&#34;&gt;Current 24&lt;/a&gt; a few of us will be going for an early run (or walk) on Tuesday morning. Everyone is very welcome!&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Going out to stretch our legs before the conference starts has become a bit of a tradition now, starting back with &lt;a href=&#34;https://twitter.com/rmoff/status/1179047181891883008&#34;&gt;Kafka Summit SF 2019&lt;/a&gt;, skipping a few years for 🦠, and resuming with &lt;a href=&#34;https://twitter.com/rmoff/status/1518490053152026624&#34;&gt;Kafka Summit London 2022&lt;/a&gt;, &lt;a href=&#34;https://x.com/rmoff/status/1577271642119892994&#34;&gt;Current 2022&lt;/a&gt;, and &lt;a href=&#34;https://x.com/rmoff/status/1769996561440805312&#34;&gt;Kafka Summit London 2024&lt;/a&gt; earlier this year.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;We’re going to do the same thing again at Current 2024 in Austin!&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/09/austin-dawn.jpg&#34; alt=&#34;Austin in the dawn light&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;hr/&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_who_what_where_when&#34;&gt;Who? What? Where? When?&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;Who&lt;/em&gt;:  Anyone who would like to is very welcome :)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;What&lt;/em&gt;: A 5k (3.1 miles) run or walk around the waterfront in Austin&lt;/p&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;
&lt;/p&gt;&lt;div class=&#34;strava-embed-placeholder&#34; data-embed-type=&#34;route&#34; data-embed-id=&#34;3265727282680501586&#34; data-hide-elevation=&#34;true&#34; data-style=&#34;standard&#34; data-map-hash=&#34;13.16/30.25568/-97.74019&#34; data-from-embed=&#34;true&#34;&gt;&lt;/div&gt;&lt;script src=&#34;https://strava-embeds.com/embed.js&#34;&gt;&lt;/script&gt;
&lt;p&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;Where&lt;/em&gt;: Starting from the &lt;a href=&#34;https://www.marriott.com/en-gb/hotels/travel/ausmd-austin-marriott-downtown&#34;&gt;Austin Marriott Downtown&lt;/a&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;When&lt;/em&gt;: &lt;strong&gt;Tuesday 17th September&lt;/strong&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;We’ll &lt;strong&gt;meet at 06:30&lt;/strong&gt; in the foyer of the &lt;a href=&#34;https://www.marriott.com/en-gb/hotels/travel/ausmd-austin-marriott-downtown&#34;&gt;Austin Marriott Downtown&lt;/a&gt; (just near the convention center). That’ll give us time to congregate and take some &lt;a href=&#34;https://twitter.com/search?q=%23streamingselfie%20%23kafkasummit%20since%3A2022-04-20&amp;amp;src=typed_query&amp;amp;f=live&#34;&gt;&lt;code&gt;#streamingselfie&lt;/code&gt;&lt;/a&gt;s if you want them, before setting off at &lt;strong&gt;06:35 sharp&lt;/strong&gt; to make our way around the &lt;a href=&#34;https://www.strava.com/routes/3265727282680501586&#34;&gt;the 5k route&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Go at your own pace; this isn’t a race. You can run, or walk. Or skip, if you prefer. You can &lt;a href=&#34;https://www.strava.com/routes/3265727282680501586&#34;&gt;download the route&lt;/a&gt; to follow at your leisure. In fact, it’s a good idea to do so because this is not an organised event, so it’s your responsibility not to get lost :-D&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;At 6min/km it’ll take half an hour to get round the 5k route. That should give you plenty of time to then take some more &lt;a href=&#34;https://twitter.com/search?q=%23streamingselfie%20%23kafkasummit%20since%3A2022-04-20&amp;amp;src=typed_query&amp;amp;f=live&#34;&gt;&lt;code&gt;#streamingselfie&lt;/code&gt;&lt;/a&gt;s before heading back into the hotel for breakfast and ready for the &lt;strong&gt;start of the conference at 08:00&lt;/strong&gt; (&lt;a href=&#34;https://events.bizzabo.com/599116/agenda/session/1336760&#34;&gt;breakfast&lt;/a&gt; at 0800, &lt;a href=&#34;https://events.bizzabo.com/599116/agenda/session/1336742&#34;&gt;keynote&lt;/a&gt; at 0900).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;
&lt;iframe src=&#34;https://www.google.com/maps/d/u/0/embed?mid=1Ijdsn04Yk0nWXz0Tvp9BSQbwT7AjbRk&amp;amp;ehbc=2E312F&amp;amp;noprof=1&#34; width=&#34;640&#34; height=&#34;480&#34;&gt;&lt;/iframe&gt;
&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_how_en_lightening&#34;&gt;How en-lightening! 🔦&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;You might consider bringing a head torch—a few bits of the route down by the river are unlit, and &lt;a href=&#34;https://www.timeanddate.com/sun/usa/austin&#34;&gt;sunrise isn’t until 07:08&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_did_someone_say_swag&#34;&gt;Did someone say swag? ✨&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Courtesy of &lt;a href=&#34;https://decodable.co&#34;&gt;Decodable&lt;/a&gt;, there’ll be some exclusive, never-to-be-repeated (until next time) Current 5k run/walk stickers for anyone who takes part.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/09/current24-5k-sticker.webp&#34; alt=&#34;Current 2024 5k run/walk sticker&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Swing by our booth #204 in the expo hall to collect yours :)&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_cool_where_do_i_register&#34;&gt;Cool, where do I register?&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Register at &lt;code&gt;/dev/null&lt;/code&gt; ;-)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;This is an entirely unofficial, barely-organised, thing. Turn up and run, if you want. Don’t, if you don’t. Fully intend to but sleep in from the jetlag and miss it, that’s completely fine 😁&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    <item>
      <title>How I Try To Keep Up With The Data Tech World (A List of Data Blogs)</title>
      <link>https://rmoff.net/2024/05/22/how-i-try-to-keep-up-with-the-data-tech-world-a-list-of-data-blogs/</link>
      <pubDate>2024-05-22</pubDate>
      
      <guid>https://rmoff.net/2024/05/22/how-i-try-to-keep-up-with-the-data-tech-world-a-list-of-data-blogs/</guid>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://rmoff.net/images/2024/05/t_IMG_1798.webp" medium="image" type="image/jpg" width="100" height="100" />
      <description>&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;I do my best to try and keep, if not abreast of, then at least aware of what’s going on in the world of data. That includes RDBMS, Event streaming, stream processing, open source data projects, data engineering, object storage, and more. If you’re interested in the same, then you might find this blog useful, because I’m sharing my sources :)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_sidenote_allow_me_some_nostalgia&#34;&gt;Sidenote: allow me some nostalgia&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;In the &lt;a href=&#34;https://rnm1978.wordpress.com/2009/03/&#34;&gt;&lt;em&gt;really&lt;/em&gt; old days&lt;/a&gt; not that many people blogged. It was kinda weird. There’d be a handful of folk in your circle of interest who also blogged, and you’d maybe have a &lt;em&gt;Blogroll&lt;/em&gt; linking out to their blogs and/or feeds.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;In the old days, a bit after that, more people started blogging, and one had to be organised about following what was written. The fantastic technology that is RSS came about. I used Google Reader (RIP) and followed a ton of blogs. Then Google Reader was infamously killed off, and I switched to Feedly. Then I…dunno. I moved jobs, I didn’t have time, I made excuses, whatever. I stopped following blogs so closely, and instead got my current tech news from Twitter and from colleagues. This was all about seven years ago, and I even &lt;a href=&#34;https://rmoff.net/2017/03/11/keeping-up-with-the-deluge/&#34;&gt;wrote about it&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;In that time, probably around the late 2010’s, RSS started to fade. &lt;code&gt;&amp;lt;RANT&amp;gt;&lt;/code&gt; &lt;em&gt;This is to my eternal horror, and an illustration of the enshittification of the internet. Instead of having an easy way to share material openly using an standard and open format that people could consume with whatever platform or tool they wanted, a bunch of smart people wanting to make money off other people’s content decided it was far more sensible to put up walls. Instead of being able to pull a set of RSS feeds into one place, the reader would instead traipse around numerous platforms to read the material there. Eyeballs, amirite? That, plus a lively tech twitter scene and some clever algorithms meant that folk got their fill of tech news directly. It might have been from blogs, but often direct linked instead of from an RSS feed being followed.&lt;/em&gt; &lt;code&gt;&amp;lt;/RANT&amp;gt;&lt;/code&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Fast-forward to today, and I’m back with a centrally managed RSS feed—and it’s working great 😃&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_rss_is_deadlong_live_rss_all_hail_inoreader&#34;&gt;RSS is dead…long live RSS! (&lt;em&gt;All Hail Inoreader&lt;/em&gt;)&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/05/inoreader.webp&#34; alt=&#34;inoreader&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;I’m using an excellent RSS reader called &lt;a href=&#34;https://www.inoreader.com&#34;&gt;Inoreader&lt;/a&gt;. I spent a bunch of time last year looking at options and settled on this one. It’s got some really nice features on top of simply collecting RSS feeds and organising them into folders including:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Web scraping for blogs that don’t offer RSS (grrrr)—usually does a half decent job of telling you when there’s a new article to read&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Newsletter subscriptions (get a bespoke email; newsletters sent to that address show up in your feed)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Share articles to lots of services plus custom integrations&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Search across feeds&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Feed filters and rules&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create custom RSS feeds from your folders&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Load full content (even if the payload isn’t in the RSS feed itself)&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;There’s a free plan—I pay for the pro one because it’s worth it and I like supporting good projects.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_sowhere_are_these_blogs_then&#34;&gt;So…where are these blogs then?&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;strong&gt;Here’s the OPML for &lt;a href=&#34;https://rmoff.net/code/rmoff-opml-2024-05-22.xml&#34;&gt;all the blogs that I follow at the moment&lt;/a&gt;&lt;/strong&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;My RSS feeds are skewed towards my interest in the data industry—streaming, analytics, data engineering, RDBMS. And just to make it fun it’s got some general tech feeds (HackerNews, Lobste.rs), some podcasts, and some running blogs too. Cos, it’s mine and I curate it :-P&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;The feeds are split into folders of roughly logical grouping. I’ve shared each one below as individual OPML—but if you want to follow along dynamically as I add (or remove) feeds from these folders, you can use the RSS feed of each.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/05/rss.webp&#34; alt=&#34;I heard you liked RSS feeds - so I made an RSS feed of your RSS feeds&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;There is also a web page view (HTML) of each folder too.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_individual_folders&#34;&gt;Individual folders&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_aggregators&#34;&gt;Aggregators&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;A bunch of tags of interest on Medium, Lobste.rs, plus some InfoQ feeds&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://www.inoreader.com/stream/user/1005111311/tag/Aggregators&#34;&gt;RSS&lt;/a&gt; | &lt;a href=&#34;https://www.inoreader.com/stream/user/1005111311/tag/Aggregators/view/html?cs=m&#34;&gt;HTML&lt;/a&gt; | &lt;a href=&#34;https://www.inoreader.com/reader/subscriptions/export/user/1005111311/label/Aggregators&#34;&gt;OPML&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_companies_using_data&#34;&gt;Companies using data&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Everyone who is building stuff with data and writing about it&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://www.inoreader.com/stream/user/1005111311/tag/Companies%20using%20data&#34;&gt;RSS&lt;/a&gt; | &lt;a href=&#34;https://www.inoreader.com/stream/user/1005111311/tag/Companies%20using%20data/view/html?cs=m&#34;&gt;HTML&lt;/a&gt; | &lt;a href=&#34;https://www.inoreader.com/reader/subscriptions/export/user/1005111311/label/Companies%20using%20data&#34;&gt;OPML&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_data_projects_vendors&#34;&gt;Data projects &amp;amp; vendors&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Everyone who is building products for doing stuff with data. Includes both vendors and non-profit projects.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://www.inoreader.com/stream/user/1005111311/tag/Data%20Projects%20and%20Vendors&#34;&gt;RSS&lt;/a&gt; | &lt;a href=&#34;https://www.inoreader.com/stream/user/1005111311/tag/Data%20Projects%20and%20Vendors/view/html?cs=m&#34;&gt;HTML&lt;/a&gt; | &lt;a href=&#34;https://www.inoreader.com/reader/subscriptions/export/user/1005111311/label/Data%20Projects%20and%20Vendors&#34;&gt;OPML&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_software&#34;&gt;Software&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Handful of projects that I follow closely and want to see when there are new releases&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://www.inoreader.com/stream/user/1005111311/tag/Software&#34;&gt;RSS&lt;/a&gt; | &lt;a href=&#34;https://www.inoreader.com/stream/user/1005111311/tag/Software/view/html?cs=m&#34;&gt;HTML&lt;/a&gt; | &lt;a href=&#34;https://www.inoreader.com/reader/subscriptions/export/user/1005111311/label/Software&#34;&gt;OPML&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_individuals_consultancies&#34;&gt;Individuals &amp;amp; Consultancies&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;What it says on the tin. Bit of a broader scope on this one, sometimes just interesting people in the broader field of tech.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://www.inoreader.com/stream/user/1005111311/tag/Individuals%20%26%20Consultancies&#34;&gt;RSS&lt;/a&gt; | &lt;a href=&#34;https://www.inoreader.com/stream/user/1005111311/tag/Individuals%20%26%20Consultancies/view/html?cs=m&#34;&gt;HTML&lt;/a&gt; | &lt;a href=&#34;https://www.inoreader.com/reader/subscriptions/export/user/1005111311/label/Individuals%20%26%20Consultancies&#34;&gt;OPML&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_forums&#34;&gt;Forums&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Apache Kafka and Apache Flink Reddit subs, plus interesting tags on StackOverflow&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://www.inoreader.com/stream/user/1005111311/tag/Forums%20etc&#34;&gt;RSS&lt;/a&gt; | &lt;a href=&#34;https://www.inoreader.com/stream/user/1005111311/tag/Forums%20etc/view/html?cs=m&#34;&gt;HTML&lt;/a&gt; | &lt;a href=&#34;https://www.inoreader.com/reader/subscriptions/export/user/1005111311/label/Forums%20etc&#34;&gt;OPML&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_marketing_devrel&#34;&gt;Marketing &amp;amp; DevRel&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;em&gt;How DARE you put them in the same subheading?&lt;/em&gt; Well, cos there’s &lt;strong&gt;lots&lt;/strong&gt; of overlap.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://www.inoreader.com/stream/user/1005111311/tag/Marketing&#34;&gt;RSS&lt;/a&gt; | &lt;a href=&#34;https://www.inoreader.com/stream/user/1005111311/tag/Marketing/view/html?cs=m&#34;&gt;HTML&lt;/a&gt; | &lt;a href=&#34;https://www.inoreader.com/reader/subscriptions/export/user/1005111311/label/Marketing&#34;&gt;OPML&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_podcasts&#34;&gt;Podcasts&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;A mishmash of podcasts, covering tech, UK politics, current affairs, history, and more. Many of these are dormant, but I keep the subscription in the hope that one they they’ll come back :)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://www.inoreader.com/stream/user/1005111311/tag/Podcasts&#34;&gt;RSS&lt;/a&gt; | &lt;a href=&#34;https://www.inoreader.com/stream/user/1005111311/tag/Podcasts/view/html?cs=m&#34;&gt;HTML&lt;/a&gt; | &lt;a href=&#34;https://www.inoreader.com/reader/subscriptions/export/user/1005111311/label/Podcasts&#34;&gt;OPML&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_running&#34;&gt;Running&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Yep, no tech here. Move on, or join in 🏃‍♂️&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://www.inoreader.com/stream/user/1005111311/tag/Running&#34;&gt;RSS&lt;/a&gt; | &lt;a href=&#34;https://www.inoreader.com/stream/user/1005111311/tag/Running/view/html?cs=m&#34;&gt;HTML&lt;/a&gt; | &lt;a href=&#34;https://www.inoreader.com/reader/subscriptions/export/user/1005111311/label/Running&#34;&gt;OPML&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    <item>
      <title>ngrok DNS headaches</title>
      <link>https://rmoff.net/2024/05/03/ngrok-dns-headaches/</link>
      <pubDate>2024-05-03</pubDate>
      
      <guid>https://rmoff.net/2024/05/03/ngrok-dns-headaches/</guid>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://rmoff.net/images/2024/05/t_IMG_1316.webp" medium="image" type="image/jpg" width="100" height="100" />
      <description>&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Let’s not bury the lede: it was DNS. However, unlike the meme (&lt;em&gt;&amp;#34;It’s not DNS, it’s never DNS. It was DNS&amp;#34;&lt;/em&gt;), I didn’t even have an inkling that DNS might be the problem.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;I’m writing a new blog about streaming Apache Kafka data to Apache Iceberg and wanted to provision a local Kafka cluster to pull data from remotely. I got this working nicely just last year using &lt;a href=&#34;https://rmoff.net/2023/11/01/using-apache-kafka-with-ngrok/&#34;&gt;ngrok to expose the broker to the interwebz&lt;/a&gt;, so figured I’d use this again. Simple, right?&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Nope.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;❯ kcat &lt;span style=&#34;color: #000080&#34;&gt;-L&lt;/span&gt; &lt;span style=&#34;color: #000080&#34;&gt;-b&lt;/span&gt; 4.tcp.eu.ngrok.io:16689
%3|1714734085.241|FAIL|rdkafka#producer-1| &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;[&lt;/span&gt;thrd:4.tcp.eu.ngrok.io:16689/bootstrap]: 4.tcp.eu.ngrok.io:16689/bootstrap: Connect to ipv4#0.0.0.0:16689 failed: Connection refused &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;(&lt;/span&gt;after 4ms &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;state CONNECT&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;)&lt;/span&gt;
%3|1714734086.246|FAIL|rdkafka#producer-1| &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;[&lt;/span&gt;thrd:4.tcp.eu.ngrok.io:16689/bootstrap]: 4.tcp.eu.ngrok.io:16689/bootstrap: Connect to ipv4#0.0.0.0:16689 failed: Connection refused &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;(&lt;/span&gt;after 2ms &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;state CONNECT, 1 identical error&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;(&lt;/span&gt;s&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;)&lt;/span&gt; suppressed&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;)&lt;/span&gt;
% ERROR: Failed to acquire metadata: Local: Broker transport failure &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;(&lt;/span&gt;Are the brokers reachable? Also try increasing the metadata &lt;span style=&#34;color: #0086B3&#34;&gt;timeout &lt;/span&gt;with &lt;span style=&#34;color: #000080&#34;&gt;-m&lt;/span&gt; &amp;lt;&lt;span style=&#34;color: #0086B3&#34;&gt;timeout&lt;/span&gt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;&amp;gt;&lt;/span&gt;?&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Spinning up &lt;a href=&#34;https://rmoff.net/code/docker-compose-ngrok-kafka.yml&#34;&gt;this Docker Compose&lt;/a&gt; should have worked just fine (it did last year!). But for some reason my Kafka broker couldn’t be reached (&lt;code&gt;Connection refused&lt;/code&gt;).&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_the_basic_setup&#34;&gt;The Basic Setup&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;After a lot of poking and prodding and changing stuff and still no luck with Kafka, I decided to strip it back. No Docker Compose, just Kafka. Just netcat listening on a port:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;nc &lt;span style=&#34;color: #000080&#34;&gt;-lk&lt;/span&gt; 4242&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;From another terminal window I can test connectivity to the host/port:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;❯ nc &lt;span style=&#34;color: #000080&#34;&gt;-z&lt;/span&gt; localhost 4242
Connection to localhost port 4242 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;[&lt;/span&gt;tcp/&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;]&lt;/span&gt; succeeded!&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Now let us layer in ngrok, and add a route for the local netcat listener:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;❯ ngrok tcp 4242

Session Status                online
Account                       Robin Moffatt &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;(&lt;/span&gt;Plan: Free&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;)&lt;/span&gt;
Version                       3.9.0
Region                        Europe &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;(&lt;/span&gt;eu&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;)&lt;/span&gt;
Web Interface                 http://127.0.0.1:4040
Forwarding                    tcp://0.tcp.eu.ngrok.io:13810 -&amp;gt; localhost:4242

Connections                   ttl     opn     rt1     rt5     p50     p90
                              0       0       0.00    0.00    0.00    0.00&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;With this, we should be able to connect with netcat on the tcp host/port given:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;❯ nc &lt;span style=&#34;color: #000080&#34;&gt;-vz&lt;/span&gt; 0.tcp.eu.ngrok.io 13810
nc: connectx to 0.tcp.eu.ngrok.io port 13810 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;(&lt;/span&gt;tcp&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;)&lt;/span&gt; failed: Connection refused&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_lets_dig_into_the_problem&#34;&gt;Let’s dig into the problem&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;One thing that I did think of early on was that I run &lt;a href=&#34;https://nextdns.io/&#34;&gt;nextDNS&lt;/a&gt; (similar to &lt;a href=&#34;https://pi-hole.net/&#34;&gt;Pi-Hole&lt;/a&gt;, if you’re familiar with that) which can occassionally have unintended sideeffects when it comes to networking and resolving names. So I disabled it, and tried again:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;❯ nc &lt;span style=&#34;color: #000080&#34;&gt;-vz&lt;/span&gt; 0.tcp.eu.ngrok.io 13810
nc: connectx to 0.tcp.eu.ngrok.io port 13810 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;(&lt;/span&gt;tcp&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;)&lt;/span&gt; failed: Connection refused&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;em&gt;If this was a cop chase movie, at this point the camera would be panning to the side street where the villian is hiding and the police car just drove by…&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Dusting off my troubleshooting command line toolbox, I tried a &lt;code&gt;mtr&lt;/code&gt; (like &lt;code&gt;traceroute&lt;/code&gt; but fancier):&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;                                                                          My traceroute  &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;[&lt;/span&gt;v0.95]
asgard08 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;(&lt;/span&gt;192.168.10.50&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;)&lt;/span&gt; -&amp;gt; 0.tcp.eu.ngrok.io &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;(&lt;/span&gt;81.99.162.48&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;)&lt;/span&gt;                                                                                     2024-05-03T13:43:42+0100
Keys:  Help   Display mode   Restart statistics   Order of fields   quit
                                                                                                                                 Packets               Pings
 Host                                                                                                                          Loss%   Snt   Last   Avg  Best  Wrst StDev
 1. usgmoffattme                                                                                                                0.0%     4    4.2   6.3   4.2   9.0   2.2
 2. 10.53.34.17                                                                                                                 0.0%     4   20.8  18.1  16.4  20.8   2.0
 3. brad-core-2a-ae41-650.network.virginmedia.net                                                                               0.0%     4   41.3  23.7  11.4  41.3  14.0
 4. &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;(&lt;/span&gt;waiting &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;for &lt;/span&gt;reply&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;)&lt;/span&gt;
 5. &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;(&lt;/span&gt;waiting &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;for &lt;/span&gt;reply&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;)&lt;/span&gt;
 6. lang-dclcore-1a-port-channel1.network.virginmedia.net                                                                       0.0%     3   23.6  22.4  20.8  23.6   1.4
 7. lang-sspiprxy.network.virginmedia.net                                                                                       0.0%     3   23.4  24.3  23.4  25.3   0.9&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;What caught my eye here was the final hop—&lt;code&gt;lang-sspiprxy.network.virginmedia.net&lt;/code&gt;. My ISP is Virgin Media, but the only entry I’d expected to see relating to it was my own IP.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Why is traffic for &lt;code&gt;0.tcp.eu.ngrok.io&lt;/code&gt; going to &lt;code&gt;81.99.162.48&lt;/code&gt; (&lt;code&gt;lang-sspiprxy.network.virginmedia.net&lt;/code&gt;)?&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/05/confused.webp&#34; alt=&#34;Confused&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Let’s check the DNS resolution:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;❯ dig 0.tcp.eu.ngrok.io

&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;&lt;/span&gt; &amp;lt;&amp;lt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; DiG 9.10.6 &amp;lt;&amp;lt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; 0.tcp.eu.ngrok.io
&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;;&lt;/span&gt; global options: +cmd
&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;;&lt;/span&gt; Got answer:
&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;;&lt;/span&gt; -&amp;gt;&amp;gt;HEADER&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;&amp;lt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;opcode&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;: QUERY, status: NOERROR, id: 64676
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 512
;; QUESTION SECTION:
;0.tcp.eu.ngrok.io.             IN      A

;; ANSWER SECTION:
0.tcp.eu.ngrok.io.      0       IN      A       81.99.162.48

;; Query time: 85 msec
;; SERVER: 192.168.10.1#53(192.168.10.1)
;; WHEN: Fri May 03 13:47:39 BST 2024
;; MSG SIZE  rcvd: 62&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;The DNS server is my local router (&lt;code&gt;192.168.10.1&lt;/code&gt;) which in turn is defaulting to the ISP’s DNS servers. What about if we use a &lt;a href=&#34;https://www.cloudflare.com/learning/dns/what-is-1.1.1.1/&#34;&gt;trusted public DNS like Cloudflare&lt;/a&gt;&amp;#39;s?&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;❯ dig @1.1.1.1 0.tcp.eu.ngrok.io

&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;&lt;/span&gt; &amp;lt;&amp;lt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; DiG 9.10.6 &amp;lt;&amp;lt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; @1.1.1.1 0.tcp.eu.ngrok.io
&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;&lt;/span&gt; &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;(&lt;/span&gt;1 server found&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;)&lt;/span&gt;
&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;;&lt;/span&gt; global options: +cmd
&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;;&lt;/span&gt; Got answer:
&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;;&lt;/span&gt; -&amp;gt;&amp;gt;HEADER&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;&amp;lt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;opcode&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;: QUERY, status: NOERROR, id: 4513
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 1232
;; QUESTION SECTION:
;0.tcp.eu.ngrok.io.             IN      A

;; ANSWER SECTION:
0.tcp.eu.ngrok.io.      60      IN      A       18.197.239.5

;; Query time: 67 msec
;; SERVER: 1.1.1.1#53(1.1.1.1)
;; WHEN: Fri May 03 13:49:41 BST 2024
;; MSG SIZE  rcvd: 62&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Huh. &lt;code&gt;18.197.239.5&lt;/code&gt; is different from &lt;code&gt;81.99.162.48&lt;/code&gt;, definitely. Now that we’re in the realms of DNS, let’s switch NextDNS back on and see what happens:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;❯ dig 0.tcp.eu.ngrok.io

&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;&lt;/span&gt; &amp;lt;&amp;lt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; DiG 9.10.6 &amp;lt;&amp;lt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; 0.tcp.eu.ngrok.io
&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;;&lt;/span&gt; global options: +cmd
&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;;&lt;/span&gt; Got answer:
&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;;&lt;/span&gt; -&amp;gt;&amp;gt;HEADER&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;&amp;lt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;opcode&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;: QUERY, status: NOERROR, id: 34593
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 4096
; OPT=15: 00 11 42 6c 6f 63 6b 65 64 20 62 79 20 4e 65 78 74 44 4e 53 (&amp;#34;..Blocked by NextDNS&amp;#34;)
;; QUESTION SECTION:
;0.tcp.eu.ngrok.io.             IN      A

;; ANSWER SECTION:
0.tcp.eu.ngrok.io.      300     IN      A       0.0.0.0

;; Query time: 41 msec
;; SERVER: 192.0.2.42#53(192.0.2.42)
;; WHEN: Fri May 03 13:52:06 BST 2024
;; MSG SIZE  rcvd: 103&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Well, just look at that:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;strong&gt;&lt;code&gt;..Blocked by NextDNS&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Now the penny is starting to drop. If you’re particularly observant you’ll notice the error that I showed at the very top of this blog says &lt;code&gt;Connect to ipv4#0.0.0.0:16689 failed&lt;/code&gt; —and &lt;code&gt;0.0.0.0&lt;/code&gt; is what the &lt;code&gt;dig&lt;/code&gt; above shows NextDNS resolves the ngrok hostname to.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;In the logs that NextDNS provides I can see:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/05/nextdns01.webp&#34; alt=&#34;NextDNS screenshot showing DNS resolution for ngrok blocked by Threat Intelligence Feeds blocklist&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;As well as blocking crap like ads and tracking domains, NextDNS also blocks DNS resolutions for sites that are deemed nefarious. It looks like ngrok ended up on one of &lt;a href=&#34;https://www.cloudflare.com/learning/security/glossary/threat-intelligence-feed/&#34;&gt;these lists&lt;/a&gt; - probably because ngrok is sometimes abused to &lt;a href=&#34;https://cyble.com/blog/ngrok-platform-abused-by-hackers-to-deliver-a-new-wave-of-phishing-attacks/&#34;&gt;serve phishing websites&lt;/a&gt; etc. After adding &lt;code&gt;*.ngrok.io&lt;/code&gt; to my NextDNS Allowlist I got this:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;❯ nc &lt;span style=&#34;color: #000080&#34;&gt;-vz&lt;/span&gt; 0.tcp.eu.ngrok.io 13810
Connection to 0.tcp.eu.ngrok.io port 13810 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;[&lt;/span&gt;tcp/&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;]&lt;/span&gt; succeeded!&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Success!&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/05/yay.webp&#34; alt=&#34;Yay&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;So NextDNS was, in a sense, a problem of my own making. But my ISP blocking this traffic is not something I’d expected. It turns out that Virgin Media offer &amp;#34;Web Safe&amp;#34; which includes &amp;#34;Virus Safe&amp;#34; which is enabled by default. After opting out of it, the ngrok address resolved correctly for me too:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;❯ dig 2.tcp.eu.ngrok.io

&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;&lt;/span&gt; &amp;lt;&amp;lt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; DiG 9.10.6 &amp;lt;&amp;lt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;&amp;gt;&amp;gt;&lt;/span&gt; 2.tcp.eu.ngrok.io
&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;;&lt;/span&gt; global options: +cmd
&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;;&lt;/span&gt; Got answer:
&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;;;&lt;/span&gt; -&amp;gt;&amp;gt;HEADER&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;&amp;lt;&amp;lt;-&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;opcode&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;: QUERY, status: NOERROR, id: 6068
;; flags: qr rd ra; QUERY: 1, ANSWER: 1, AUTHORITY: 0, ADDITIONAL: 1

;; OPT PSEUDOSECTION:
; EDNS: version: 0, flags:; udp: 4096
;; QUESTION SECTION:
;2.tcp.eu.ngrok.io.             IN      A

;; ANSWER SECTION:
2.tcp.eu.ngrok.io.      13      IN      A       18.197.239.5

;; Query time: 76 msec
;; SERVER: 192.168.10.1#53(192.168.10.1)
;; WHEN: Fri May 03 14:07:49 BST 2024
;; MSG SIZE  rcvd: 62&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_its_all_working&#34;&gt;It’s all working 😅&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;❯ kcat &lt;span style=&#34;color: #000080&#34;&gt;-L&lt;/span&gt; &lt;span style=&#34;color: #000080&#34;&gt;-b&lt;/span&gt; 6.tcp.eu.ngrok.io:12916
Metadata &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;for &lt;/span&gt;all topics &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;(&lt;/span&gt;from broker 1: 6.tcp.eu.ngrok.io:12916/1&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;)&lt;/span&gt;:
 1 brokers:
  broker 1 at 6.tcp.eu.ngrok.io:12916 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;(&lt;/span&gt;controller&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;)&lt;/span&gt;
 0 topics:&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;With ngrok on the Allowlist for NextDNS, everything works great. I’ll probably leave the &amp;#34;Virus Safe&amp;#34; at my ISP switched on unless it continues to cause these kind of problems. I’m also going to switch over my router’s DNS to use Cloudflare (1.1.1.1) in the future.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_footnote_a_final_puzzle_why_does_trace_on_dig_bypass_the_filtering&#34;&gt;Footnote: A final puzzle - why does &lt;code&gt;+trace&lt;/code&gt; on &lt;code&gt;dig&lt;/code&gt; bypass the filtering?&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;This is the case on both NextDNS and Virgin Media. If I put the blocks back to how they were when I started looking at this and run &lt;code&gt;dig&lt;/code&gt; normally, I get the blocked IP result as expected:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color: #999988;font-style: italic&#34;&gt;# NextDNS&lt;/span&gt;
❯ dig +short 0.tcp.eu.ngrok.io
0.0.0.0

&lt;span style=&#34;color: #999988;font-style: italic&#34;&gt;# Virgin Media&lt;/span&gt;
❯ dig +short 0.tcp.eu.ngrok.io
81.99.162.48&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;But if I use &lt;code&gt;+trace&lt;/code&gt; then in amongst the detailed trace info, I get the correct ngrok IP resolution:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color: #999988;font-style: italic&#34;&gt;# NextDNS&lt;/span&gt;
❯ dig +short +trace 0.tcp.eu.ngrok.io
NS a.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;65 ms.
NS b.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;65 ms.
NS c.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;65 ms.
NS d.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;65 ms.
NS e.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;65 ms.
NS f.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;65 ms.
NS g.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;65 ms.
NS h.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;65 ms.
NS i.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;65 ms.
NS j.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;65 ms.
NS k.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;65 ms.
NS l.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;65 ms.
NS m.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;65 ms.
RRSIG NS 8 0 518400 20240516050000 20240503040000 5613 &lt;span style=&#34;color: #0086B3&#34;&gt;.&lt;/span&gt; Gz7tfgerwhD0FAUDn+c/U3b/SrOgMyWaFh+575O7DxjF+yv0hND7AsLL 1gYcf8+n0V77G0XnAOkPJVPpe5cj/75xL6L/+PsaBteVJ0p9ZrsRDV7V
 c+wxa2mR5mgKy4DsAk3PjgI3KfKlzm1YIg82UWs6AFS98V9m59uHM9gK DOTLXm6q38RwaU1cSuxU+QAhxK8xjbt8cbVUjmOyE6GYilZ6Peai02r9 EljH8UM1ulBiSSl4nUo1dgoxabTSVsmV/+CmdaUN8k97alg/vAzRhFc
L YKIg/Y0nryoSZq/wUkwweFvcrr0UrMeH0f6iR5rfaxrrjPcL7E8UrNRU &lt;span style=&#34;color: #008080&#34;&gt;9aHjHg&lt;/span&gt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;==&lt;/span&gt; from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;65 ms.
A 18.158.249.75 from server 205.251.192.146 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;20 ms.

&lt;span style=&#34;color: #999988;font-style: italic&#34;&gt;# Virgin Media&lt;/span&gt;
❯ dig +short +trace 0.tcp.eu.ngrok.io
NS a.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;106 ms.
NS b.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;106 ms.
NS c.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;106 ms.
NS d.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;106 ms.
NS e.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;106 ms.
NS f.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;106 ms.
NS g.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;106 ms.
NS h.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;106 ms.
NS i.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;106 ms.
NS j.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;106 ms.
NS k.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;106 ms.
NS l.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;106 ms.
NS m.root-servers.net. from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;106 ms.
RRSIG NS 8 0 518400 20240516050000 20240503040000 5613 &lt;span style=&#34;color: #0086B3&#34;&gt;.&lt;/span&gt; Gz7tfgerwhD0FAUDn+c/U3b/SrOgMyWaFh+575O7DxjF+yv0hND7AsLL 1gYcf8+n0V77G0XnAOkPJVPpe5cj/75xL6L/+PsaBteVJ0p9ZrsRDV7V
 c+wxa2mR5mgKy4DsAk3PjgI3KfKlzm1YIg82UWs6AFS98V9m59uHM9gK DOTLXm6q38RwaU1cSuxU+QAhxK8xjbt8cbVUjmOyE6GYilZ6Peai02r9 EljH8UM1ulBiSSl4nUo1dgoxabTSVsmV/+CmdaUN8k97alg/vAzRhFc
L YKIg/Y0nryoSZq/wUkwweFvcrr0UrMeH0f6iR5rfaxrrjPcL7E8UrNRU &lt;span style=&#34;color: #008080&#34;&gt;9aHjHg&lt;/span&gt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;==&lt;/span&gt; from server 192.168.10.1 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;106 ms.
A 18.158.249.75 from server 205.251.192.146 &lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;in &lt;/span&gt;19 ms.&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;del&gt;I’d love to hear from you if you can explain what’s happening with this :)&lt;/del&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;em&gt;Thanks to Bill Weiss, and to &lt;a href=&#34;https://phpc.social/@adduc&#34;&gt;John Long&lt;/a&gt; who explained the &lt;code&gt;dig +trace&lt;/code&gt; mystery to me. You can find a good explanation &lt;a href=&#34;https://superuser.com/questions/715632/how-does-dig-trace-actually-work&#34;&gt;here&lt;/a&gt;&lt;/em&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    <item>
      <title>How to stop AWS CLI clearing the screen</title>
      <link>https://rmoff.net/2024/04/26/how-to-stop-aws-cli-clearing-the-screen/</link>
      <pubDate>2024-04-26</pubDate>
      
      <guid>https://rmoff.net/2024/04/26/how-to-stop-aws-cli-clearing-the-screen/</guid>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://rmoff.net/images/2024/04/t_IMG_1105.webp" medium="image" type="image/jpg" width="100" height="100" />
      <description>&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;After a break from using AWS I had reason to reacquaint myself with it again today, and did so via the CLI. The &lt;a href=&#34;https://aws.amazon.com/cli/&#34;&gt;AWS CLI&lt;/a&gt; is pretty intuitive and has a good helptext system, but one thing that kept frustrasting me was that after closing the help text, the screen cleared—so I couldn’t copy the syntax out to use in my command!&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;The same thing happened when I ran a command that returned output - the screen cleared.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Here’s how to fix either, or both, of these&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_aws_cli_help_text_disappears_when_closed&#34;&gt;AWS CLI help text disappears when closed&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;videoblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;video src=&#34;https://rmoff.net/images/2024/04/help0.mp4&#34; controls=&#34;&#34;&gt;
Your browser does not support the video tag.
&lt;/video&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;The fix: set &lt;code&gt;MANPAGER&lt;/code&gt; (&lt;a href=&#34;https://ashley.raiteri.net/stop-aws-cli-help-command-from-clearing-screen/&#34;&gt;h/t&lt;/a&gt;)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color: #0086B3&#34;&gt;export &lt;/span&gt;&lt;span style=&#34;color: #008080&#34;&gt;MANPAGER&lt;/span&gt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;&amp;#39;less -isXF&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;videoblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;video src=&#34;https://rmoff.net/images/2024/04/help1.mp4&#34; controls=&#34;&#34;&gt;
Your browser does not support the video tag.
&lt;/video&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_aws_cli_command_output_disappears_when_closed&#34;&gt;AWS CLI command output disappears when closed&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Similar to the above, but a different solution, which confuses the issue when Googling :)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;You run a command, you want to refer to the output, but as soon as you return to the command prompt it’s gone 🤨&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;videoblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;video src=&#34;https://rmoff.net/images/2024/04/help2.mp4&#34; controls=&#34;&#34;&gt;
Your browser does not support the video tag.
&lt;/video&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;The fix: make sure that &lt;code&gt;AWS_PAGER&lt;/code&gt; is set to the correct invocation of &lt;code&gt;less&lt;/code&gt;. Or other options, including setting &lt;code&gt;--no-cli-pager&lt;/code&gt; argument. This &lt;a href=&#34;https://docs.aws.amazon.com/cli/latest/userguide/cli-usage-pagination.html#cli-usage-pagination-clientside&#34;&gt;is documented&lt;/a&gt; if you want to read more.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color: #0086B3&#34;&gt;export &lt;/span&gt;&lt;span style=&#34;color: #008080&#34;&gt;AWS_PAGER&lt;/span&gt;&lt;span style=&#34;color: #000000;font-weight: bold&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color: #d14&#34;&gt;&amp;#39;less -isXF&amp;#39;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;or simply&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;color: #0086B3&#34;&gt;unset &lt;/span&gt;AWS_PAGER&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;videoblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;video src=&#34;https://rmoff.net/images/2024/04/help3.mp4&#34; controls=&#34;&#34;&gt;
Your browser does not support the video tag.
&lt;/video&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    <item>
      <title>🏃🚶 The unofficial Kafka Summit London 2024  Run/Walk 🏃🚶</title>
      <link>https://rmoff.net/2024/03/15/the-unofficial-kafka-summit-london-2024-run/walk/</link>
      <pubDate>2024-03-15</pubDate>
      
      <guid>https://rmoff.net/2024/03/15/the-unofficial-kafka-summit-london-2024-run/walk/</guid>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://rmoff.net/images/2024/03/th_2024-03-15_14-32-45_8787.webp" medium="image" type="image/jpg" width="100" height="100" />
      <description>&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;At this year’s Kafka Summit I’m planning to continue the tradition of going for a run (or walk) with anyone who’d like to join in. This started back at Kafka Summit San Francisco in 2019 &lt;a href=&#34;https://twitter.com/rmoff/status/1179047181891883008&#34;&gt;over the Golden Gate Bridge&lt;/a&gt; and has continued since then. Whilst London’s Docklands might not offer &lt;em&gt;quite&lt;/em&gt; the same experience it’ll be fun nonetheless.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_who_what_where_when&#34;&gt;Who? What? Where? When?&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;Who&lt;/em&gt;:  Anyone who would like to is very welcome :)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;What&lt;/em&gt;: A 5k (3.1 miles) run or walk&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;Where&lt;/em&gt;: Starting from the Aloft Hotel (next to the ExCeL center), heading up to Beckton Park and taking in some of the Parkrun route.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;em&gt;When&lt;/em&gt;: &lt;strong&gt;Tuesday 19th March&lt;/strong&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;We’ll &lt;strong&gt;meet at 07:00 GMT&lt;/strong&gt; in the carpark in front of the hotel. That’ll give us time to congregate and take some &lt;a href=&#34;https://twitter.com/search?q=%23streamingselfie%20%23kafkasummit%20until%3A2020-03-01&amp;amp;src=typed_query&amp;amp;f=live&#34;&gt;&lt;code&gt;#streamingselfie&lt;/code&gt;&lt;/a&gt;s if you want them, before setting off at 07:10 sharp to make our way around the &lt;a href=&#34;https://www.strava.com/clubs/1039355/group_events/1146993&#34;&gt;the 5k route&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;strava-embed-placeholder&#34; data-embed-type=&#34;route&#34; data-embed-id=&#34;3203732932395497896&#34; data-full-width=&#34;true&#34; data-style=&#34;standard&#34; data-terrain=&#34;2d&#34; data-club-id=&#34;1039355&#34; data-from-embed=&#34;false&#34;&gt;&lt;/div&gt;&lt;script src=&#34;https://strava-embeds.com/embed.js&#34;&gt;&lt;/script&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Go at your own pace; this isn’t a race. You can run, or walk. Or skip, if you prefer. You can &lt;a href=&#34;https://strava.app.link/IjwMA4dI4Hb&#34;&gt;download the route&lt;/a&gt; to follow at your leisure. In fact, it’s a good idea to do so because this is not an organised event, so it’s your responsibility not to get lost :-D&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;If you Strava, feel free to join the &lt;a href=&#34;https://www.strava.com/clubs/1039355&#34;&gt;Strava Club&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_cool_where_do_i_register&#34;&gt;Cool, where do I register?&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Register at &lt;code&gt;/dev/null&lt;/code&gt; ;-)&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;This is an entirely unofficial, barely-organised, thing. Turn up and run, if you want. Don’t, if you don’t. Fully intend to but sleep in from the jetlag and miss it, that’s completely fine 😁&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    <item>
      <title>Apache Flink talks at Kafka Summit London 2024</title>
      <link>https://rmoff.net/2024/03/15/apache-flink-talks-at-kafka-summit-london-2024/</link>
      <pubDate>2024-03-15</pubDate>
      
      <guid>https://rmoff.net/2024/03/15/apache-flink-talks-at-kafka-summit-london-2024/</guid>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://rmoff.net/images/2024/03/2024-03-06_19-47-51_3495.webp" medium="image" type="image/jpg" width="100" height="100" />
      <description>&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;This year Kafka Summit London includes a dedicated track for talks about Apache Flink. This reflects the continued rise of interest and use of Apache Flink in the streaming community, as well as the focus that Confluent (the hosts of Kafka Summit) has on it.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;I’m looking forward to being back at Kafka Summit. I will be speaking on Tuesday afternoon, room hosting on Wednesday morning, and hanging out at &lt;a href=&#34;https://www.decodable.co/blog/meet-decodable-at-kafka-summit-london-2024&#34;&gt;the Decodable booth&lt;/a&gt; in between too.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Here’s a list of all the Flink talks, including the talk, time, and speaker. You find find more details, and the full Kafka Summit agenda, &lt;a href=&#34;https://events.bizzabo.com/559905/agenda&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;table class=&#34;tableblock frame-all grid-all stretch&#34;&gt;
&lt;colgroup&gt;
&lt;col style=&#34;width: 50%;&#34;/&gt;
&lt;col style=&#34;width: 20%;&#34;/&gt;
&lt;col style=&#34;width: 15%;&#34;/&gt;
&lt;col style=&#34;width: 15%;&#34;/&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th class=&#34;tableblock halign-left valign-top&#34;&gt;Talk Title&lt;/th&gt;
&lt;th class=&#34;tableblock halign-left valign-top&#34;&gt;Speaker&lt;/th&gt;
&lt;th class=&#34;tableblock halign-left valign-top&#34;&gt;Date and Time&lt;/th&gt;
&lt;th class=&#34;tableblock halign-left valign-top&#34;&gt;Room&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://events.bizzabo.com/559905/agenda/session/1283836&#34;&gt;Code-First Approach: Crafting Efficient Flink Apps&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://x.com/devarispbrown&#34;&gt;DeVaris Brown&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Tue 12:30 PM&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Breakout Room 2&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://events.bizzabo.com/559905/agenda/session/1284919&#34;&gt;Making Sense of Apache Flink: A Fearless Introduction&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://x.com/alpinegizmo&#34;&gt;David Anderson&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Tue 2:00 PM&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Breakout Room 2&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://events.bizzabo.com/559905/agenda/session/1284897&#34;&gt;🐲 Here be &lt;del&gt;Dragons&lt;/del&gt; Stacktraces — Flink SQL for Non-Java Developers&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://x.com/rmoff&#34;&gt;Robin Moffatt&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Tue 3:30 PM&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Breakout Room 2&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://events.bizzabo.com/559905/agenda/session/1315099&#34;&gt;The Definitive Guide to Flink’s Checkpointing&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://x.com/davidmoravek&#34;&gt;David Moravek&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Tue 3:45 PM&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Meetup Hub&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://events.bizzabo.com/559905/agenda/session/1284902&#34;&gt;Stream Processing and Complex Event Processing together with Kafka, Flink and a Rule Engine&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://x.com/dalelane&#34;&gt;Dale Lane&lt;/a&gt; &amp;amp; &lt;a href=&#34;https://x.com/StephaneMery1&#34;&gt;Stephane Mery&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Tue 4:30 PM&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Breakout Room 1&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://events.bizzabo.com/559905/agenda/session/1284931&#34;&gt;Windowing in Kafka Streams and Flink SQL&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://x.com/bbejeck&#34;&gt;Bill Bejeck&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Tue 4:30 PM&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Breakout Room 2&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://events.bizzabo.com/559905/agenda/session/1284937&#34;&gt;Exactly-Once Stream Processing at Scale in Uber&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Si Lao &amp;amp; &lt;a href=&#34;https://x.com/naikrosh&#34;&gt;Roshan Naik&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Tue 5:30 PM&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Breakout Room 1&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://events.bizzabo.com/559905/agenda/session/1284938&#34;&gt;Flink’s SQL Engine: Let’s Open the Engine Room!&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://x.com/twalthr&#34;&gt;Timo Walther&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Tue 5:30 PM&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Breakout Room 2&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://events.bizzabo.com/559905/agenda/session/1284943&#34;&gt;Flink Snapshots: A Comprehensive Guide for New Users&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Danny Cranmer&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Wed 9:00 AM&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Breakout Room 2&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://events.bizzabo.com/559905/agenda/session/1284945&#34;&gt;Decoding the Data Integration Matrix? - Connectors in Kafka Connect and Flink&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Sambhav Jain&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Wed 9:00 AM&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Breakout Room 5&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://events.bizzabo.com/559905/agenda/session/1284944&#34;&gt;Tick, Tick, Tick….Time is Money When Processing Market Data&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Vishanth Bharadwaj &amp;amp; Madhuri Jain&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Wed 9:00 AM&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Breakout Room 4&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://events.bizzabo.com/559905/agenda/session/1284949&#34;&gt;Timing is Everything: Understanding Event-Time Processing in Flink SQL&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://x.com/sharon_rxie&#34;&gt;Sharon Xie&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Wed 10:00 AM&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Breakout Room 2&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://events.bizzabo.com/559905/agenda/session/1315103&#34;&gt;Flink Table API: Streaming Inspired by SQL but in Java&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://x.com/twalthr&#34;&gt;Timo Walther&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Wed 10:15 AM&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Meetup Hub&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://events.bizzabo.com/559905/agenda/session/1284900&#34;&gt;Apache Flink: Building a Company-wide Self-service Streaming Data Platform&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Gleb Shipilov&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Wed 11:00 AM&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Breakout Room 2&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://events.bizzabo.com/559905/agenda/session/1284970&#34;&gt;Data Contracts In Practice With Debezium and Apache Flink&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://x.com/gunnarmorling&#34;&gt;Gunnar Morling&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Wed 1:00 PM&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Breakout Room 2&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://events.bizzabo.com/559905/agenda/session/1284969&#34;&gt;Build Copilots on Streaming Data with Generative AI, Kafka Streams and Flink SQL&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://x.com/shoellinger&#34;&gt;Steffen Hoellinger&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Wed 1:00 PM&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Breakout Room 1&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://events.bizzabo.com/559905/agenda/session/1284977&#34;&gt;Flink 2.0: Navigating the Future of Unified Stream and Batch Processing&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://x.com/MartijnVisser82&#34;&gt;Martijn Visser&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Wed 2:00 PM&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Breakout Room 2&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://events.bizzabo.com/559905/agenda/session/1284983&#34;&gt;Mastering Flink’s Elasticity with the Adaptive Scheduler&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;a href=&#34;https://x.com/davidmoravek&#34;&gt;David Moravek&lt;/a&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Wed 3:00 PM&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Breakout Room 2&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;</description>
    </item>
    <item>
      <title>Antora Deployment to Cloudflare Across Private Repositories with GitHub Actions</title>
      <link>https://rmoff.net/2024/01/17/antora-deployment-to-cloudflare-across-private-repositories-with-github-actions/</link>
      <pubDate>2024-01-17</pubDate>
      
      <guid>https://rmoff.net/2024/01/17/antora-deployment-to-cloudflare-across-private-repositories-with-github-actions/</guid>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://rmoff.net/images/2024/01/t_IMG_7306.webp" medium="image" type="image/jpg" width="100" height="100" />
      <description>&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;At &lt;a href=&#34;https://decodable.co&#34;&gt;Decodable&lt;/a&gt; we migrated our docs platform onto &lt;a href=&#34;https://antora.org/&#34;&gt;Antora&lt;/a&gt;. I wrote &lt;a href=&#34;https://rmoff.net/2023/12/19/deploying-antora-with-github-actions-and-a-private-github-repo/&#34;&gt;previously&lt;/a&gt; about my escapades in getting cross-repository authentication working using &lt;a href=&#34;https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens#types-of-personal-access-tokens&#34;&gt;Private Access Tokens&lt;/a&gt; (PAT). These are fine for just a single user, but they’re tied to that user, which isn’t a good practice for deployment in this case.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;In this article I’ll show how to use GitHub Apps and Installation Access Tokens (IAT) instead, and go into some detail on how we’ve deployed Antora. Our GitHub repositories are private which makes it extra-gnarly.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_overview&#34;&gt;Overview&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;The docs platform is built on &lt;a href=&#34;https://docs.antora.org/antora/latest/&#34;&gt;Antora&lt;/a&gt;, which generates a static site. This is hosted on &lt;a href=&#34;https://pages.cloudflare.com/&#34;&gt;Cloudflare Pages&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;The &lt;strong&gt;docs content&lt;/strong&gt; is on our private &lt;code&gt;code_repo&lt;/code&gt; GitHub repo.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The Antora &lt;strong&gt;platform configuration and build scripts&lt;/strong&gt; is held on the private &lt;code&gt;docs-platform&lt;/code&gt; GitHub repo.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The user interface of the documentation site is taken mostly from the vanilla &lt;a href=&#34;https://gitlab.com/antora/antora-ui-default&#34;&gt;antora-ui-default&lt;/a&gt;, with some small tweaks in this repo.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;GitHub Actions is used to trigger, build, and deploy the docs site.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/01/contents.webp&#34; alt=&#34;Diagram of what content is where&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_why_two_repositories&#34;&gt;Why Two Repositories?&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;One of the brilliant things that Antora supports is the ability to pull in the docs content from a git repository. This can be the same as the one that is hosting the Antora configuration—or as in our case, the repository that holds the code for which the documentation is written.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;This means that when a new feature is released the code and the docs can be kept in lock-step, both deploy and rollback if necessary.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;You can also pull in code from multiple repositories—Antora is super-flexible like this, and supports various styles of code organisation and control.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_build_and_deploy&#34;&gt;Build and Deploy&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;The docs content lives in &lt;code&gt;code_repo&lt;/code&gt; under &lt;code&gt;/docs&lt;/code&gt;. The actual build and deploy happens on the &lt;code&gt;docs-platform&lt;/code&gt; repository, and as a result the process is more complicated than it would be in a single repository.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/01/buildanddeploy.webp&#34; alt=&#34;Diagram of the build and deploy process&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;For &lt;strong&gt;docs changes&lt;/strong&gt;, when a change is pushed to &lt;code&gt;main&lt;/code&gt; on &lt;code&gt;code_repo&lt;/code&gt; that includes a file under &lt;code&gt;/docs/&lt;/code&gt;, the &lt;a href=&#34;https://gist.github.com/rmoff/6d06b0b258a65502828205733b6a8c8e#file-docs-trigger-deploy-yaml&#34;&gt;&lt;code&gt;docs-trigger-deploy.yaml&lt;/code&gt;&lt;/a&gt; workflow runs. This in turn triggers the &lt;a href=&#34;https://gist.github.com/rmoff/6d06b0b258a65502828205733b6a8c8e#file-docs-platform-cloudflare-yaml&#34;&gt;&lt;code&gt;cloudflare.yaml&lt;/code&gt;&lt;/a&gt; workflow on the &lt;code&gt;docs-platform&lt;/code&gt; repository.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;For a &lt;strong&gt;platform change&lt;/strong&gt; the &lt;code&gt;cloudflare.yaml&lt;/code&gt; workflow on the &lt;code&gt;docs-platform&lt;/code&gt; repository will run directly.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_pr_preview_builds&#34;&gt;PR Preview builds&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Not everyone writes perfect docs PRs. I has ben knowwn to right mistaks with speling and grammer, and that’s before you get onto the correctness of documentation which in software is particularly important to be precise and accurate.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;By being able to create a preview of PRs as they are raised it’s easy to seek review from colleagues. However readable Asciidoc might be as a markup language, it’s not going to be more readable than the parsed and rendered web page with its links and images in all their glory. The same goes for PRs against the Antora platform configuration itself—whether customising the skin, tweaking a config—all these things benefit from being able to see them in action &lt;strong&gt;before&lt;/strong&gt; hitting the deploy button.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Thus, when a PR is raised against &lt;code&gt;main&lt;/code&gt; on the &lt;code&gt;docs-platform&lt;/code&gt; or &lt;code&gt;code_repo&lt;/code&gt; repos (and includes a file under &lt;code&gt;/docs/&lt;/code&gt; in the case of the &lt;code&gt;code_repo&lt;/code&gt; repo) a preview docs site is built and deployed to a unique URL.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/01/buildanddeploy_preview.webp&#34; alt=&#34;Diagram of the Preview build and deploy process&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;The build process does some additional things that the production one doesn’t:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;The trigger action &lt;a href=&#34;https://gist.github.com/rmoff/6d06b0b258a65502828205733b6a8c8e#file-docs-trigger-pr-preview-yml-L31-L35&#34;&gt;passes details&lt;/a&gt; about the source PR as &lt;a href=&#34;https://gist.github.com/rmoff/6d06b0b258a65502828205733b6a8c8e#file-docs-platform-preview-cloudflare-yaml-L6-L27&#34;&gt;inputs&lt;/a&gt; to the &lt;code&gt;docs-platform&lt;/code&gt; workflow&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;a href=&#34;https://gist.github.com/rmoff/6d06b0b258a65502828205733b6a8c8e#file-docs-platform-preview-cloudflare-yaml&#34;&gt;preview-cloudflare.yaml&lt;/a&gt; workflow on the &lt;code&gt;docs-platform&lt;/code&gt; modifies the Antora playbook to use the source branch of the PR on the &lt;code&gt;code-repo&lt;/code&gt; repository (instead of &lt;code&gt;main&lt;/code&gt;)&lt;/p&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;-&lt;/span&gt; &lt;span style=&#34;color: #008080&#34;&gt;name&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color: #d14&#34;&gt;If not a platform PR, set the branch of the source repo for antora content&lt;/span&gt;
&lt;span style=&#34;color: #008080&#34;&gt;if&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color: #d14&#34;&gt;github.event_name != &amp;#39;pull_request&amp;#39;&lt;/span&gt;
&lt;span style=&#34;color: #008080&#34;&gt;id&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;color: #d14&#34;&gt;override_antora_playbook_yml&lt;/span&gt;
&lt;span style=&#34;color: #008080&#34;&gt;run&lt;/span&gt;&lt;span style=&#34;background-color: #f8f8f8&#34;&gt;:&lt;/span&gt; &lt;span style=&#34;background-color: #f8f8f8&#34;&gt;|&lt;/span&gt;
    &lt;span style=&#34;color: #d14&#34;&gt;sed -i &amp;#39;7s/main/${{ inputs.pr_branch }}/&amp;#39; antora-playbook.yml&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;It overlays a message on the preview site indicating the PR with which that it is associated.&lt;/p&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/01/pr2.webp&#34; alt=&#34;Screenshot of a preview docs deployment with a PR message overlaid&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Once deployed, it updates the originating PR with the URL of the preview site.&lt;/p&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/01/pr1.webp&#34; alt=&#34;Screenshot of a PR showing the preview URL&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_security_and_configuration_in_github_workflows&#34;&gt;Security and Configuration in GitHub Workflows&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;There are two areas of security that need to be correctly configured:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Cloudflare&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;GitHub Intra-Repository interactions&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/01/securityoverview.webp&#34; alt=&#34;Overview of interactions requiring additional authorisation steps&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_cloudflare&#34;&gt;Cloudflare&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;This one is fairly simple. Store these in the &lt;code&gt;docs-platform&lt;/code&gt; repository settings:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Repository secret: &lt;code&gt;CLOUDFLARE_API_TOKEN&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Repository variable: &lt;code&gt;CLOUDFLARE_ACCOUNT_ID&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;The GitHub Action then uses these when deploying the site to Cloudflare.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_github_intra_repository_interactions&#34;&gt;GitHub Intra-Repository Interactions&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;This is more complicated since the two repositories are private. The following interactions need authorisation beyond what happens by default within a GitHub Workflow:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Actions running in &lt;code&gt;code_repo&lt;/code&gt; repo&lt;/p&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Triggering a workflow in &lt;code&gt;docs-platform&lt;/code&gt; from &lt;code&gt;code_repo&lt;/code&gt; workflow&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Actions running in &lt;code&gt;docs-platform&lt;/code&gt; repo&lt;/p&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;When Antora builds the docs site it needs to clone the &lt;code&gt;code_repo&lt;/code&gt; repository&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Updating the PR issue on &lt;code&gt;code_repo&lt;/code&gt; that triggered the preview build&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;sect3&#34;&gt;
&lt;h4 id=&#34;_how_it_works&#34;&gt;How It Works&lt;/h4&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/01/securitydetail.webp&#34; alt=&#34;Detail of how security works for interactions requiring additional authorisation steps&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;The auth for these is handled using a custom &lt;a href=&#34;https://docs.github.com/en/apps&#34;&gt;GitHub App&lt;/a&gt; (&lt;code&gt;Antora Docs Build Bot&lt;/code&gt;) &lt;a href=&#34;https://docs.github.com/en/apps/creating-github-apps/authenticating-with-a-github-app/about-authentication-with-a-github-app#authentication-as-an-app-installation&#34;&gt;installation&lt;/a&gt; on each repository.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;admonitionblock note&#34;&gt;
&lt;table&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td class=&#34;icon&#34;&gt;
&lt;i class=&#34;fa icon-note&#34; title=&#34;Note&#34;&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class=&#34;content&#34;&gt;
The auth &lt;a href=&#34;https://rmoff.net/2023/12/19/deploying-antora-with-github-actions-and-a-private-github-repo/&#34;&gt;can also be done&lt;/a&gt; using Personal Access Tokens (PAT) but this would then be tied to a particular user’s account and is therefore not suitable for an organisation.
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;When each workflow runs its first step is to use the &lt;a href=&#34;https://github.com/actions/create-github-app-token/tree/v1/?tab=readme-ov-file&#34;&gt;create-github-app-token&lt;/a&gt; action to &lt;a href=&#34;https://docs.github.com/en/apps/creating-github-apps/authenticating-with-a-github-app/authenticating-as-a-github-app-installation#using-an-installation-access-token-to-authenticate-as-an-app-installation&#34;&gt;generate a GitHub App installation access token (IAT)&lt;/a&gt;. This is valid for the session only, and then provides the authorisation for the intra-repository actions.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;The IAT is used in two ways:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;From the &lt;a href=&#34;https://github.com/actions/github-script?tab=readme-ov-file&#34;&gt;github-script&lt;/a&gt; action via &lt;a href=&#34;https://github.com/actions/github-script?tab=readme-ov-file#using-a-separate-github-token&#34;&gt;the optional &lt;code&gt;github-token&lt;/code&gt; parameter&lt;/a&gt;. This is used for two different interactions:&lt;/p&gt;
&lt;div class=&#34;olist loweralpha&#34;&gt;
&lt;ol class=&#34;loweralpha&#34;&gt;
&lt;li&gt;
&lt;p&gt;To trigger the &lt;code&gt;docs-platform&lt;/code&gt; build and deploy workflows from the &lt;code&gt;code_repo&lt;/code&gt; repository.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When the Preview workflow adds a comment to the PR that triggered it. If this PR came from the &lt;code&gt;docs-platform&lt;/code&gt; repository (i.e. local to the action) then no additional auth is needed, but to comment on the &lt;code&gt;code_repo&lt;/code&gt; repository it is.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When Antora builds the site it clones the &lt;code&gt;code_repo&lt;/code&gt; repository. Since this is run from a different repository the default authentication that would apply to an action running in the same repository doesn’t exist. Antora &lt;a href=&#34;https://docs.antora.org/antora/latest/playbook/private-repository-auth/#git-credentials-environment-variable&#34;&gt;performs the authentication&lt;/a&gt; using the pre-specified &lt;code&gt;GIT_CREDENTIALS&lt;/code&gt; environment variable. This &lt;strong&gt;must&lt;/strong&gt; follow the following syntax:&lt;/p&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code&gt;https://x-access-token:$IAT_TOKEN@github.com&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect3&#34;&gt;
&lt;h4 id=&#34;_setting_up_the_github_app&#34;&gt;Setting up the GitHub App&lt;/h4&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;This needs to be done by a user with &lt;code&gt;Owner&lt;/code&gt; rights on the GitHub organisation. The App has to be created in the GitHub organisation, and from there is installed to the two repositories. The GitHub docs &lt;a href=&#34;https://docs.github.com/en/apps/creating-github-apps/registering-a-github-app/registering-a-github-app&#34;&gt;detail the process&lt;/a&gt; - below is a short set of notes covering the essential settings:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;From &lt;a href=&#34;https://github.com/settings/profile&#34;&gt;your GitHub profile page&lt;/a&gt; set the &lt;code&gt;settings context&lt;/code&gt; to that of your organisation, and then click on &lt;code&gt;Developer settings&lt;/code&gt; (at the very bottom of the page) and then &lt;code&gt;GitHub Apps&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click on &lt;code&gt;New GitHub App&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;olist loweralpha&#34;&gt;
&lt;ol class=&#34;loweralpha&#34;&gt;
&lt;li&gt;
&lt;p&gt;Give the new app a name (e.g. &lt;code&gt;Antora Docs Build Bot&lt;/code&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Set the &lt;code&gt;Homepage URL&lt;/code&gt; to that of &lt;code&gt;docs-platform&lt;/code&gt; repo&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Disable &lt;code&gt;Webhook&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Under &lt;code&gt;Repository permissions&lt;/code&gt; set the following&lt;/p&gt;
&lt;table class=&#34;tableblock frame-all grid-all stretch&#34;&gt;
&lt;colgroup&gt;
&lt;col style=&#34;width: 50%;&#34;/&gt;
&lt;col style=&#34;width: 50%;&#34;/&gt;
&lt;/colgroup&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Actions&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Read/Write&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Contents&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Read&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Issues&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Read/Write&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Metadata&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Read&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Pull Requests&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Read/Write&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click &lt;code&gt;Create GitHub App&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Make a note of the App ID. You’ll store this later on as a repository secret.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Scroll down to &lt;code&gt;Private keys&lt;/code&gt; and click on &lt;code&gt;Generate a private key&lt;/code&gt;. Save the resulting &lt;code&gt;.pem&lt;/code&gt; file locally.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Click &lt;code&gt;Install App&lt;/code&gt;&lt;/p&gt;
&lt;div class=&#34;olist loweralpha&#34;&gt;
&lt;ol class=&#34;loweralpha&#34;&gt;
&lt;li&gt;
&lt;p&gt;Install it to the account under which the the &lt;code&gt;docs-platform&lt;/code&gt; and &lt;code&gt;code_repo&lt;/code&gt; repos are (i.e. &lt;code&gt;decodeableco&lt;/code&gt;).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;When prompted which repositories it should be installed to, select &lt;code&gt;Only select repositories&lt;/code&gt; and choose &lt;code&gt;docs-platform&lt;/code&gt; and &lt;code&gt;code_repo&lt;/code&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect3&#34;&gt;
&lt;h4 id=&#34;_configuring_repository_secrets_and_variables&#34;&gt;Configuring Repository Secrets and Variables&lt;/h4&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;As a repo admin, on the &lt;code&gt;code_repo&lt;/code&gt; repository add the following repository secrets:&lt;/p&gt;
&lt;/div&gt;
&lt;table class=&#34;tableblock frame-all grid-all stretch&#34;&gt;
&lt;colgroup&gt;
&lt;col style=&#34;width: 50%;&#34;/&gt;
&lt;col style=&#34;width: 50%;&#34;/&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th class=&#34;tableblock halign-left valign-top&#34;&gt;Key&lt;/th&gt;
&lt;th class=&#34;tableblock halign-left valign-top&#34;&gt;Value&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;code&gt;DOCS_APP_ID&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;GitHub App ID&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;code&gt;DOCS_APP_PRIVATE_KEY&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;The full text of the .pem, including the &lt;code&gt;BEGIN RSA PRIVATE KEY&lt;/code&gt; and &lt;code&gt;END RSA PRIVATE KEY&lt;/code&gt; header and footer&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;As a repo admin, on the &lt;code&gt;docs-platform&lt;/code&gt; add the following repository secrets&lt;/p&gt;
&lt;/div&gt;
&lt;table class=&#34;tableblock frame-all grid-all stretch&#34;&gt;
&lt;colgroup&gt;
&lt;col style=&#34;width: 50%;&#34;/&gt;
&lt;col style=&#34;width: 50%;&#34;/&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th class=&#34;tableblock halign-left valign-top&#34;&gt;Key&lt;/th&gt;
&lt;th class=&#34;tableblock halign-left valign-top&#34;&gt;Value&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;code&gt;DOCS_APP_ID&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;GitHub App ID&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;code&gt;DOCS_APP_PRIVATE_KEY&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;The full text of the .pem, including the &lt;code&gt;BEGIN RSA PRIVATE KEY&lt;/code&gt; and &lt;code&gt;END RSA PRIVATE KEY&lt;/code&gt; header and footer&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;code&gt;CLOUDFLARE_API_TOKEN&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;API token from Cloudflare&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;and the following repository variable&lt;/p&gt;
&lt;/div&gt;
&lt;table class=&#34;tableblock frame-all grid-all stretch&#34;&gt;
&lt;colgroup&gt;
&lt;col style=&#34;width: 50%;&#34;/&gt;
&lt;col style=&#34;width: 50%;&#34;/&gt;
&lt;/colgroup&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th class=&#34;tableblock halign-left valign-top&#34;&gt;Key&lt;/th&gt;
&lt;th class=&#34;tableblock halign-left valign-top&#34;&gt;Value&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;&lt;code&gt;CLOUDFLARE_ACCOUNT_ID&lt;/code&gt;&lt;/p&gt;&lt;/td&gt;
&lt;td class=&#34;tableblock halign-left valign-top&#34;&gt;&lt;p class=&#34;tableblock&#34;&gt;Cloudflare Account ID&lt;/p&gt;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_addendum_deploying_antora_using_aws_amplify_and_github_workflows&#34;&gt;Addendum: Deploying Antora using AWS Amplify and GitHub Workflows&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;For &lt;code&gt;$REASONS&lt;/code&gt; we ended up using AWS Amplify. You can find the build scripts &lt;a href=&#34;https://gist.github.com/rmoff/867322d0ff0659084981d786d9048231&#34;&gt;here&lt;/a&gt;. There are three scripts:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Preview deployment (triggered by a PR creation)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Live deployment (triggered by a merge to &lt;code&gt;main&lt;/code&gt;)&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Teardown preview (triggered by a PR being closed)&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    
  </channel>
</rss>