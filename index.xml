<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>rmoff&#39;s random ramblings</title>
    <link>https://rmoff.net/</link>
    <description>Recent content on rmoff&#39;s random ramblings</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>2024-01-16</lastBuildDate>
    
        <atom:link href="https://rmoff.net/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>Hosting on GitHub Pages? Watch out for Subdomain Hijacking</title>
      <link>https://rmoff.net/2024/01/16/hosting-on-github-pages-watch-out-for-subdomain-hijacking/</link>
      <pubDate>2024-01-16</pubDate>
      
      <guid>https://rmoff.net/2024/01/16/hosting-on-github-pages-watch-out-for-subdomain-hijacking/</guid>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://rmoff.net/images/2024/01/t_IMG_7342.webp" medium="image" type="image/jpg" width="100" height="100" />
      <description>&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;A friend messaged me late last night with the scary news that Google had emailed him about a ton of spammy subdomains on his own domain.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/01/g1.webp&#34; alt=&#34;A list of spam domains as reported by Google&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;em&gt;Any idea how this could have happened, he asked?&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Security is &lt;strong&gt;not&lt;/strong&gt; my bag, but I do like poking around things to understand how they tick, and this particular exploit kinda intrigued me by its simplicity. I’m a big advocate of running your own blog, but the downside is you also own some (PaaS) or all (IaaS) of the security. Here’s an example where things can slip if you’re not careful.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_a_quick_primer_on_github_pages&#34;&gt;A Quick Primer on GitHub Pages&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;a href=&#34;https://pages.github.com/&#34;&gt;GitHub Pages&lt;/a&gt; give you the very nice ability to host a static site for free. Dump some HTML into a GitHub repository, tell GitHub to activate it for GitHub Pages, and off you go!&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;What’s more, you can use a &lt;a href=&#34;https://docs.github.com/en/pages/configuring-a-custom-domain-for-your-github-pages-site&#34;&gt;custom domain&lt;/a&gt;. So instead of &lt;code&gt;your_user.github.io&lt;/code&gt; you can send users to &lt;code&gt;fancy-website.com&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_github_pages_is_one_set_of_servers_serving_many_websites_not_just_yours&#34;&gt;GitHub Pages Is One Set Of Servers Serving Many Websites Not Just Yours&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;When you breathlessly type in &lt;code&gt;rmoff.net&lt;/code&gt; to your browser to read my latest ramblings it’s not going to a dedicated IP address. It’s going to the GitHub Pages web server farm, which sees the request for &lt;code&gt;rmoff.net&lt;/code&gt; and happily serves up the requested content.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;How does your browser know to ask GitHub Pages for &lt;code&gt;rmoff.net&lt;/code&gt;? DNS.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;❯ nslookup rmoff.net
Server:         192.168.10.1
Address:        192.168.10.1#53

Non-authoritative answer:
Name:   rmoff.net
Address: 185.199.108.153&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;That &lt;code&gt;185.199.108.153&lt;/code&gt; is an IP address for GitHub Pages&amp;#39; servers, and it’s where your browser will fetch the actual content from.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_heres_the_hijack&#34;&gt;Here’s the Hijack&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Let’s look at a real example, using another of my domains—&lt;code&gt;rmoff.info&lt;/code&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_part_1_dns_cname_wildcard&#34;&gt;Part 1 - DNS CNAME Wildcard&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Here’s a seemingly-innocuous (to the untrained eye, i.e. me) set of DNS records for &lt;code&gt;rmoff.info&lt;/code&gt;:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/01/dns1.webp&#34; alt=&#34;DNS records for rmoff.info pointing to GH servers&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;The brace of IP addresses is the servers from which GitHub Pages is serving the rmoff.info site.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;admonitionblock note&#34;&gt;
&lt;table&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td class=&#34;icon&#34;&gt;
&lt;i class=&#34;fa icon-note&#34; title=&#34;Note&#34;&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class=&#34;content&#34;&gt;
If you’re eagle-eyed you might notice that the list here &lt;em&gt;includes&lt;/em&gt; the IP address that we saw above, which is for a &lt;strong&gt;different&lt;/strong&gt; domain. That’s by design and key to this issue.
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;So if I lookup the IP address for &lt;code&gt;rmoff.info&lt;/code&gt;, as expected I get back this set of IPs for GitHub Pages:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;❯ dig +short moff.info
185.199.108.153
185.199.111.153
185.199.110.153
185.199.109.153&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;What about a random subdomain?&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;listingblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;pre class=&#34;rouge highlight&#34; style=&#34;background-color: #f8f8f8&#34;&gt;&lt;code data-lang=&#34;bash&#34;&gt;❯ dig +short spammy-crap.rmoff.info
rmoff.info.
185.199.108.153
185.199.111.153
185.199.110.153
185.199.109.153&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Huh - turns out I &lt;strong&gt;also&lt;/strong&gt; get the IP addresses for the GitHub Pages servers.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/01/dns2.webp&#34; alt=&#34;Wilcard DNS records for rmoff.info&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Herein lies the first part of the problem. The wildcard CNAME entry will match &lt;strong&gt;any&lt;/strong&gt; subdomain and redirect it to &lt;code&gt;rmoff.info&lt;/code&gt; (known as the &amp;#34;apex&amp;#34;, or root). This in turn is configured as we saw above to point to the GitHub Pages addresses. And thus any request for a subdomain will be directed to GitHub Pages&amp;#39; servers.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect2&#34;&gt;
&lt;h3 id=&#34;_part_2_github_pages_is_not_fussy&#34;&gt;Part 2 - GitHub Pages Is Not Fussy&lt;/h3&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;When I create &lt;a href=&#34;https://github.com/rmoff/rmoff.github.io/blob/master/CNAME&#34;&gt;the &lt;code&gt;CNAME&lt;/code&gt; for my blog on GitHub Pages&lt;/a&gt; I can put &lt;strong&gt;anything&lt;/strong&gt; there. Same with the custom domain configuration in GitHub Pages settings:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/01/ghp1.webp&#34; alt=&#34;ghp1&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;All this does is tell the GitHub Pages web servers that this content here is for the domain I tell it. If I decide to put in a domain that I don’t own but want to use for nefarious purposes, I can do so. So let’s say I am a h4x0r and want to pwn some subdomains on &lt;code&gt;rmoff.info&lt;/code&gt;. I spin up &lt;a href=&#34;https://github.com/rmoff/sdh-test&#34;&gt;a GitHub pages repo&lt;/a&gt; and put in &lt;code&gt;spammy-crap.rmoff.info&lt;/code&gt; as the custom domain.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/01/ghp2.webp&#34; alt=&#34;ghp2&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;admonitionblock note&#34;&gt;
&lt;table&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td class=&#34;icon&#34;&gt;
&lt;i class=&#34;fa icon-note&#34; title=&#34;Note&#34;&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class=&#34;content&#34;&gt;
I own &lt;code&gt;rmoff.info&lt;/code&gt; so it’s up to me what I do with it, but I’m pretty sure doing this on someone else’s domain with this DNS mis-configuration is gonna be illegal and if not Just Wrong, so don’t.
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;This means that anyone who hits the GitHub Pages web servers (which we’ve seen above is fronted by that block of four IP addresses) asking for &lt;code&gt;spammy-crap.rmoff.info&lt;/code&gt; is going to get served the contents of &lt;a href=&#34;https://github.com/rmoff/sdh-test&#34;&gt;the repository that I created&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Let’s try it out and go click on 🔗 &lt;a href=&#34;http://spammy-crap.rmoff.info&#34;&gt;spammy-crap.rmoff.info&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/01/sdh.webp&#34; alt=&#34;sdh&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_connecting_the_dots&#34;&gt;Connecting the Dots&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;So GitHub Pages can be tricked into serving content for a domain that I don’t own. So what? Who is ever going to find that URL?&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;The next step in the hijacking attack is presumably to try and get Google to index these spam sites (hence the alert that went to my friend), or link to them from other sites, or whatever. The point is, once the URL is out there, it’s in the wild.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Now you, as the owner of the domain, appear to be hosting spam sites, bots, and who-knows-what-else.&lt;/p&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;sect1&#34;&gt;
&lt;h2 id=&#34;_tldr_be_very_careful_with_wildcards_in_dns_records&#34;&gt;tl;dr: Be very careful with wildcards in DNS records&lt;/h2&gt;
&lt;div class=&#34;sectionbody&#34;&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;If you have a wildcard DNS entry, make sure you know 💯 why it’s there. If not, you are leaving yourself wide open to this kind of hijacking of your subdomains. The reputational damage of spammers and ne’er-do-wells besmirching the good name of your domain is not worth it, whether in the eyes of actual visitors who somehow end up on the page, or Google et al who will see this kind of domain abuse as a reason to downgrade your domain itself. Because scammers won’t just create a simple rick-roll—they’ll create many dozens of subdomains, serving all sorts of botnets, phishing sites, and general crap.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;And to recap, all that I needed to do to hijack subdomains was:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;olist arabic&#34;&gt;
&lt;ol class=&#34;arabic&#34;&gt;
&lt;li&gt;
&lt;p&gt;Find a domain with a wildcard in the apex DNS entry (in this case, my own for demonstration purposes).&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create a GitHub Pages repository with its custom domain name configured to a subdomain within this domain.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;That’s it!&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class=&#34;admonitionblock note&#34;&gt;
&lt;table&gt;
&lt;tbody&gt;&lt;tr&gt;
&lt;td class=&#34;icon&#34;&gt;
&lt;i class=&#34;fa icon-note&#34; title=&#34;Note&#34;&gt;&lt;/i&gt;
&lt;/td&gt;
&lt;td class=&#34;content&#34;&gt;
My thanks to &lt;a href=&#34;https://www.linkedin.com/in/oliverhookins/&#34;&gt;Oliver Hookins&lt;/a&gt; for his rapid help in diagnosing and explaining this issue.
&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;em&gt;I have, obviously, removed the wildcard DNS record from &lt;code&gt;rmoff.info&lt;/code&gt; before publishing this, so don’t even try 😝&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;em&gt;I left in place an A record just for &lt;code&gt;spammy-crap&lt;/code&gt; so that you can see the domain→GitHub Pages resolution in practice.&lt;/em&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;imageblock&#34;&gt;
&lt;div class=&#34;content&#34;&gt;
&lt;img src=&#34;https://rmoff.net/images/2024/01/dns0.webp&#34; alt=&#34;Wait&#34; width=&#34;It&amp;#39;s All DNS? Always Has Been&#34;/&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    <item>
      <title>1️⃣🐝🏎️🦆 (1BRC in SQL with DuckDB)</title>
      <link>https://rmoff.net/2024/01/03/1%EF%B8%8F%E2%83%A3%EF%B8%8F-1brc-in-sql-with-duckdb/</link>
      <pubDate>2024-01-03</pubDate>
      
      <guid>https://rmoff.net/2024/01/03/1%EF%B8%8F%E2%83%A3%EF%B8%8F-1brc-in-sql-with-duckdb/</guid>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://rmoff.net/images/2024/01/1brc.png" medium="image" type="image/jpg" width="100" height="100" />
      <description>&lt;p&gt;&lt;strong&gt;Why should the Java folk have all the fun?!&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;My friend and colleague &lt;a href=&#34;https://twitter.com/gunnarmorling/&#34;&gt;Gunnar Morling&lt;/a&gt; &lt;a href=&#34;https://www.morling.dev/blog/one-billion-row-challenge/&#34;&gt;launched a fun challenge&lt;/a&gt; this week: how fast can you aggregate and summarise a billion rows of data? Cunningly named The One Billion Row Challenge (1BRC for short), it&amp;rsquo;s aimed at Java coders to look at new features in the language and optimisation techniques.&lt;/p&gt;
&lt;p&gt;Not being a Java coder myself, and seeing how the challenge has already unofficially spread to other communities &lt;a href=&#34;https://www.reddit.com/r/rust/comments/18ws370/optimizing_a_one_billion_row_challenge_in_rust/&#34;&gt;including Rust and Python&lt;/a&gt; I thought I&amp;rsquo;d join in the fun using what I know best: SQL.&lt;/p&gt;
&lt;h2 id=&#34;setup&#34;&gt;Setup&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;I&amp;rsquo;m running this on my M1 Macbook.&lt;/em&gt;&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Fork &lt;a href=&#34;https://github.com/gunnarmorling/1brc&#34;&gt;the repository&lt;/a&gt; and clone it locally&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Make sure you&amp;rsquo;ve got Java 21 (whether coding in it or not, you need it for generating the billion rows of data). I use &lt;a href=&#34;https://sdkman.io/jdks&#34;&gt;sdkman&lt;/a&gt; because it&amp;rsquo;s easy enough for even someone like me to use ;)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ sdk install java 21.0.1-zulu
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ sdk use java 21.0.1-zulu
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Build the test data generator&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ ./mvnw clean verify
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Generate the test data—you can start smaller if you want by using a value other than 1B :)&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ ./create_measurements.sh &lt;span style=&#34;color:#666&#34;&gt;1000000000&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This will take several minutes to run. Once done you&amp;rsquo;ll have a 13G file to work with:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ ls -hl measurements.txt
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--@ &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt; rmoff  staff    13G  &lt;span style=&#34;color:#666&#34;&gt;3&lt;/span&gt; Jan 11:36 measurements.txt
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Make sure you&amp;rsquo;ve got DuckDB installed - &lt;code&gt;brew install duckdb&lt;/code&gt; is your friend if not.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;load-the-data-into-duckdb&#34;&gt;Load the data into DuckDB&lt;/h2&gt;
&lt;p&gt;I&amp;rsquo;ll start by showing you the steps that I went through to put this together, and then how to run it all in one go.&lt;/p&gt;
&lt;p&gt;The first thing I did was read the CSV file into a DuckDB table. This is in-memory; whilst you can save it as a native DuckDB database I didn&amp;rsquo;t since the reading of the CSV file is part of the timed challenge.&lt;/p&gt;
&lt;p&gt;To get the CSV file into DuckDB I used the &lt;a href=&#34;https://duckdb.org/docs/data/csv/overview&#34;&gt;&lt;code&gt;read_csv_auto&lt;/code&gt;&lt;/a&gt; function. Let&amp;rsquo;s check that this works as expected:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;&#34;&gt;🟡◗&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;READ_CSV_AUTO(&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;measurements.txt&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;LIMIT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;5&lt;/span&gt;;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;┌──────────────────┬─────────┐&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;     &lt;/span&gt;column0&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;column1&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;     &lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;varchar&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;double&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;├──────────────────┼─────────┤&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Lodwar&lt;span style=&#34;color:#bbb&#34;&gt;           &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;44&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Lhasa&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;     &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;2&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;6&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Sokoto&lt;span style=&#34;color:#bbb&#34;&gt;           &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;18&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Moncton&lt;span style=&#34;color:#bbb&#34;&gt;          &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;6&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Lake&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Havasu&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;City&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;16&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;5&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;└──────────────────┴─────────┘&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Note that DuckDB infers the datatypes correctly. We can provide some column names and be explicit about the data types by using the &lt;code&gt;columns&lt;/code&gt; parameter of &lt;code&gt;READ_CSV&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;&#34;&gt;🟡◗&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;READ_CSV(&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;measurements.txt&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;header&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;false&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;columns&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;station_name&amp;#39;&lt;/span&gt;:&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;VARCHAR&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;measurement&amp;#39;&lt;/span&gt;:&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;double&amp;#39;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;}&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;delim&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;;&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;LIMIT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;5&lt;/span&gt;;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;┌──────────────────┬─────────────┐&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;station_name&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;measurement&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;     &lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;varchar&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;double&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;├──────────────────┼─────────────┤&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Lodwar&lt;span style=&#34;color:#bbb&#34;&gt;           &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;44&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Lhasa&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;         &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;2&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;6&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Sokoto&lt;span style=&#34;color:#bbb&#34;&gt;           &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;18&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Moncton&lt;span style=&#34;color:#bbb&#34;&gt;          &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;6&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Lake&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Havasu&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;City&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;16&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;5&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;└──────────────────┴─────────────┘&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Let&amp;rsquo;s get this loaded into a table so that we can work with it more easily:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;&#34;&gt;🟡◗&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;CREATE&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;OR&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;REPLACE&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;TABLE&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;measurements&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;READ_CSV(&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;measurements.txt&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;header&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;false&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;columns&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;station_name&amp;#39;&lt;/span&gt;:&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;VARCHAR&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;measurement&amp;#39;&lt;/span&gt;:&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;double&amp;#39;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;}&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;delim&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;;&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;LIMIT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;2048&lt;/span&gt;;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;strong&gt;NOTE&lt;/strong&gt; I am still using &lt;a href=&#34;https://duckdb.org/docs/sql/query_syntax/limit&#34;&gt;&lt;code&gt;LIMIT&lt;/code&gt;&lt;/a&gt; so that we don&amp;rsquo;t jump into the 1B rows just yet whilst we figure things out. There&amp;rsquo;s also &lt;a href=&#34;https://duckdb.org/docs/sql/samples&#34;&gt;&lt;code&gt;SAMPLE&lt;/code&gt;&lt;/a&gt; but this reads the whole file first—nicer for accurate samples, but not so helpful when we just want &lt;em&gt;any&lt;/em&gt; data so long as it&amp;rsquo;s quick.&lt;/p&gt;
&lt;h2 id=&#34;perform-the-calculations&#34;&gt;Perform the calculations&lt;/h2&gt;
&lt;p&gt;Aggregates are the bread-and-butter of SQL, and are driven by the &lt;a href=&#34;https://duckdb.org/docs/sql/query_syntax/groupby&#34;&gt;&lt;code&gt;GROUP BY&lt;/code&gt;&lt;/a&gt; clause:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;&#34;&gt;🟡◗&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;station_name,&lt;span style=&#34;color:#bbb&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;           &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;MIN&lt;/span&gt;(measurement),&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;           &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AVG&lt;/span&gt;(measurement),&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;           &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;MAX&lt;/span&gt;(measurement)&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;measurements&lt;span style=&#34;color:#bbb&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;GROUP&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;BY&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;station_name&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;LIMIT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;5&lt;/span&gt;;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;┌──────────────┬──────────────────┬────────────────────┬──────────────────┐&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;station_name&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;min&lt;/span&gt;(measurement)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;avg&lt;/span&gt;(measurement)&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;max&lt;/span&gt;(measurement)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;varchar&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;double&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;       &lt;/span&gt;double&lt;span style=&#34;color:#bbb&#34;&gt;       &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;double&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;├──────────────┼──────────────────┼────────────────────┼──────────────────┤&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Lodwar&lt;span style=&#34;color:#bbb&#34;&gt;       &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;             &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;16&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;9&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;31&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;933333333333334&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;             &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;44&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Chongqing&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;              &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;4&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;7&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;              &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;18&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;85&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;             &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;33&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Stockholm&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;             &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;116666666666667&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;             &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;18&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Zürich&lt;span style=&#34;color:#bbb&#34;&gt;       &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;              &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;15&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;633333333333335&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;             &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;20&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;6&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Kampala&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;              &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;9&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;4&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;              &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;18&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;14&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;             &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;31&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;└──────────────┴──────────────────┴────────────────────┴──────────────────┘&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Note the precision shown in the average column, and the 1BRC spec does say:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;rounded to one fractional digit&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;so let&amp;rsquo;s do this, and at the same time alias the calculated fields to useful names:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;&#34;&gt;🟡◗&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;station_name,&lt;span style=&#34;color:#bbb&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;           &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;MIN&lt;/span&gt;(measurement)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;min_measurement,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;           &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;CAST&lt;/span&gt;(&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AVG&lt;/span&gt;(measurement)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;DECIMAL&lt;/span&gt;(&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;,&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;))&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;mean_measurement,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;           &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;MAX&lt;/span&gt;(measurement)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;max_measurement&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;measurements&lt;span style=&#34;color:#bbb&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;GROUP&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;BY&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;station_name&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;LIMIT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;5&lt;/span&gt;;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;┌──────────────┬─────────────────┬──────────────────┬─────────────────┐&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;station_name&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;min_measurement&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;mean_measurement&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;max_measurement&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;varchar&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;     &lt;/span&gt;double&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;decimal&lt;/span&gt;(&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;,&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;     &lt;/span&gt;double&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;├──────────────┼─────────────────┼──────────────────┼─────────────────┤&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Lhasa&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;3&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;             &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;11&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;9&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;31&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Alexandria&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;11&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;             &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;20&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;31&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;6&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Bulawayo&lt;span style=&#34;color:#bbb&#34;&gt;     &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;17&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;5&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;             &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;24&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;7&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;32&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;3&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Guadalajara&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;11&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;4&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;             &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;23&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;36&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;4&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Da&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Nang&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;15&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;3&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;             &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;26&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;39&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;3&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;└──────────────┴─────────────────┴──────────────────┴─────────────────┘&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;formatting-the-output&#34;&gt;Formatting the output&lt;/h2&gt;
&lt;p&gt;The 1BRC spec says that the output needs to be&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;sorted alphabetically by station name&lt;/li&gt;
&lt;li&gt;the result values per station in the format &amp;lt;min&amp;gt;/&amp;lt;mean&amp;gt;/&amp;lt;max&amp;gt;&lt;/li&gt;
&lt;li&gt;rounded to one fractional digit&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;With the example given as:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;{Abha=-23.0/18.0/59.2, Abidjan=-16.2/26.0/67.3, Abéché=-10.0/29.4/69.0, Accra=-10.1/26.4/66.4, Addis Ababa=-23.7/16.0/67.0, Adelaide=-27.8/17.3/58.5, ...}
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;We fixed the precision above, but what about emitting a pseudo-Java output like shown? For that we&amp;rsquo;ll jump through a few hoops.&lt;/p&gt;
&lt;p&gt;Using the &lt;code&gt;||&lt;/code&gt; shorthand for &lt;a href=&#34;https://duckdb.org/docs/sql/functions/char&#34;&gt;&lt;code&gt;CONCAT&lt;/code&gt;&lt;/a&gt; we can append the &lt;code&gt;=&lt;/code&gt; to the station name, and &lt;a href=&#34;https://duckdb.org/docs/sql/functions/char&#34;&gt;&lt;code&gt;CONCAT_WS&lt;/code&gt;&lt;/a&gt; the measurements separated by a &lt;code&gt;/&lt;/code&gt;. To keep things clean I&amp;rsquo;m going to use a &lt;a href=&#34;https://duckdb.org/docs/sql/query_syntax/with&#34;&gt;common table expressions (CTE)&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;&#34;&gt;🟡◗&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;WITH&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;src&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;station_name,&lt;span style=&#34;color:#bbb&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;MIN&lt;/span&gt;(measurement)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;min_measurement,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;CAST&lt;/span&gt;(&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AVG&lt;/span&gt;(measurement)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;DECIMAL&lt;/span&gt;(&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;,&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;))&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;mean_measurement,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;MAX&lt;/span&gt;(measurement)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;max_measurement&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;measurements&lt;span style=&#34;color:#bbb&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;GROUP&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;BY&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;station_name&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;LIMIT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;5&lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;station_name&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;=&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;CONCAT_WS(&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;,min_measurement,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;mean_measurement,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;max_measurement)&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;src;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;┌───────────────────────────────────────────────────────────────────────────────────────────────┐&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;((station_name&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;=&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;concat_ws(&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;min_measurement,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;mean_measurement,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;max_measurement))&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                                            &lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;varchar&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                                            &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;├───────────────────────────────────────────────────────────────────────────────────────────────┤&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Lodwar&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;16&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;9&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;31&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;9&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;44&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                                                                         &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Chongqing&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;4&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;7&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;18&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;9&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;33&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                                                                       &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Stockholm&lt;span style=&#34;color:#666&#34;&gt;=-&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;18&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                                                                       &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Zürich&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;15&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;6&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;20&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;6&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                                                                          &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Kampala&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;9&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;4&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;18&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;31&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                                                                         &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;└───────────────────────────────────────────────────────────────────────────────────────────────┘&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now we can pivot this into a single row, using the &lt;code&gt;LIST&lt;/code&gt; function and &lt;code&gt;LIST_SORT&lt;/code&gt; to sort it. &lt;em&gt;I&amp;rsquo;m not using &lt;code&gt;ORDER BY&lt;/code&gt; for a reason that will become clear shortly.&lt;/em&gt;&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;&#34;&gt;🟡◗&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;WITH&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;src&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;station_name,&lt;span style=&#34;color:#bbb&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;MIN&lt;/span&gt;(measurement)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;min_measurement,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;CAST&lt;/span&gt;(&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AVG&lt;/span&gt;(measurement)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;DECIMAL&lt;/span&gt;(&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;,&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;))&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;mean_measurement,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;MAX&lt;/span&gt;(measurement)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;max_measurement&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;measurements&lt;span style=&#34;color:#bbb&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;GROUP&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;BY&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;station_name&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;LIMIT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;5&lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;LIST_SORT(LIST(station_name&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;=&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;CONCAT_WS(&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;,min_measurement,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;mean_measurement,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;max_measurement)))&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;src;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;     &lt;/span&gt;list_sort(list(((station_name&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;=&amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;concat_ws(&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;min_measurement,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;mean_measurement,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;max_measurement))))&lt;span style=&#34;color:#bbb&#34;&gt;     &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                                                       &lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;varchar&lt;/span&gt;[]&lt;span style=&#34;color:#bbb&#34;&gt;                                                        &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;[Chongqing&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;4&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;7&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;18&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;9&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;33&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Kampala&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;9&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;4&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;18&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;31&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Lodwar&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;16&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;9&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;31&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;9&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;44&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Stockholm&lt;span style=&#34;color:#666&#34;&gt;=-&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;18&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Zürich&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;15&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;6&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;20&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;6&lt;/span&gt;]&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Finally, we&amp;rsquo;ll take this &lt;code&gt;LIST&lt;/code&gt; (which is synonymous with Postgres&amp;rsquo; &lt;code&gt;ARRAY&lt;/code&gt; type) and convert it back to a string for our output using &lt;a href=&#34;https://duckdb.org/docs/sql/functions/nested#array_to_string&#34;&gt;&lt;code&gt;array_to_string&lt;/code&gt;&lt;/a&gt;. It&amp;rsquo;s this additional function which is why I need to use &lt;code&gt;LIST_SORT&lt;/code&gt; rather than &lt;code&gt;ORDER_BY&lt;/code&gt;—if I used the latter I&amp;rsquo;d need another CTE to wrap the LIST.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;&#34;&gt;🟡◗&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;WITH&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;src&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;station_name,&lt;span style=&#34;color:#bbb&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;MIN&lt;/span&gt;(measurement)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;min_measurement,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;CAST&lt;/span&gt;(&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AVG&lt;/span&gt;(measurement)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;DECIMAL&lt;/span&gt;(&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;,&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;))&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;mean_measurement,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;MAX&lt;/span&gt;(measurement)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;max_measurement&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;measurements&lt;span style=&#34;color:#bbb&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;GROUP&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;BY&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;station_name&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;LIMIT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;5&lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;{&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;ARRAY_TO_STRING(LIST_SORT(LIST(station_name&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;=&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;CONCAT_WS(&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;,min_measurement,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;mean_measurement,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;max_measurement))),&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;, &amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;}&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;1BRC&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;src;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                                                          &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;BRC&lt;span style=&#34;color:#bbb&#34;&gt;                                                          &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                                                        &lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;varchar&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                                                         &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;{&lt;/span&gt;Chongqing&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;4&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;7&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;18&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;9&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;33&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Kampala&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;9&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;4&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;18&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;31&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Lodwar&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;16&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;9&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;31&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;9&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;44&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Stockholm&lt;span style=&#34;color:#666&#34;&gt;=-&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;18&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Zürich&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;15&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;6&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;/&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;20&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;6&lt;/span&gt;&lt;span style=&#34;&#34;&gt;}&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;│&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;wrapping-it-all-up-with-some-timings-too&#34;&gt;Wrapping it all up (with some timings too)&lt;/h2&gt;
&lt;p&gt;Here&amp;rsquo;s the final SQL file, including some useful DuckDB CLI settings&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.timer&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;on&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;.&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;mode&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;ascii&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;.echo&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;on&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;-- Load the data
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;CREATE&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;OR&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;REPLACE&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;TABLE&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;measurements&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;READ_CSV(&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;measurements.txt&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;header&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;false&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;columns&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;station_name&amp;#39;&lt;/span&gt;:&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;VARCHAR&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;measurement&amp;#39;&lt;/span&gt;:&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;double&amp;#39;&lt;/span&gt;&lt;span style=&#34;&#34;&gt;}&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;delim&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;;&amp;#39;&lt;/span&gt;);&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;-- Run calculations
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;WITH&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;src&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;station_name,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;MIN&lt;/span&gt;(measurement)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;min_measurement,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;CAST&lt;/span&gt;(&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AVG&lt;/span&gt;(measurement)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;DECIMAL&lt;/span&gt;(&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;,&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;))&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;mean_measurement,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;MAX&lt;/span&gt;(measurement)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;max_measurement&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;measurements&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;GROUP&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;BY&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;station_name)&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;{&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;ARRAY_TO_STRING(LIST_SORT(LIST(station_name&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;=&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;CONCAT_WS(&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;,min_measurement,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;mean_measurement,&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;max_measurement))),&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;, &amp;#39;&lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;}&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;1BRC&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;src;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;.quit&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Note that the &lt;code&gt;LIMIT&lt;/code&gt; clause has been removed so the full 1B rows will be loaded.&lt;/p&gt;
&lt;p&gt;Saving this as 1brc.sql and running it gives this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ /usr/bin/time -p duckdb -no-stdin -init 1brc.sql
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-- Loading resources from 1brc.sql
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-- Load the data
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;CREATE OR REPLACE TABLE measurements AS
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        SELECT * FROM READ_CSV&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;measurements.txt&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#19177c&#34;&gt;header&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;false, &lt;span style=&#34;color:#19177c&#34;&gt;columns&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;station_name&amp;#39;&lt;/span&gt;:&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;VARCHAR&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;measurement&amp;#39;&lt;/span&gt;:&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;double&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;}&lt;/span&gt;, &lt;span style=&#34;color:#19177c&#34;&gt;delim&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;100% ▕████████████████████████████████████████████████████████████▏
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Run Time &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;s&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;: real 27.481 user 208.918956 sys 5.429126
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-- Run calculations
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;WITH src AS &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;SELECT station_name,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    MIN&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;measurement&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt; AS min_measurement,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    CAST&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;AVG&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;measurement&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt; AS DECIMAL&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;8,1&lt;span style=&#34;color:#666&#34;&gt;))&lt;/span&gt; AS mean_measurement,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    MAX&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;measurement&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt; AS max_measurement
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            FROM measurements
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            GROUP BY station_name&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    SELECT &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;{&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ARRAY_TO_STRING&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;LIST_SORT&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;LIST&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;station_name &lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt; &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;=&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt; CONCAT_WS&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;,min_measurement, mean_measurement, max_measurement&lt;span style=&#34;color:#666&#34;&gt;)))&lt;/span&gt;,&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;, &amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;}&amp;#39;&lt;/span&gt; AS &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;1BRC&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    FROM src;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;100% ▕████████████████████████████████████████████████████████████▏
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;1BRC&lt;span style=&#34;color:#666&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;Abha&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.0/18.0/69.2, &lt;span style=&#34;color:#19177c&#34;&gt;Abidjan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.4/26.0/75.4, &lt;span style=&#34;color:#19177c&#34;&gt;Abéché&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.1/29.4/77.1, &lt;span style=&#34;color:#19177c&#34;&gt;Accra&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.1/26.4/79.0, Addis &lt;span style=&#34;color:#19177c&#34;&gt;Ababa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.6/16.0/66.8, &lt;span style=&#34;color:#19177c&#34;&gt;Adelaide&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.4/17.3/68.5, &lt;span style=&#34;color:#19177c&#34;&gt;Aden&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-19.3/29.1/77.9, &lt;span style=&#34;color:#19177c&#34;&gt;Ahvaz&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.1/25.4/74.0, &lt;span style=&#34;color:#19177c&#34;&gt;Albuquerque&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.5/14.0/61.8, &lt;span style=&#34;color:#19177c&#34;&gt;Alexandra&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.7/11.0/63.7, &lt;span style=&#34;color:#19177c&#34;&gt;Alexandria&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.2/20.0/74.4, &lt;span style=&#34;color:#19177c&#34;&gt;Algiers&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.2/18.2/68.1, Alice &lt;span style=&#34;color:#19177c&#34;&gt;Springs&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.5/21.0/67.6, &lt;span style=&#34;color:#19177c&#34;&gt;Almaty&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.4/10.0/59.0, &lt;span style=&#34;color:#19177c&#34;&gt;Amsterdam&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.8/10.2/60.6, &lt;span style=&#34;color:#19177c&#34;&gt;Anadyr&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-59.6/-6.9/42.6, &lt;span style=&#34;color:#19177c&#34;&gt;Anchorage&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.3/2.8/53.4, Andorra la &lt;span style=&#34;color:#19177c&#34;&gt;Vella&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-41.5/9.8/59.4, &lt;span style=&#34;color:#19177c&#34;&gt;Ankara&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-41.1/12.0/60.7, &lt;span style=&#34;color:#19177c&#34;&gt;Antananarivo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.3/17.9/69.2, &lt;span style=&#34;color:#19177c&#34;&gt;Antsiranana&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.0/25.2/74.4, &lt;span style=&#34;color:#19177c&#34;&gt;Arkhangelsk&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.8/1.3/58.6, &lt;span style=&#34;color:#19177c&#34;&gt;Ashgabat&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.8/17.1/68.5, &lt;span style=&#34;color:#19177c&#34;&gt;Asmara&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.4/15.6/65.1, &lt;span style=&#34;color:#19177c&#34;&gt;Assab&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.4/30.5/81.7, &lt;span style=&#34;color:#19177c&#34;&gt;Astana&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-46.4/3.5/52.5, &lt;span style=&#34;color:#19177c&#34;&gt;Athens&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.6/19.2/68.3, &lt;span style=&#34;color:#19177c&#34;&gt;Atlanta&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.1/17.0/65.3, &lt;span style=&#34;color:#19177c&#34;&gt;Auckland&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.6/15.2/62.4, &lt;span style=&#34;color:#19177c&#34;&gt;Austin&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-27.3/20.7/67.3, &lt;span style=&#34;color:#19177c&#34;&gt;Baghdad&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.0/22.8/73.4, &lt;span style=&#34;color:#19177c&#34;&gt;Baguio&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.6/19.5/69.2, &lt;span style=&#34;color:#19177c&#34;&gt;Baku&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.6/15.1/63.3, &lt;span style=&#34;color:#19177c&#34;&gt;Baltimore&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.3/13.1/61.8, &lt;span style=&#34;color:#19177c&#34;&gt;Bamako&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.4/27.8/78.7, &lt;span style=&#34;color:#19177c&#34;&gt;Bangkok&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.7/28.6/78.4, &lt;span style=&#34;color:#19177c&#34;&gt;Bangui&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.0/26.0/75.6, &lt;span style=&#34;color:#19177c&#34;&gt;Banjul&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.6/26.0/71.7, &lt;span style=&#34;color:#19177c&#34;&gt;Barcelona&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.3/18.2/65.3, &lt;span style=&#34;color:#19177c&#34;&gt;Bata&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.5/25.1/80.4, &lt;span style=&#34;color:#19177c&#34;&gt;Batumi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.3/14.0/63.0, &lt;span style=&#34;color:#19177c&#34;&gt;Beijing&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.5/12.9/63.9, &lt;span style=&#34;color:#19177c&#34;&gt;Beirut&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.6/20.9/70.9, &lt;span style=&#34;color:#19177c&#34;&gt;Belgrade&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.0/12.5/60.5, Belize &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.4/26.7/75.2, &lt;span style=&#34;color:#19177c&#34;&gt;Benghazi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.9/19.9/72.9, &lt;span style=&#34;color:#19177c&#34;&gt;Bergen&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.5/7.7/54.3, &lt;span style=&#34;color:#19177c&#34;&gt;Berlin&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.6/10.3/61.3, &lt;span style=&#34;color:#19177c&#34;&gt;Bilbao&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.5/14.7/65.9, &lt;span style=&#34;color:#19177c&#34;&gt;Birao&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.7/26.5/76.0, &lt;span style=&#34;color:#19177c&#34;&gt;Bishkek&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.9/11.3/59.6, &lt;span style=&#34;color:#19177c&#34;&gt;Bissau&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.0/27.0/75.0, &lt;span style=&#34;color:#19177c&#34;&gt;Blantyre&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.3/22.2/72.8, &lt;span style=&#34;color:#19177c&#34;&gt;Bloemfontein&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.3/15.6/65.8, &lt;span style=&#34;color:#19177c&#34;&gt;Boise&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.2/11.4/59.2, &lt;span style=&#34;color:#19177c&#34;&gt;Bordeaux&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.1/14.2/64.4, &lt;span style=&#34;color:#19177c&#34;&gt;Bosaso&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.1/30.0/82.5, &lt;span style=&#34;color:#19177c&#34;&gt;Boston&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.1/10.9/61.9, &lt;span style=&#34;color:#19177c&#34;&gt;Bouaké&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.0/26.0/75.9, &lt;span style=&#34;color:#19177c&#34;&gt;Bratislava&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.7/10.5/62.3, &lt;span style=&#34;color:#19177c&#34;&gt;Brazzaville&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.6/25.0/71.4, &lt;span style=&#34;color:#19177c&#34;&gt;Bridgetown&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.3/27.0/79.8, &lt;span style=&#34;color:#19177c&#34;&gt;Brisbane&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.4/21.4/71.4, &lt;span style=&#34;color:#19177c&#34;&gt;Brussels&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.1/10.5/60.7, &lt;span style=&#34;color:#19177c&#34;&gt;Bucharest&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.9/10.8/60.0, &lt;span style=&#34;color:#19177c&#34;&gt;Budapest&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.8/11.3/63.8, &lt;span style=&#34;color:#19177c&#34;&gt;Bujumbura&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.6/23.8/86.6, &lt;span style=&#34;color:#19177c&#34;&gt;Bulawayo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.9/18.9/71.8, &lt;span style=&#34;color:#19177c&#34;&gt;Burnie&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.1/13.1/63.2, &lt;span style=&#34;color:#19177c&#34;&gt;Busan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.8/15.0/64.3, Cabo San &lt;span style=&#34;color:#19177c&#34;&gt;Lucas&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.0/23.9/70.9, &lt;span style=&#34;color:#19177c&#34;&gt;Cairns&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.1/25.0/74.6, &lt;span style=&#34;color:#19177c&#34;&gt;Cairo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-27.2/21.4/71.1, &lt;span style=&#34;color:#19177c&#34;&gt;Calgary&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-43.0/4.4/54.6, &lt;span style=&#34;color:#19177c&#34;&gt;Canberra&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.8/13.1/66.4, Cape &lt;span style=&#34;color:#19177c&#34;&gt;Town&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.0/16.2/64.1, &lt;span style=&#34;color:#19177c&#34;&gt;Changsha&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.1/17.4/68.0, &lt;span style=&#34;color:#19177c&#34;&gt;Charlotte&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.2/16.1/66.0, Chiang &lt;span style=&#34;color:#19177c&#34;&gt;Mai&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.3/25.8/72.7, &lt;span style=&#34;color:#19177c&#34;&gt;Chicago&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.6/9.8/63.3, &lt;span style=&#34;color:#19177c&#34;&gt;Chihuahua&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.6/18.6/72.5, &lt;span style=&#34;color:#19177c&#34;&gt;Chittagong&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.0/25.9/75.1, &lt;span style=&#34;color:#19177c&#34;&gt;Chișinău&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.3/10.2/58.3, &lt;span style=&#34;color:#19177c&#34;&gt;Chongqing&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.9/18.6/70.6, &lt;span style=&#34;color:#19177c&#34;&gt;Christchurch&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.6/12.2/63.0, City of San &lt;span style=&#34;color:#19177c&#34;&gt;Marino&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.6/11.8/61.8, &lt;span style=&#34;color:#19177c&#34;&gt;Colombo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.7/27.4/74.9, &lt;span style=&#34;color:#19177c&#34;&gt;Columbus&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.7/11.7/61.1, &lt;span style=&#34;color:#19177c&#34;&gt;Conakry&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.6/26.4/75.7, &lt;span style=&#34;color:#19177c&#34;&gt;Copenhagen&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.2/9.1/58.4, &lt;span style=&#34;color:#19177c&#34;&gt;Cotonou&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.8/27.2/78.5, &lt;span style=&#34;color:#19177c&#34;&gt;Cracow&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.1/9.3/62.6, Da &lt;span style=&#34;color:#19177c&#34;&gt;Lat&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.1/17.9/65.7, Da &lt;span style=&#34;color:#19177c&#34;&gt;Nang&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.9/25.8/73.5, &lt;span style=&#34;color:#19177c&#34;&gt;Dakar&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.3/24.0/77.6, &lt;span style=&#34;color:#19177c&#34;&gt;Dallas&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.4/19.0/69.6, &lt;span style=&#34;color:#19177c&#34;&gt;Damascus&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.4/17.0/66.5, &lt;span style=&#34;color:#19177c&#34;&gt;Dampier&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.7/26.4/76.5, Dar es &lt;span style=&#34;color:#19177c&#34;&gt;Salaam&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.1/25.8/72.0, &lt;span style=&#34;color:#19177c&#34;&gt;Darwin&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.5/27.6/80.6, &lt;span style=&#34;color:#19177c&#34;&gt;Denpasar&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.2/23.7/71.8, &lt;span style=&#34;color:#19177c&#34;&gt;Denver&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-41.5/10.4/59.5, &lt;span style=&#34;color:#19177c&#34;&gt;Detroit&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.6/10.0/62.4, &lt;span style=&#34;color:#19177c&#34;&gt;Dhaka&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.8/25.9/76.4, &lt;span style=&#34;color:#19177c&#34;&gt;Dikson&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-62.7/-11.1/39.0, &lt;span style=&#34;color:#19177c&#34;&gt;Dili&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.0/26.6/78.4, &lt;span style=&#34;color:#19177c&#34;&gt;Djibouti&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-19.2/29.9/79.6, &lt;span style=&#34;color:#19177c&#34;&gt;Dodoma&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.6/22.7/71.4, &lt;span style=&#34;color:#19177c&#34;&gt;Dolisie&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.8/24.0/75.4, &lt;span style=&#34;color:#19177c&#34;&gt;Douala&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.4/26.7/79.6, &lt;span style=&#34;color:#19177c&#34;&gt;Dubai&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.8/26.9/75.0, &lt;span style=&#34;color:#19177c&#34;&gt;Dublin&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.0/9.8/59.5, &lt;span style=&#34;color:#19177c&#34;&gt;Dunedin&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.7/11.1/64.8, &lt;span style=&#34;color:#19177c&#34;&gt;Durban&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.8/20.6/67.6, &lt;span style=&#34;color:#19177c&#34;&gt;Dushanbe&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.0/14.7/64.1, &lt;span style=&#34;color:#19177c&#34;&gt;Edinburgh&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.0/9.3/60.4, &lt;span style=&#34;color:#19177c&#34;&gt;Edmonton&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.1/4.2/57.7, El &lt;span style=&#34;color:#19177c&#34;&gt;Paso&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.0/18.1/65.6, &lt;span style=&#34;color:#19177c&#34;&gt;Entebbe&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.2/21.0/68.8, &lt;span style=&#34;color:#19177c&#34;&gt;Erbil&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.7/19.5/68.4, &lt;span style=&#34;color:#19177c&#34;&gt;Erzurum&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-59.1/5.1/52.7, &lt;span style=&#34;color:#19177c&#34;&gt;Fairbanks&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-53.7/-2.3/49.5, &lt;span style=&#34;color:#19177c&#34;&gt;Fianarantsoa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.2/17.9/68.1, Flores,  &lt;span style=&#34;color:#19177c&#34;&gt;Petén&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.1/26.4/76.1, &lt;span style=&#34;color:#19177c&#34;&gt;Frankfurt&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.8/10.6/59.0, &lt;span style=&#34;color:#19177c&#34;&gt;Fresno&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.2/17.9/66.9, &lt;span style=&#34;color:#19177c&#34;&gt;Fukuoka&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.4/17.0/66.5, &lt;span style=&#34;color:#19177c&#34;&gt;Gaborone&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.4/21.0/71.1, &lt;span style=&#34;color:#19177c&#34;&gt;Gabès&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.9/19.5/72.1, &lt;span style=&#34;color:#19177c&#34;&gt;Gagnoa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.3/26.0/75.6, &lt;span style=&#34;color:#19177c&#34;&gt;Gangtok&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.2/15.2/64.0, &lt;span style=&#34;color:#19177c&#34;&gt;Garissa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.1/29.3/79.5, &lt;span style=&#34;color:#19177c&#34;&gt;Garoua&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.2/28.3/81.5, George &lt;span style=&#34;color:#19177c&#34;&gt;Town&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.6/27.9/76.6, &lt;span style=&#34;color:#19177c&#34;&gt;Ghanzi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.2/21.4/70.9, Gjoa &lt;span style=&#34;color:#19177c&#34;&gt;Haven&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-65.2/-14.4/35.7, &lt;span style=&#34;color:#19177c&#34;&gt;Guadalajara&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.3/20.9/79.5, &lt;span style=&#34;color:#19177c&#34;&gt;Guangzhou&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.5/22.4/73.1, Guatemala &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.2/20.4/71.3, &lt;span style=&#34;color:#19177c&#34;&gt;Halifax&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-47.6/7.5/53.9, &lt;span style=&#34;color:#19177c&#34;&gt;Hamburg&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.7/9.7/60.2, &lt;span style=&#34;color:#19177c&#34;&gt;Hamilton&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.6/13.8/63.5, Hanga &lt;span style=&#34;color:#19177c&#34;&gt;Roa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-27.6/20.5/69.3, &lt;span style=&#34;color:#19177c&#34;&gt;Hanoi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.9/23.6/74.1, &lt;span style=&#34;color:#19177c&#34;&gt;Harare&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.0/18.4/69.0, &lt;span style=&#34;color:#19177c&#34;&gt;Harbin&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.9/5.0/55.5, &lt;span style=&#34;color:#19177c&#34;&gt;Hargeisa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.0/21.7/72.5, Hat &lt;span style=&#34;color:#19177c&#34;&gt;Yai&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.0/27.0/79.0, &lt;span style=&#34;color:#19177c&#34;&gt;Havana&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.8/25.2/75.7, &lt;span style=&#34;color:#19177c&#34;&gt;Helsinki&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-43.1/5.9/56.2, &lt;span style=&#34;color:#19177c&#34;&gt;Heraklion&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.4/18.9/69.0, &lt;span style=&#34;color:#19177c&#34;&gt;Hiroshima&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.9/16.3/70.1, Ho Chi Minh &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.0/27.4/84.4, &lt;span style=&#34;color:#19177c&#34;&gt;Hobart&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.7/12.7/63.5, Hong &lt;span style=&#34;color:#19177c&#34;&gt;Kong&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.6/23.3/72.2, &lt;span style=&#34;color:#19177c&#34;&gt;Honiara&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.5/26.5/75.4, &lt;span style=&#34;color:#19177c&#34;&gt;Honolulu&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.8/25.4/73.5, &lt;span style=&#34;color:#19177c&#34;&gt;Houston&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.6/20.8/69.1, &lt;span style=&#34;color:#19177c&#34;&gt;Ifrane&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.7/11.4/61.5, &lt;span style=&#34;color:#19177c&#34;&gt;Indianapolis&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.9/11.8/63.6, &lt;span style=&#34;color:#19177c&#34;&gt;Iqaluit&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-57.0/-9.3/41.7, &lt;span style=&#34;color:#19177c&#34;&gt;Irkutsk&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-48.5/1.0/48.6, &lt;span style=&#34;color:#19177c&#34;&gt;Istanbul&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.4/13.9/60.6, &lt;span style=&#34;color:#19177c&#34;&gt;Jacksonville&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.2/20.3/69.9, &lt;span style=&#34;color:#19177c&#34;&gt;Jakarta&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.9/26.7/76.4, &lt;span style=&#34;color:#19177c&#34;&gt;Jayapura&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.0/27.0/75.5, &lt;span style=&#34;color:#19177c&#34;&gt;Jerusalem&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.2/18.3/67.6, &lt;span style=&#34;color:#19177c&#34;&gt;Johannesburg&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.3/15.5/66.9, &lt;span style=&#34;color:#19177c&#34;&gt;Jos&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.9/22.8/71.8, &lt;span style=&#34;color:#19177c&#34;&gt;Juba&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.9/27.8/79.4, &lt;span style=&#34;color:#19177c&#34;&gt;Kabul&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.1/12.1/61.8, &lt;span style=&#34;color:#19177c&#34;&gt;Kampala&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.1/20.0/69.1, &lt;span style=&#34;color:#19177c&#34;&gt;Kandi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.0/27.7/76.9, &lt;span style=&#34;color:#19177c&#34;&gt;Kankan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.0/26.5/74.6, &lt;span style=&#34;color:#19177c&#34;&gt;Kano&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.3/26.4/79.3, Kansas &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.6/12.5/62.8, &lt;span style=&#34;color:#19177c&#34;&gt;Karachi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.3/26.0/81.8, &lt;span style=&#34;color:#19177c&#34;&gt;Karonga&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.9/24.4/72.4, &lt;span style=&#34;color:#19177c&#34;&gt;Kathmandu&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.2/18.3/66.6, &lt;span style=&#34;color:#19177c&#34;&gt;Khartoum&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.2/29.9/80.7, &lt;span style=&#34;color:#19177c&#34;&gt;Kingston&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.5/27.4/82.6, &lt;span style=&#34;color:#19177c&#34;&gt;Kinshasa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.0/25.3/74.0, &lt;span style=&#34;color:#19177c&#34;&gt;Kolkata&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.9/26.7/73.9, Kuala &lt;span style=&#34;color:#19177c&#34;&gt;Lumpur&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.9/27.3/76.2, &lt;span style=&#34;color:#19177c&#34;&gt;Kumasi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.1/26.0/74.6, &lt;span style=&#34;color:#19177c&#34;&gt;Kunming&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.1/15.7/67.9, &lt;span style=&#34;color:#19177c&#34;&gt;Kuopio&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-47.0/3.4/56.9, Kuwait &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.8/25.7/74.1, &lt;span style=&#34;color:#19177c&#34;&gt;Kyiv&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.6/8.4/62.5, &lt;span style=&#34;color:#19177c&#34;&gt;Kyoto&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.9/15.8/62.4, La &lt;span style=&#34;color:#19177c&#34;&gt;Ceiba&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.1/26.2/76.5, La &lt;span style=&#34;color:#19177c&#34;&gt;Paz&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-27.7/23.7/71.5, &lt;span style=&#34;color:#19177c&#34;&gt;Lagos&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.9/26.8/76.1, &lt;span style=&#34;color:#19177c&#34;&gt;Lahore&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.4/24.3/77.3, Lake Havasu &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.0/23.7/77.1, Lake &lt;span style=&#34;color:#19177c&#34;&gt;Tekapo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.7/8.7/62.3, Las Palmas de Gran &lt;span style=&#34;color:#19177c&#34;&gt;Canaria&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.0/21.2/69.9, Las &lt;span style=&#34;color:#19177c&#34;&gt;Vegas&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.4/20.3/72.0, &lt;span style=&#34;color:#19177c&#34;&gt;Launceston&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.5/13.1/62.6, &lt;span style=&#34;color:#19177c&#34;&gt;Lhasa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.2/7.6/59.7, &lt;span style=&#34;color:#19177c&#34;&gt;Libreville&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.8/25.9/75.4, &lt;span style=&#34;color:#19177c&#34;&gt;Lisbon&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.6/17.5/65.5, &lt;span style=&#34;color:#19177c&#34;&gt;Livingstone&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.2/21.8/70.9, &lt;span style=&#34;color:#19177c&#34;&gt;Ljubljana&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.0/10.9/59.3, &lt;span style=&#34;color:#19177c&#34;&gt;Lodwar&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.5/29.3/75.7, &lt;span style=&#34;color:#19177c&#34;&gt;Lomé&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.2/26.9/75.8, &lt;span style=&#34;color:#19177c&#34;&gt;London&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.4/11.3/61.3, Los &lt;span style=&#34;color:#19177c&#34;&gt;Angeles&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.4/18.6/67.7, &lt;span style=&#34;color:#19177c&#34;&gt;Louisville&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.7/13.9/64.1, &lt;span style=&#34;color:#19177c&#34;&gt;Luanda&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.9/25.8/73.5, &lt;span style=&#34;color:#19177c&#34;&gt;Lubumbashi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.5/20.8/70.1, &lt;span style=&#34;color:#19177c&#34;&gt;Lusaka&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.5/19.9/71.8, Luxembourg &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.0/9.3/60.7, &lt;span style=&#34;color:#19177c&#34;&gt;Lviv&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.8/7.8/56.1, &lt;span style=&#34;color:#19177c&#34;&gt;Lyon&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.8/12.5/63.9, &lt;span style=&#34;color:#19177c&#34;&gt;Madrid&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.0/15.0/66.5, &lt;span style=&#34;color:#19177c&#34;&gt;Mahajanga&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.6/26.3/78.7, &lt;span style=&#34;color:#19177c&#34;&gt;Makassar&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.5/26.7/77.7, &lt;span style=&#34;color:#19177c&#34;&gt;Makurdi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.5/26.0/76.8, &lt;span style=&#34;color:#19177c&#34;&gt;Malabo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.6/26.3/75.2, &lt;span style=&#34;color:#19177c&#34;&gt;Malé&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.3/28.0/76.1, &lt;span style=&#34;color:#19177c&#34;&gt;Managua&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.8/27.3/75.9, &lt;span style=&#34;color:#19177c&#34;&gt;Manama&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.0/26.5/74.2, &lt;span style=&#34;color:#19177c&#34;&gt;Mandalay&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.5/28.0/76.8, &lt;span style=&#34;color:#19177c&#34;&gt;Mango&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.7/28.1/76.8, &lt;span style=&#34;color:#19177c&#34;&gt;Manila&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.7/28.4/75.6, &lt;span style=&#34;color:#19177c&#34;&gt;Maputo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.1/22.8/78.7, &lt;span style=&#34;color:#19177c&#34;&gt;Marrakesh&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.3/19.6/70.9, &lt;span style=&#34;color:#19177c&#34;&gt;Marseille&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.0/15.8/66.9, &lt;span style=&#34;color:#19177c&#34;&gt;Maun&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.9/22.4/69.7, &lt;span style=&#34;color:#19177c&#34;&gt;Medan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.2/26.5/76.0, Mek&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;ele=-29.4/22.7/73.3, Melbourne=-38.3/15.1/66.1, Memphis=-33.5/17.2/67.1, Mexicali=-24.0/23.1/71.9, Mexico City=-32.0/17.5/71.3, Miami=-29.6/24.9/75.9, Milan=-33.2/13.0/60.8, Milwaukee=-40.1/8.9/59.1, Minneapolis=-41.5/7.8/56.3, Minsk=-42.8/6.7/54.2, Mogadishu=-21.8/27.1/76.8, Mombasa=-22.8/26.3/76.9, Monaco=-38.1/16.4/66.9, Moncton=-42.1/6.1/59.2, Monterrey=-27.4/22.3/70.4, Montreal=-41.6/6.8/57.2, Moscow=-46.6/5.8/56.8, Mumbai=-23.1/27.1/76.1, Murmansk=-52.9/0.6/51.2, Muscat=-20.6/28.0/74.0, Mzuzu=-31.0/17.7/66.6, N&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;Djamena&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.9/28.3/75.6, &lt;span style=&#34;color:#19177c&#34;&gt;Naha&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.3/23.1/72.2, &lt;span style=&#34;color:#19177c&#34;&gt;Nairobi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.5/17.8/69.6, Nakhon &lt;span style=&#34;color:#19177c&#34;&gt;Ratchasima&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.9/27.3/75.3, &lt;span style=&#34;color:#19177c&#34;&gt;Napier&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.8/14.6/64.5, &lt;span style=&#34;color:#19177c&#34;&gt;Napoli&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.7/15.9/64.9, &lt;span style=&#34;color:#19177c&#34;&gt;Nashville&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.2/15.4/67.1, &lt;span style=&#34;color:#19177c&#34;&gt;Nassau&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.2/24.6/71.8, &lt;span style=&#34;color:#19177c&#34;&gt;Ndola&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.9/20.3/70.9, New &lt;span style=&#34;color:#19177c&#34;&gt;Delhi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.3/25.0/77.2, New &lt;span style=&#34;color:#19177c&#34;&gt;Orleans&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.8/20.7/72.1, New York &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.6/12.9/62.6, &lt;span style=&#34;color:#19177c&#34;&gt;Ngaoundéré&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.1/22.0/69.9, &lt;span style=&#34;color:#19177c&#34;&gt;Niamey&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.6/29.3/78.0, &lt;span style=&#34;color:#19177c&#34;&gt;Nicosia&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.4/19.7/68.2, &lt;span style=&#34;color:#19177c&#34;&gt;Niigata&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.7/13.9/69.4, &lt;span style=&#34;color:#19177c&#34;&gt;Nouadhibou&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.9/21.3/73.9, &lt;span style=&#34;color:#19177c&#34;&gt;Nouakchott&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.6/25.7/73.4, &lt;span style=&#34;color:#19177c&#34;&gt;Novosibirsk&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-47.8/1.7/50.6, &lt;span style=&#34;color:#19177c&#34;&gt;Nuuk&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-53.1/-1.4/49.1, &lt;span style=&#34;color:#19177c&#34;&gt;Odesa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.9/10.7/60.5, &lt;span style=&#34;color:#19177c&#34;&gt;Odienné&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.3/26.0/76.2, Oklahoma &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.6/15.9/66.9, &lt;span style=&#34;color:#19177c&#34;&gt;Omaha&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.2/10.6/65.6, &lt;span style=&#34;color:#19177c&#34;&gt;Oranjestad&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.1/28.1/81.0, &lt;span style=&#34;color:#19177c&#34;&gt;Oslo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.5/5.7/54.8, &lt;span style=&#34;color:#19177c&#34;&gt;Ottawa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.5/6.6/57.8, &lt;span style=&#34;color:#19177c&#34;&gt;Ouagadougou&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.9/28.3/81.2, &lt;span style=&#34;color:#19177c&#34;&gt;Ouahigouya&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.0/28.6/77.4, &lt;span style=&#34;color:#19177c&#34;&gt;Ouarzazate&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.3/18.9/73.1, &lt;span style=&#34;color:#19177c&#34;&gt;Oulu&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.4/2.7/54.9, &lt;span style=&#34;color:#19177c&#34;&gt;Palembang&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.7/27.3/75.9, &lt;span style=&#34;color:#19177c&#34;&gt;Palermo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.1/18.5/71.7, Palm &lt;span style=&#34;color:#19177c&#34;&gt;Springs&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.4/24.5/78.2, Palmerston &lt;span style=&#34;color:#19177c&#34;&gt;North&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.3/13.2/64.8, Panama &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.3/28.0/75.6, &lt;span style=&#34;color:#19177c&#34;&gt;Parakou&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.9/26.8/76.2, &lt;span style=&#34;color:#19177c&#34;&gt;Paris&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.3/12.3/62.7, &lt;span style=&#34;color:#19177c&#34;&gt;Perth&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.1/18.7/72.0, Petropavlovsk-Kamchatsky&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-47.2/1.9/49.2, &lt;span style=&#34;color:#19177c&#34;&gt;Philadelphia&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.3/13.2/64.6, Phnom &lt;span style=&#34;color:#19177c&#34;&gt;Penh&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-18.4/28.3/79.7, &lt;span style=&#34;color:#19177c&#34;&gt;Phoenix&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.5/23.9/73.4, &lt;span style=&#34;color:#19177c&#34;&gt;Pittsburgh&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.0/10.8/60.8, &lt;span style=&#34;color:#19177c&#34;&gt;Podgorica&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.0/15.3/70.7, Pointe-Noire&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.7/26.1/76.1, &lt;span style=&#34;color:#19177c&#34;&gt;Pontianak&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.3/27.7/76.5, Port &lt;span style=&#34;color:#19177c&#34;&gt;Moresby&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.6/26.9/77.9, Port &lt;span style=&#34;color:#19177c&#34;&gt;Sudan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.4/28.4/78.1, Port &lt;span style=&#34;color:#19177c&#34;&gt;Vila&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.1/24.3/74.7, Port-Gentil&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.9/26.0/76.0, Portland &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;OR&lt;span style=&#34;color:#666&#34;&gt;)=&lt;/span&gt;-35.6/12.4/59.7, &lt;span style=&#34;color:#19177c&#34;&gt;Porto&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.5/15.7/63.8, &lt;span style=&#34;color:#19177c&#34;&gt;Prague&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.2/8.4/61.1, &lt;span style=&#34;color:#19177c&#34;&gt;Praia&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.0/24.4/75.6, &lt;span style=&#34;color:#19177c&#34;&gt;Pretoria&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.0/18.2/67.7, &lt;span style=&#34;color:#19177c&#34;&gt;Pyongyang&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.5/10.8/59.3, &lt;span style=&#34;color:#19177c&#34;&gt;Rabat&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.2/17.2/68.7, &lt;span style=&#34;color:#19177c&#34;&gt;Rangpur&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.9/24.4/74.3, &lt;span style=&#34;color:#19177c&#34;&gt;Reggane&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.3/28.3/79.2, &lt;span style=&#34;color:#19177c&#34;&gt;Reykjavík&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-49.4/4.3/53.5, &lt;span style=&#34;color:#19177c&#34;&gt;Riga&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.5/6.2/57.0, &lt;span style=&#34;color:#19177c&#34;&gt;Riyadh&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.1/26.0/74.0, &lt;span style=&#34;color:#19177c&#34;&gt;Rome&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.8/15.2/68.6, &lt;span style=&#34;color:#19177c&#34;&gt;Roseau&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.8/26.2/76.1, Rostov-on-Don&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-41.8/9.9/57.2, &lt;span style=&#34;color:#19177c&#34;&gt;Sacramento&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.3/16.3/67.2, Saint &lt;span style=&#34;color:#19177c&#34;&gt;Petersburg&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.6/5.8/56.4, Saint-Pierre&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-43.4/5.7/56.2, Salt Lake &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.3/11.6/61.8, San &lt;span style=&#34;color:#19177c&#34;&gt;Antonio&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.8/20.8/71.2, San &lt;span style=&#34;color:#19177c&#34;&gt;Diego&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.1/17.8/66.1, San &lt;span style=&#34;color:#19177c&#34;&gt;Francisco&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.3/14.6/60.4, San &lt;span style=&#34;color:#19177c&#34;&gt;Jose&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.0/16.4/65.1, San &lt;span style=&#34;color:#19177c&#34;&gt;José&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.4/22.6/69.7, San &lt;span style=&#34;color:#19177c&#34;&gt;Juan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.5/27.2/77.3, San &lt;span style=&#34;color:#19177c&#34;&gt;Salvador&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.7/23.1/75.1, Sana&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;a=-30.8/20.0/68.6, Santo Domingo=-23.6/25.9/76.6, Sapporo=-38.9/8.9/61.8, Sarajevo=-45.0/10.1/59.4, Saskatoon=-47.3/3.3/51.5, Seattle=-38.1/11.3/60.6, Seoul=-36.0/12.5/61.2, Seville=-32.2/19.2/73.1, Shanghai=-35.1/16.7/67.0, Singapore=-23.7/27.0/81.9, Skopje=-35.5/12.4/64.3, Sochi=-34.3/14.2/65.2, Sofia=-38.2/10.6/61.6, Sokoto=-23.1/28.0/73.2, Split=-32.7/16.1/62.2, St. John&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;s&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.1/5.0/56.4, St. &lt;span style=&#34;color:#19177c&#34;&gt;Louis&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-41.2/13.9/64.2, &lt;span style=&#34;color:#19177c&#34;&gt;Stockholm&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.5/6.6/55.9, &lt;span style=&#34;color:#19177c&#34;&gt;Surabaya&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.4/27.1/76.1, &lt;span style=&#34;color:#19177c&#34;&gt;Suva&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.1/25.6/78.8, &lt;span style=&#34;color:#19177c&#34;&gt;Suwałki&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.4/7.2/62.3, &lt;span style=&#34;color:#19177c&#34;&gt;Sydney&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.1/17.7/68.8, &lt;span style=&#34;color:#19177c&#34;&gt;Ségou&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.2/28.0/75.1, &lt;span style=&#34;color:#19177c&#34;&gt;Tabora&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.7/23.0/73.7, &lt;span style=&#34;color:#19177c&#34;&gt;Tabriz&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.8/12.6/61.9, &lt;span style=&#34;color:#19177c&#34;&gt;Taipei&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.6/23.0/74.8, &lt;span style=&#34;color:#19177c&#34;&gt;Tallinn&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.6/6.4/60.7, &lt;span style=&#34;color:#19177c&#34;&gt;Tamale&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.3/27.9/77.7, &lt;span style=&#34;color:#19177c&#34;&gt;Tamanrasset&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.7/21.7/71.7, &lt;span style=&#34;color:#19177c&#34;&gt;Tampa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.8/22.9/70.4, &lt;span style=&#34;color:#19177c&#34;&gt;Tashkent&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.2/14.8/64.3, &lt;span style=&#34;color:#19177c&#34;&gt;Tauranga&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.9/14.8/66.9, &lt;span style=&#34;color:#19177c&#34;&gt;Tbilisi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.6/12.9/66.2, &lt;span style=&#34;color:#19177c&#34;&gt;Tegucigalpa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-27.1/21.7/74.1, &lt;span style=&#34;color:#19177c&#34;&gt;Tehran&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.5/17.0/73.6, Tel &lt;span style=&#34;color:#19177c&#34;&gt;Aviv&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-27.0/20.0/66.8, &lt;span style=&#34;color:#19177c&#34;&gt;Thessaloniki&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.4/16.0/64.6, &lt;span style=&#34;color:#19177c&#34;&gt;Thiès&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.4/24.0/74.2, &lt;span style=&#34;color:#19177c&#34;&gt;Tijuana&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.9/17.8/67.9, &lt;span style=&#34;color:#19177c&#34;&gt;Timbuktu&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.3/28.0/76.9, &lt;span style=&#34;color:#19177c&#34;&gt;Tirana&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.2/15.2/68.3, &lt;span style=&#34;color:#19177c&#34;&gt;Toamasina&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.2/23.4/78.7, &lt;span style=&#34;color:#19177c&#34;&gt;Tokyo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.5/15.4/62.2, &lt;span style=&#34;color:#19177c&#34;&gt;Toliara&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.4/24.1/74.6, &lt;span style=&#34;color:#19177c&#34;&gt;Toluca&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.5/12.4/60.2, &lt;span style=&#34;color:#19177c&#34;&gt;Toronto&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.7/9.4/62.7, &lt;span style=&#34;color:#19177c&#34;&gt;Tripoli&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.3/20.0/67.9, &lt;span style=&#34;color:#19177c&#34;&gt;Tromsø&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.3/2.9/53.4, &lt;span style=&#34;color:#19177c&#34;&gt;Tucson&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.7/20.9/73.6, &lt;span style=&#34;color:#19177c&#34;&gt;Tunis&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.3/18.4/65.9, &lt;span style=&#34;color:#19177c&#34;&gt;Ulaanbaatar&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-55.5/-0.4/50.6, &lt;span style=&#34;color:#19177c&#34;&gt;Upington&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.9/20.4/76.8, &lt;span style=&#34;color:#19177c&#34;&gt;Vaduz&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.6/10.1/69.8, &lt;span style=&#34;color:#19177c&#34;&gt;Valencia&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.5/18.3/73.8, &lt;span style=&#34;color:#19177c&#34;&gt;Valletta&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.2/18.8/70.1, &lt;span style=&#34;color:#19177c&#34;&gt;Vancouver&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.7/10.4/64.5, &lt;span style=&#34;color:#19177c&#34;&gt;Veracruz&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.0/25.4/76.1, &lt;span style=&#34;color:#19177c&#34;&gt;Vienna&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.5/10.4/63.9, &lt;span style=&#34;color:#19177c&#34;&gt;Vientiane&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.6/25.9/78.1, &lt;span style=&#34;color:#19177c&#34;&gt;Villahermosa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.7/27.1/75.1, &lt;span style=&#34;color:#19177c&#34;&gt;Vilnius&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-43.7/6.0/56.9, Virginia &lt;span style=&#34;color:#19177c&#34;&gt;Beach&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.6/15.8/66.6, &lt;span style=&#34;color:#19177c&#34;&gt;Vladivostok&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-46.6/4.9/55.3, &lt;span style=&#34;color:#19177c&#34;&gt;Warsaw&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.5/8.5/55.2, Washington, D.C.&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.4/14.6/63.7, &lt;span style=&#34;color:#19177c&#34;&gt;Wau&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.0/27.8/79.3, &lt;span style=&#34;color:#19177c&#34;&gt;Wellington&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.5/12.9/61.2, &lt;span style=&#34;color:#19177c&#34;&gt;Whitehorse&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-49.8/-0.1/48.7, &lt;span style=&#34;color:#19177c&#34;&gt;Wichita&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.1/13.9/64.1, &lt;span style=&#34;color:#19177c&#34;&gt;Willemstad&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.4/28.0/79.2, &lt;span style=&#34;color:#19177c&#34;&gt;Winnipeg&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-48.1/3.0/56.5, &lt;span style=&#34;color:#19177c&#34;&gt;Wrocław&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.2/9.6/59.3, Xi&lt;span style=&#34;&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;an&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.3/14.1/64.6, &lt;span style=&#34;color:#19177c&#34;&gt;Yakutsk&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-57.8/-8.8/40.8, &lt;span style=&#34;color:#19177c&#34;&gt;Yangon&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.1/27.5/83.6, &lt;span style=&#34;color:#19177c&#34;&gt;Yaoundé&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.7/23.8/72.9, &lt;span style=&#34;color:#19177c&#34;&gt;Yellowknife&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-52.0/-4.3/42.5, &lt;span style=&#34;color:#19177c&#34;&gt;Yerevan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.5/12.4/63.4, &lt;span style=&#34;color:#19177c&#34;&gt;Yinchuan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.9/9.0/57.6, &lt;span style=&#34;color:#19177c&#34;&gt;Zagreb&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.9/10.7/58.1, Zanzibar &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.9/26.0/77.2, &lt;span style=&#34;color:#19177c&#34;&gt;Zürich&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.0/9.3/56.0, &lt;span style=&#34;color:#19177c&#34;&gt;Ürümqi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.6/7.4/58.1, &lt;span style=&#34;color:#19177c&#34;&gt;İzmir&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.8/17.9/67.9&lt;span style=&#34;color:#666&#34;&gt;}&lt;/span&gt;Run Time &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;s&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;: real 5.327 user 44.402699 sys 4.063590
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.quit
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;real 33.54
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;user 253.39
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sys 10.08
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;This gives us the following timings:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;33.54 seconds elapsed, of which:
&lt;ul&gt;
&lt;li&gt;27.48s reading the file&lt;/li&gt;
&lt;li&gt;5.33s calculations&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;optimisations&#34;&gt;Optimisations&lt;/h2&gt;
&lt;p&gt;If we nest the &lt;code&gt;READ_CSV&lt;/code&gt; directly in the CTE (instead of doing a &lt;code&gt;CREATE TABLE&lt;/code&gt; with it beforehand) then we shave off some time, taking it down to about 26 seconds:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;❯ /usr/bin/time -p duckdb -no-stdin -init 1brc.opt2.sql
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-- Loading resources from 1brc.opt2.sql
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;WITH src AS &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;SELECT station_name,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    MIN&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;measurement&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt; AS min_measurement,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    CAST&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;AVG&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;measurement&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt; AS DECIMAL&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;8,1&lt;span style=&#34;color:#666&#34;&gt;))&lt;/span&gt; AS mean_measurement,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    MAX&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;measurement&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt; AS max_measurement
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            FROM READ_CSV&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;measurements.txt&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#19177c&#34;&gt;header&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;false, &lt;span style=&#34;color:#19177c&#34;&gt;columns&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;station_name&amp;#39;&lt;/span&gt;:&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;VARCHAR&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;measurement&amp;#39;&lt;/span&gt;:&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;double&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;}&lt;/span&gt;, &lt;span style=&#34;color:#19177c&#34;&gt;delim&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            GROUP BY station_name&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    SELECT &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;{&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ARRAY_TO_STRING&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;LIST_SORT&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;LIST&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;station_name &lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt; &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;=&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt; CONCAT_WS&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;,min_measurement, mean_measurement, max_measurement&lt;span style=&#34;color:#666&#34;&gt;)))&lt;/span&gt;,&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;, &amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;}&amp;#39;&lt;/span&gt; AS &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;1BRC&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    FROM src;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;100% ▕████████████████████████████████████████████████████████████▏
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;1BRC&lt;span style=&#34;color:#666&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;Abha&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.0/18.0/69.2, &lt;span style=&#34;color:#19177c&#34;&gt;Abidjan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.4/26.0/75.4, &lt;span style=&#34;color:#19177c&#34;&gt;Abéché&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.1/29.4/77.1, &lt;span style=&#34;color:#19177c&#34;&gt;Accra&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.1/26.4/79.0, Addis &lt;span style=&#34;color:#19177c&#34;&gt;Ababa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.6/16.0/66.8, &lt;span style=&#34;color:#19177c&#34;&gt;Adelaide&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.4/17.3/68.5, &lt;span style=&#34;color:#19177c&#34;&gt;Aden&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-19.3/29.1/77.9, &lt;span style=&#34;color:#19177c&#34;&gt;Ahvaz&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.1/25.4/74.0, &lt;span style=&#34;color:#19177c&#34;&gt;Albuquerque&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.5/14.0/61.8, &lt;span style=&#34;color:#19177c&#34;&gt;Alexandra&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.7/11.0/63.7, &lt;span style=&#34;color:#19177c&#34;&gt;Alexandria&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.2/20.0/74.4, &lt;span style=&#34;color:#19177c&#34;&gt;Algiers&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.2/18.2/68.1, Alice &lt;span style=&#34;color:#19177c&#34;&gt;Springs&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.5/21.0/67.6, &lt;span style=&#34;color:#19177c&#34;&gt;Almaty&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.4/10.0/59.0, &lt;span style=&#34;color:#19177c&#34;&gt;Amsterdam&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.8/10.2/60.6, &lt;span style=&#34;color:#19177c&#34;&gt;Anadyr&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-59.6/-6.9/42.6, &lt;span style=&#34;color:#19177c&#34;&gt;Anchorage&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.3/2.8/53.4, Andorra la &lt;span style=&#34;color:#19177c&#34;&gt;Vella&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-41.5/9.8/59.4, &lt;span style=&#34;color:#19177c&#34;&gt;Ankara&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-41.1/12.0/60.7, &lt;span style=&#34;color:#19177c&#34;&gt;Antananarivo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.3/17.9/69.2, &lt;span style=&#34;color:#19177c&#34;&gt;Antsiranana&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.0/25.2/74.4, &lt;span style=&#34;color:#19177c&#34;&gt;Arkhangelsk&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.8/1.3/58.6, &lt;span style=&#34;color:#19177c&#34;&gt;Ashgabat&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.8/17.1/68.5, &lt;span style=&#34;color:#19177c&#34;&gt;Asmara&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.4/15.6/65.1, &lt;span style=&#34;color:#19177c&#34;&gt;Assab&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.4/30.5/81.7, &lt;span style=&#34;color:#19177c&#34;&gt;Astana&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-46.4/3.5/52.5, &lt;span style=&#34;color:#19177c&#34;&gt;Athens&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.6/19.2/68.3, &lt;span style=&#34;color:#19177c&#34;&gt;Atlanta&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.1/17.0/65.3, &lt;span style=&#34;color:#19177c&#34;&gt;Auckland&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.6/15.2/62.4, &lt;span style=&#34;color:#19177c&#34;&gt;Austin&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-27.3/20.7/67.3, &lt;span style=&#34;color:#19177c&#34;&gt;Baghdad&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.0/22.8/73.4, &lt;span style=&#34;color:#19177c&#34;&gt;Baguio&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.6/19.5/69.2, &lt;span style=&#34;color:#19177c&#34;&gt;Baku&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.6/15.1/63.3, &lt;span style=&#34;color:#19177c&#34;&gt;Baltimore&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.3/13.1/61.8, &lt;span style=&#34;color:#19177c&#34;&gt;Bamako&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.4/27.8/78.7, &lt;span style=&#34;color:#19177c&#34;&gt;Bangkok&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.7/28.6/78.4, &lt;span style=&#34;color:#19177c&#34;&gt;Bangui&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.0/26.0/75.6, &lt;span style=&#34;color:#19177c&#34;&gt;Banjul&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.6/26.0/71.7, &lt;span style=&#34;color:#19177c&#34;&gt;Barcelona&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.3/18.2/65.3, &lt;span style=&#34;color:#19177c&#34;&gt;Bata&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.5/25.1/80.4, &lt;span style=&#34;color:#19177c&#34;&gt;Batumi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.3/14.0/63.0, &lt;span style=&#34;color:#19177c&#34;&gt;Beijing&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.5/12.9/63.9, &lt;span style=&#34;color:#19177c&#34;&gt;Beirut&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.6/20.9/70.9, &lt;span style=&#34;color:#19177c&#34;&gt;Belgrade&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.0/12.5/60.5, Belize &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.4/26.7/75.2, &lt;span style=&#34;color:#19177c&#34;&gt;Benghazi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.9/19.9/72.9, &lt;span style=&#34;color:#19177c&#34;&gt;Bergen&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.5/7.7/54.3, &lt;span style=&#34;color:#19177c&#34;&gt;Berlin&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.6/10.3/61.3, &lt;span style=&#34;color:#19177c&#34;&gt;Bilbao&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.5/14.7/65.9, &lt;span style=&#34;color:#19177c&#34;&gt;Birao&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.7/26.5/76.0, &lt;span style=&#34;color:#19177c&#34;&gt;Bishkek&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.9/11.3/59.6, &lt;span style=&#34;color:#19177c&#34;&gt;Bissau&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.0/27.0/75.0, &lt;span style=&#34;color:#19177c&#34;&gt;Blantyre&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.3/22.2/72.8, &lt;span style=&#34;color:#19177c&#34;&gt;Bloemfontein&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.3/15.6/65.8, &lt;span style=&#34;color:#19177c&#34;&gt;Boise&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.2/11.4/59.2, &lt;span style=&#34;color:#19177c&#34;&gt;Bordeaux&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.1/14.2/64.4, &lt;span style=&#34;color:#19177c&#34;&gt;Bosaso&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.1/30.0/82.5, &lt;span style=&#34;color:#19177c&#34;&gt;Boston&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.1/10.9/61.9, &lt;span style=&#34;color:#19177c&#34;&gt;Bouaké&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.0/26.0/75.9, &lt;span style=&#34;color:#19177c&#34;&gt;Bratislava&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.7/10.5/62.3, &lt;span style=&#34;color:#19177c&#34;&gt;Brazzaville&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.6/25.0/71.4, &lt;span style=&#34;color:#19177c&#34;&gt;Bridgetown&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.3/27.0/79.8, &lt;span style=&#34;color:#19177c&#34;&gt;Brisbane&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.4/21.4/71.4, &lt;span style=&#34;color:#19177c&#34;&gt;Brussels&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.1/10.5/60.7, &lt;span style=&#34;color:#19177c&#34;&gt;Bucharest&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.9/10.8/60.0, &lt;span style=&#34;color:#19177c&#34;&gt;Budapest&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.8/11.3/63.8, &lt;span style=&#34;color:#19177c&#34;&gt;Bujumbura&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.6/23.8/86.6, &lt;span style=&#34;color:#19177c&#34;&gt;Bulawayo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.9/18.9/71.8, &lt;span style=&#34;color:#19177c&#34;&gt;Burnie&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.1/13.1/63.2, &lt;span style=&#34;color:#19177c&#34;&gt;Busan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.8/15.0/64.3, Cabo San &lt;span style=&#34;color:#19177c&#34;&gt;Lucas&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.0/23.9/70.9, &lt;span style=&#34;color:#19177c&#34;&gt;Cairns&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.1/25.0/74.6, &lt;span style=&#34;color:#19177c&#34;&gt;Cairo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-27.2/21.4/71.1, &lt;span style=&#34;color:#19177c&#34;&gt;Calgary&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-43.0/4.4/54.6, &lt;span style=&#34;color:#19177c&#34;&gt;Canberra&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.8/13.1/66.4, Cape &lt;span style=&#34;color:#19177c&#34;&gt;Town&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.0/16.2/64.1, &lt;span style=&#34;color:#19177c&#34;&gt;Changsha&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.1/17.4/68.0, &lt;span style=&#34;color:#19177c&#34;&gt;Charlotte&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.2/16.1/66.0, Chiang &lt;span style=&#34;color:#19177c&#34;&gt;Mai&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.3/25.8/72.7, &lt;span style=&#34;color:#19177c&#34;&gt;Chicago&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.6/9.8/63.3, &lt;span style=&#34;color:#19177c&#34;&gt;Chihuahua&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.6/18.6/72.5, &lt;span style=&#34;color:#19177c&#34;&gt;Chittagong&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.0/25.9/75.1, &lt;span style=&#34;color:#19177c&#34;&gt;Chișinău&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.3/10.2/58.3, &lt;span style=&#34;color:#19177c&#34;&gt;Chongqing&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.9/18.6/70.6, &lt;span style=&#34;color:#19177c&#34;&gt;Christchurch&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.6/12.2/63.0, City of San &lt;span style=&#34;color:#19177c&#34;&gt;Marino&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.6/11.8/61.8, &lt;span style=&#34;color:#19177c&#34;&gt;Colombo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.7/27.4/74.9, &lt;span style=&#34;color:#19177c&#34;&gt;Columbus&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.7/11.7/61.1, &lt;span style=&#34;color:#19177c&#34;&gt;Conakry&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.6/26.4/75.7, &lt;span style=&#34;color:#19177c&#34;&gt;Copenhagen&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.2/9.1/58.4, &lt;span style=&#34;color:#19177c&#34;&gt;Cotonou&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.8/27.2/78.5, &lt;span style=&#34;color:#19177c&#34;&gt;Cracow&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.1/9.3/62.6, Da &lt;span style=&#34;color:#19177c&#34;&gt;Lat&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.1/17.9/65.7, Da &lt;span style=&#34;color:#19177c&#34;&gt;Nang&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.9/25.8/73.5, &lt;span style=&#34;color:#19177c&#34;&gt;Dakar&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.3/24.0/77.6, &lt;span style=&#34;color:#19177c&#34;&gt;Dallas&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.4/19.0/69.6, &lt;span style=&#34;color:#19177c&#34;&gt;Damascus&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.4/17.0/66.5, &lt;span style=&#34;color:#19177c&#34;&gt;Dampier&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.7/26.4/76.5, Dar es &lt;span style=&#34;color:#19177c&#34;&gt;Salaam&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.1/25.8/72.0, &lt;span style=&#34;color:#19177c&#34;&gt;Darwin&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.5/27.6/80.6, &lt;span style=&#34;color:#19177c&#34;&gt;Denpasar&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.2/23.7/71.8, &lt;span style=&#34;color:#19177c&#34;&gt;Denver&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-41.5/10.4/59.5, &lt;span style=&#34;color:#19177c&#34;&gt;Detroit&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.6/10.0/62.4, &lt;span style=&#34;color:#19177c&#34;&gt;Dhaka&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.8/25.9/76.4, &lt;span style=&#34;color:#19177c&#34;&gt;Dikson&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-62.7/-11.1/39.0, &lt;span style=&#34;color:#19177c&#34;&gt;Dili&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.0/26.6/78.4, &lt;span style=&#34;color:#19177c&#34;&gt;Djibouti&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-19.2/29.9/79.6, &lt;span style=&#34;color:#19177c&#34;&gt;Dodoma&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.6/22.7/71.4, &lt;span style=&#34;color:#19177c&#34;&gt;Dolisie&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.8/24.0/75.4, &lt;span style=&#34;color:#19177c&#34;&gt;Douala&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.4/26.7/79.6, &lt;span style=&#34;color:#19177c&#34;&gt;Dubai&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.8/26.9/75.0, &lt;span style=&#34;color:#19177c&#34;&gt;Dublin&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.0/9.8/59.5, &lt;span style=&#34;color:#19177c&#34;&gt;Dunedin&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.7/11.1/64.8, &lt;span style=&#34;color:#19177c&#34;&gt;Durban&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.8/20.6/67.6, &lt;span style=&#34;color:#19177c&#34;&gt;Dushanbe&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.0/14.7/64.1, &lt;span style=&#34;color:#19177c&#34;&gt;Edinburgh&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.0/9.3/60.4, &lt;span style=&#34;color:#19177c&#34;&gt;Edmonton&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.1/4.2/57.7, El &lt;span style=&#34;color:#19177c&#34;&gt;Paso&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.0/18.1/65.6, &lt;span style=&#34;color:#19177c&#34;&gt;Entebbe&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.2/21.0/68.8, &lt;span style=&#34;color:#19177c&#34;&gt;Erbil&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.7/19.5/68.4, &lt;span style=&#34;color:#19177c&#34;&gt;Erzurum&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-59.1/5.1/52.7, &lt;span style=&#34;color:#19177c&#34;&gt;Fairbanks&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-53.7/-2.3/49.5, &lt;span style=&#34;color:#19177c&#34;&gt;Fianarantsoa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.2/17.9/68.1, Flores,  &lt;span style=&#34;color:#19177c&#34;&gt;Petén&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.1/26.4/76.1, &lt;span style=&#34;color:#19177c&#34;&gt;Frankfurt&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.8/10.6/59.0, &lt;span style=&#34;color:#19177c&#34;&gt;Fresno&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.2/17.9/66.9, &lt;span style=&#34;color:#19177c&#34;&gt;Fukuoka&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.4/17.0/66.5, &lt;span style=&#34;color:#19177c&#34;&gt;Gaborone&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.4/21.0/71.1, &lt;span style=&#34;color:#19177c&#34;&gt;Gabès&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.9/19.5/72.1, &lt;span style=&#34;color:#19177c&#34;&gt;Gagnoa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.3/26.0/75.6, &lt;span style=&#34;color:#19177c&#34;&gt;Gangtok&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.2/15.2/64.0, &lt;span style=&#34;color:#19177c&#34;&gt;Garissa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.1/29.3/79.5, &lt;span style=&#34;color:#19177c&#34;&gt;Garoua&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.2/28.3/81.5, George &lt;span style=&#34;color:#19177c&#34;&gt;Town&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.6/27.9/76.6, &lt;span style=&#34;color:#19177c&#34;&gt;Ghanzi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.2/21.4/70.9, Gjoa &lt;span style=&#34;color:#19177c&#34;&gt;Haven&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-65.2/-14.4/35.7, &lt;span style=&#34;color:#19177c&#34;&gt;Guadalajara&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.3/20.9/79.5, &lt;span style=&#34;color:#19177c&#34;&gt;Guangzhou&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.5/22.4/73.1, Guatemala &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.2/20.4/71.3, &lt;span style=&#34;color:#19177c&#34;&gt;Halifax&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-47.6/7.5/53.9, &lt;span style=&#34;color:#19177c&#34;&gt;Hamburg&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.7/9.7/60.2, &lt;span style=&#34;color:#19177c&#34;&gt;Hamilton&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.6/13.8/63.5, Hanga &lt;span style=&#34;color:#19177c&#34;&gt;Roa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-27.6/20.5/69.3, &lt;span style=&#34;color:#19177c&#34;&gt;Hanoi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.9/23.6/74.1, &lt;span style=&#34;color:#19177c&#34;&gt;Harare&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.0/18.4/69.0, &lt;span style=&#34;color:#19177c&#34;&gt;Harbin&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.9/5.0/55.5, &lt;span style=&#34;color:#19177c&#34;&gt;Hargeisa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.0/21.7/72.5, Hat &lt;span style=&#34;color:#19177c&#34;&gt;Yai&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.0/27.0/79.0, &lt;span style=&#34;color:#19177c&#34;&gt;Havana&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.8/25.2/75.7, &lt;span style=&#34;color:#19177c&#34;&gt;Helsinki&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-43.1/5.9/56.2, &lt;span style=&#34;color:#19177c&#34;&gt;Heraklion&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.4/18.9/69.0, &lt;span style=&#34;color:#19177c&#34;&gt;Hiroshima&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.9/16.3/70.1, Ho Chi Minh &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.0/27.4/84.4, &lt;span style=&#34;color:#19177c&#34;&gt;Hobart&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.7/12.7/63.5, Hong &lt;span style=&#34;color:#19177c&#34;&gt;Kong&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.6/23.3/72.2, &lt;span style=&#34;color:#19177c&#34;&gt;Honiara&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.5/26.5/75.4, &lt;span style=&#34;color:#19177c&#34;&gt;Honolulu&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.8/25.4/73.5, &lt;span style=&#34;color:#19177c&#34;&gt;Houston&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.6/20.8/69.1, &lt;span style=&#34;color:#19177c&#34;&gt;Ifrane&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.7/11.4/61.5, &lt;span style=&#34;color:#19177c&#34;&gt;Indianapolis&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.9/11.8/63.6, &lt;span style=&#34;color:#19177c&#34;&gt;Iqaluit&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-57.0/-9.3/41.7, &lt;span style=&#34;color:#19177c&#34;&gt;Irkutsk&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-48.5/1.0/48.6, &lt;span style=&#34;color:#19177c&#34;&gt;Istanbul&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.4/13.9/60.6, &lt;span style=&#34;color:#19177c&#34;&gt;Jacksonville&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.2/20.3/69.9, &lt;span style=&#34;color:#19177c&#34;&gt;Jakarta&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.9/26.7/76.4, &lt;span style=&#34;color:#19177c&#34;&gt;Jayapura&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.0/27.0/75.5, &lt;span style=&#34;color:#19177c&#34;&gt;Jerusalem&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.2/18.3/67.6, &lt;span style=&#34;color:#19177c&#34;&gt;Johannesburg&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.3/15.5/66.9, &lt;span style=&#34;color:#19177c&#34;&gt;Jos&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.9/22.8/71.8, &lt;span style=&#34;color:#19177c&#34;&gt;Juba&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.9/27.8/79.4, &lt;span style=&#34;color:#19177c&#34;&gt;Kabul&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.1/12.1/61.8, &lt;span style=&#34;color:#19177c&#34;&gt;Kampala&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.1/20.0/69.1, &lt;span style=&#34;color:#19177c&#34;&gt;Kandi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.0/27.7/76.9, &lt;span style=&#34;color:#19177c&#34;&gt;Kankan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.0/26.5/74.6, &lt;span style=&#34;color:#19177c&#34;&gt;Kano&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.3/26.4/79.3, Kansas &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.6/12.5/62.8, &lt;span style=&#34;color:#19177c&#34;&gt;Karachi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.3/26.0/81.8, &lt;span style=&#34;color:#19177c&#34;&gt;Karonga&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.9/24.4/72.4, &lt;span style=&#34;color:#19177c&#34;&gt;Kathmandu&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.2/18.3/66.6, &lt;span style=&#34;color:#19177c&#34;&gt;Khartoum&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.2/29.9/80.7, &lt;span style=&#34;color:#19177c&#34;&gt;Kingston&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.5/27.4/82.6, &lt;span style=&#34;color:#19177c&#34;&gt;Kinshasa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.0/25.3/74.0, &lt;span style=&#34;color:#19177c&#34;&gt;Kolkata&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.9/26.7/73.9, Kuala &lt;span style=&#34;color:#19177c&#34;&gt;Lumpur&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.9/27.3/76.2, &lt;span style=&#34;color:#19177c&#34;&gt;Kumasi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.1/26.0/74.6, &lt;span style=&#34;color:#19177c&#34;&gt;Kunming&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.1/15.7/67.9, &lt;span style=&#34;color:#19177c&#34;&gt;Kuopio&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-47.0/3.4/56.9, Kuwait &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.8/25.7/74.1, &lt;span style=&#34;color:#19177c&#34;&gt;Kyiv&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.6/8.4/62.5, &lt;span style=&#34;color:#19177c&#34;&gt;Kyoto&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.9/15.8/62.4, La &lt;span style=&#34;color:#19177c&#34;&gt;Ceiba&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.1/26.2/76.5, La &lt;span style=&#34;color:#19177c&#34;&gt;Paz&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-27.7/23.7/71.5, &lt;span style=&#34;color:#19177c&#34;&gt;Lagos&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.9/26.8/76.1, &lt;span style=&#34;color:#19177c&#34;&gt;Lahore&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.4/24.3/77.3, Lake Havasu &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.0/23.7/77.1, Lake &lt;span style=&#34;color:#19177c&#34;&gt;Tekapo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.7/8.7/62.3, Las Palmas de Gran &lt;span style=&#34;color:#19177c&#34;&gt;Canaria&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.0/21.2/69.9, Las &lt;span style=&#34;color:#19177c&#34;&gt;Vegas&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.4/20.3/72.0, &lt;span style=&#34;color:#19177c&#34;&gt;Launceston&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.5/13.1/62.6, &lt;span style=&#34;color:#19177c&#34;&gt;Lhasa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.2/7.6/59.7, &lt;span style=&#34;color:#19177c&#34;&gt;Libreville&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.8/25.9/75.4, &lt;span style=&#34;color:#19177c&#34;&gt;Lisbon&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.6/17.5/65.5, &lt;span style=&#34;color:#19177c&#34;&gt;Livingstone&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.2/21.8/70.9, &lt;span style=&#34;color:#19177c&#34;&gt;Ljubljana&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.0/10.9/59.3, &lt;span style=&#34;color:#19177c&#34;&gt;Lodwar&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.5/29.3/75.7, &lt;span style=&#34;color:#19177c&#34;&gt;Lomé&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.2/26.9/75.8, &lt;span style=&#34;color:#19177c&#34;&gt;London&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.4/11.3/61.3, Los &lt;span style=&#34;color:#19177c&#34;&gt;Angeles&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.4/18.6/67.7, &lt;span style=&#34;color:#19177c&#34;&gt;Louisville&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.7/13.9/64.1, &lt;span style=&#34;color:#19177c&#34;&gt;Luanda&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.9/25.8/73.5, &lt;span style=&#34;color:#19177c&#34;&gt;Lubumbashi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.5/20.8/70.1, &lt;span style=&#34;color:#19177c&#34;&gt;Lusaka&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.5/19.9/71.8, Luxembourg &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.0/9.3/60.7, &lt;span style=&#34;color:#19177c&#34;&gt;Lviv&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.8/7.8/56.1, &lt;span style=&#34;color:#19177c&#34;&gt;Lyon&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.8/12.5/63.9, &lt;span style=&#34;color:#19177c&#34;&gt;Madrid&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.0/15.0/66.5, &lt;span style=&#34;color:#19177c&#34;&gt;Mahajanga&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.6/26.3/78.7, &lt;span style=&#34;color:#19177c&#34;&gt;Makassar&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.5/26.7/77.7, &lt;span style=&#34;color:#19177c&#34;&gt;Makurdi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.5/26.0/76.8, &lt;span style=&#34;color:#19177c&#34;&gt;Malabo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.6/26.3/75.2, &lt;span style=&#34;color:#19177c&#34;&gt;Malé&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.3/28.0/76.1, &lt;span style=&#34;color:#19177c&#34;&gt;Managua&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.8/27.3/75.9, &lt;span style=&#34;color:#19177c&#34;&gt;Manama&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.0/26.5/74.2, &lt;span style=&#34;color:#19177c&#34;&gt;Mandalay&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.5/28.0/76.8, &lt;span style=&#34;color:#19177c&#34;&gt;Mango&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.7/28.1/76.8, &lt;span style=&#34;color:#19177c&#34;&gt;Manila&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.7/28.4/75.6, &lt;span style=&#34;color:#19177c&#34;&gt;Maputo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.1/22.8/78.7, &lt;span style=&#34;color:#19177c&#34;&gt;Marrakesh&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.3/19.6/70.9, &lt;span style=&#34;color:#19177c&#34;&gt;Marseille&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.0/15.8/66.9, &lt;span style=&#34;color:#19177c&#34;&gt;Maun&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.9/22.4/69.7, &lt;span style=&#34;color:#19177c&#34;&gt;Medan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.2/26.5/76.0, Mek&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;ele=-29.4/22.7/73.3, Melbourne=-38.3/15.1/66.1, Memphis=-33.5/17.2/67.1, Mexicali=-24.0/23.1/71.9, Mexico City=-32.0/17.5/71.3, Miami=-29.6/24.9/75.9, Milan=-33.2/13.0/60.8, Milwaukee=-40.1/8.9/59.1, Minneapolis=-41.5/7.8/56.3, Minsk=-42.8/6.7/54.2, Mogadishu=-21.8/27.1/76.8, Mombasa=-22.8/26.3/76.9, Monaco=-38.1/16.4/66.9, Moncton=-42.1/6.1/59.2, Monterrey=-27.4/22.3/70.4, Montreal=-41.6/6.8/57.2, Moscow=-46.6/5.8/56.8, Mumbai=-23.1/27.1/76.1, Murmansk=-52.9/0.6/51.2, Muscat=-20.6/28.0/74.0, Mzuzu=-31.0/17.7/66.6, N&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;Djamena&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.9/28.3/75.6, &lt;span style=&#34;color:#19177c&#34;&gt;Naha&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.3/23.1/72.2, &lt;span style=&#34;color:#19177c&#34;&gt;Nairobi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.5/17.8/69.6, Nakhon &lt;span style=&#34;color:#19177c&#34;&gt;Ratchasima&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.9/27.3/75.3, &lt;span style=&#34;color:#19177c&#34;&gt;Napier&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.8/14.6/64.5, &lt;span style=&#34;color:#19177c&#34;&gt;Napoli&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.7/15.9/64.9, &lt;span style=&#34;color:#19177c&#34;&gt;Nashville&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.2/15.4/67.1, &lt;span style=&#34;color:#19177c&#34;&gt;Nassau&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.2/24.6/71.8, &lt;span style=&#34;color:#19177c&#34;&gt;Ndola&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.9/20.3/70.9, New &lt;span style=&#34;color:#19177c&#34;&gt;Delhi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.3/25.0/77.2, New &lt;span style=&#34;color:#19177c&#34;&gt;Orleans&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.8/20.7/72.1, New York &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.6/12.9/62.6, &lt;span style=&#34;color:#19177c&#34;&gt;Ngaoundéré&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.1/22.0/69.9, &lt;span style=&#34;color:#19177c&#34;&gt;Niamey&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.6/29.3/78.0, &lt;span style=&#34;color:#19177c&#34;&gt;Nicosia&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.4/19.7/68.2, &lt;span style=&#34;color:#19177c&#34;&gt;Niigata&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.7/13.9/69.4, &lt;span style=&#34;color:#19177c&#34;&gt;Nouadhibou&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.9/21.3/73.9, &lt;span style=&#34;color:#19177c&#34;&gt;Nouakchott&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.6/25.7/73.4, &lt;span style=&#34;color:#19177c&#34;&gt;Novosibirsk&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-47.8/1.7/50.6, &lt;span style=&#34;color:#19177c&#34;&gt;Nuuk&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-53.1/-1.4/49.1, &lt;span style=&#34;color:#19177c&#34;&gt;Odesa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.9/10.7/60.5, &lt;span style=&#34;color:#19177c&#34;&gt;Odienné&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.3/26.0/76.2, Oklahoma &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.6/15.9/66.9, &lt;span style=&#34;color:#19177c&#34;&gt;Omaha&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.2/10.6/65.6, &lt;span style=&#34;color:#19177c&#34;&gt;Oranjestad&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.1/28.1/81.0, &lt;span style=&#34;color:#19177c&#34;&gt;Oslo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.5/5.7/54.8, &lt;span style=&#34;color:#19177c&#34;&gt;Ottawa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.5/6.6/57.8, &lt;span style=&#34;color:#19177c&#34;&gt;Ouagadougou&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.9/28.3/81.2, &lt;span style=&#34;color:#19177c&#34;&gt;Ouahigouya&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.0/28.6/77.4, &lt;span style=&#34;color:#19177c&#34;&gt;Ouarzazate&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.3/18.9/73.1, &lt;span style=&#34;color:#19177c&#34;&gt;Oulu&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.4/2.7/54.9, &lt;span style=&#34;color:#19177c&#34;&gt;Palembang&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.7/27.3/75.9, &lt;span style=&#34;color:#19177c&#34;&gt;Palermo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.1/18.5/71.7, Palm &lt;span style=&#34;color:#19177c&#34;&gt;Springs&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.4/24.5/78.2, Palmerston &lt;span style=&#34;color:#19177c&#34;&gt;North&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.3/13.2/64.8, Panama &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.3/28.0/75.6, &lt;span style=&#34;color:#19177c&#34;&gt;Parakou&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.9/26.8/76.2, &lt;span style=&#34;color:#19177c&#34;&gt;Paris&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.3/12.3/62.7, &lt;span style=&#34;color:#19177c&#34;&gt;Perth&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.1/18.7/72.0, Petropavlovsk-Kamchatsky&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-47.2/1.9/49.2, &lt;span style=&#34;color:#19177c&#34;&gt;Philadelphia&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.3/13.2/64.6, Phnom &lt;span style=&#34;color:#19177c&#34;&gt;Penh&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-18.4/28.3/79.7, &lt;span style=&#34;color:#19177c&#34;&gt;Phoenix&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.5/23.9/73.4, &lt;span style=&#34;color:#19177c&#34;&gt;Pittsburgh&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.0/10.8/60.8, &lt;span style=&#34;color:#19177c&#34;&gt;Podgorica&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.0/15.3/70.7, Pointe-Noire&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.7/26.1/76.1, &lt;span style=&#34;color:#19177c&#34;&gt;Pontianak&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.3/27.7/76.5, Port &lt;span style=&#34;color:#19177c&#34;&gt;Moresby&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.6/26.9/77.9, Port &lt;span style=&#34;color:#19177c&#34;&gt;Sudan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.4/28.4/78.1, Port &lt;span style=&#34;color:#19177c&#34;&gt;Vila&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.1/24.3/74.7, Port-Gentil&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.9/26.0/76.0, Portland &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;OR&lt;span style=&#34;color:#666&#34;&gt;)=&lt;/span&gt;-35.6/12.4/59.7, &lt;span style=&#34;color:#19177c&#34;&gt;Porto&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.5/15.7/63.8, &lt;span style=&#34;color:#19177c&#34;&gt;Prague&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.2/8.4/61.1, &lt;span style=&#34;color:#19177c&#34;&gt;Praia&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.0/24.4/75.6, &lt;span style=&#34;color:#19177c&#34;&gt;Pretoria&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.0/18.2/67.7, &lt;span style=&#34;color:#19177c&#34;&gt;Pyongyang&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.5/10.8/59.3, &lt;span style=&#34;color:#19177c&#34;&gt;Rabat&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.2/17.2/68.7, &lt;span style=&#34;color:#19177c&#34;&gt;Rangpur&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.9/24.4/74.3, &lt;span style=&#34;color:#19177c&#34;&gt;Reggane&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.3/28.3/79.2, &lt;span style=&#34;color:#19177c&#34;&gt;Reykjavík&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-49.4/4.3/53.5, &lt;span style=&#34;color:#19177c&#34;&gt;Riga&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.5/6.2/57.0, &lt;span style=&#34;color:#19177c&#34;&gt;Riyadh&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.1/26.0/74.0, &lt;span style=&#34;color:#19177c&#34;&gt;Rome&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.8/15.2/68.6, &lt;span style=&#34;color:#19177c&#34;&gt;Roseau&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.8/26.2/76.1, Rostov-on-Don&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-41.8/9.9/57.2, &lt;span style=&#34;color:#19177c&#34;&gt;Sacramento&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.3/16.3/67.2, Saint &lt;span style=&#34;color:#19177c&#34;&gt;Petersburg&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.6/5.8/56.4, Saint-Pierre&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-43.4/5.7/56.2, Salt Lake &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.3/11.6/61.8, San &lt;span style=&#34;color:#19177c&#34;&gt;Antonio&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.8/20.8/71.2, San &lt;span style=&#34;color:#19177c&#34;&gt;Diego&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.1/17.8/66.1, San &lt;span style=&#34;color:#19177c&#34;&gt;Francisco&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.3/14.6/60.4, San &lt;span style=&#34;color:#19177c&#34;&gt;Jose&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.0/16.4/65.1, San &lt;span style=&#34;color:#19177c&#34;&gt;José&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.4/22.6/69.7, San &lt;span style=&#34;color:#19177c&#34;&gt;Juan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.5/27.2/77.3, San &lt;span style=&#34;color:#19177c&#34;&gt;Salvador&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.7/23.1/75.1, Sana&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;a=-30.8/20.0/68.6, Santo Domingo=-23.6/25.9/76.6, Sapporo=-38.9/8.9/61.8, Sarajevo=-45.0/10.1/59.4, Saskatoon=-47.3/3.3/51.5, Seattle=-38.1/11.3/60.6, Seoul=-36.0/12.5/61.2, Seville=-32.2/19.2/73.1, Shanghai=-35.1/16.7/67.0, Singapore=-23.7/27.0/81.9, Skopje=-35.5/12.4/64.3, Sochi=-34.3/14.2/65.2, Sofia=-38.2/10.6/61.6, Sokoto=-23.1/28.0/73.2, Split=-32.7/16.1/62.2, St. John&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;s&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.1/5.0/56.4, St. &lt;span style=&#34;color:#19177c&#34;&gt;Louis&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-41.2/13.9/64.2, &lt;span style=&#34;color:#19177c&#34;&gt;Stockholm&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.5/6.6/55.9, &lt;span style=&#34;color:#19177c&#34;&gt;Surabaya&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.4/27.1/76.1, &lt;span style=&#34;color:#19177c&#34;&gt;Suva&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.1/25.6/78.8, &lt;span style=&#34;color:#19177c&#34;&gt;Suwałki&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.4/7.2/62.3, &lt;span style=&#34;color:#19177c&#34;&gt;Sydney&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.1/17.7/68.8, &lt;span style=&#34;color:#19177c&#34;&gt;Ségou&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.2/28.0/75.1, &lt;span style=&#34;color:#19177c&#34;&gt;Tabora&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.7/23.0/73.7, &lt;span style=&#34;color:#19177c&#34;&gt;Tabriz&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.8/12.6/61.9, &lt;span style=&#34;color:#19177c&#34;&gt;Taipei&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.6/23.0/74.8, &lt;span style=&#34;color:#19177c&#34;&gt;Tallinn&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.6/6.4/60.7, &lt;span style=&#34;color:#19177c&#34;&gt;Tamale&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.3/27.9/77.7, &lt;span style=&#34;color:#19177c&#34;&gt;Tamanrasset&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.7/21.7/71.7, &lt;span style=&#34;color:#19177c&#34;&gt;Tampa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.8/22.9/70.4, &lt;span style=&#34;color:#19177c&#34;&gt;Tashkent&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.2/14.8/64.3, &lt;span style=&#34;color:#19177c&#34;&gt;Tauranga&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.9/14.8/66.9, &lt;span style=&#34;color:#19177c&#34;&gt;Tbilisi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.6/12.9/66.2, &lt;span style=&#34;color:#19177c&#34;&gt;Tegucigalpa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-27.1/21.7/74.1, &lt;span style=&#34;color:#19177c&#34;&gt;Tehran&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.5/17.0/73.6, Tel &lt;span style=&#34;color:#19177c&#34;&gt;Aviv&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-27.0/20.0/66.8, &lt;span style=&#34;color:#19177c&#34;&gt;Thessaloniki&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.4/16.0/64.6, &lt;span style=&#34;color:#19177c&#34;&gt;Thiès&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.4/24.0/74.2, &lt;span style=&#34;color:#19177c&#34;&gt;Tijuana&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.9/17.8/67.9, &lt;span style=&#34;color:#19177c&#34;&gt;Timbuktu&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.3/28.0/76.9, &lt;span style=&#34;color:#19177c&#34;&gt;Tirana&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.2/15.2/68.3, &lt;span style=&#34;color:#19177c&#34;&gt;Toamasina&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.2/23.4/78.7, &lt;span style=&#34;color:#19177c&#34;&gt;Tokyo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.5/15.4/62.2, &lt;span style=&#34;color:#19177c&#34;&gt;Toliara&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.4/24.1/74.6, &lt;span style=&#34;color:#19177c&#34;&gt;Toluca&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.5/12.4/60.2, &lt;span style=&#34;color:#19177c&#34;&gt;Toronto&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.7/9.4/62.7, &lt;span style=&#34;color:#19177c&#34;&gt;Tripoli&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.3/20.0/67.9, &lt;span style=&#34;color:#19177c&#34;&gt;Tromsø&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.3/2.9/53.4, &lt;span style=&#34;color:#19177c&#34;&gt;Tucson&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.7/20.9/73.6, &lt;span style=&#34;color:#19177c&#34;&gt;Tunis&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.3/18.4/65.9, &lt;span style=&#34;color:#19177c&#34;&gt;Ulaanbaatar&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-55.5/-0.4/50.6, &lt;span style=&#34;color:#19177c&#34;&gt;Upington&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.9/20.4/76.8, &lt;span style=&#34;color:#19177c&#34;&gt;Vaduz&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.6/10.1/69.8, &lt;span style=&#34;color:#19177c&#34;&gt;Valencia&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.5/18.3/73.8, &lt;span style=&#34;color:#19177c&#34;&gt;Valletta&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.2/18.8/70.1, &lt;span style=&#34;color:#19177c&#34;&gt;Vancouver&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.7/10.4/64.5, &lt;span style=&#34;color:#19177c&#34;&gt;Veracruz&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.0/25.4/76.1, &lt;span style=&#34;color:#19177c&#34;&gt;Vienna&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.5/10.4/63.9, &lt;span style=&#34;color:#19177c&#34;&gt;Vientiane&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.6/25.9/78.1, &lt;span style=&#34;color:#19177c&#34;&gt;Villahermosa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.7/27.1/75.1, &lt;span style=&#34;color:#19177c&#34;&gt;Vilnius&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-43.7/6.0/56.9, Virginia &lt;span style=&#34;color:#19177c&#34;&gt;Beach&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.6/15.8/66.6, &lt;span style=&#34;color:#19177c&#34;&gt;Vladivostok&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-46.6/4.9/55.3, &lt;span style=&#34;color:#19177c&#34;&gt;Warsaw&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.5/8.5/55.2, Washington, D.C.&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.4/14.6/63.7, &lt;span style=&#34;color:#19177c&#34;&gt;Wau&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.0/27.8/79.3, &lt;span style=&#34;color:#19177c&#34;&gt;Wellington&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.5/12.9/61.2, &lt;span style=&#34;color:#19177c&#34;&gt;Whitehorse&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-49.8/-0.1/48.7, &lt;span style=&#34;color:#19177c&#34;&gt;Wichita&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.1/13.9/64.1, &lt;span style=&#34;color:#19177c&#34;&gt;Willemstad&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.4/28.0/79.2, &lt;span style=&#34;color:#19177c&#34;&gt;Winnipeg&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-48.1/3.0/56.5, &lt;span style=&#34;color:#19177c&#34;&gt;Wrocław&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.2/9.6/59.3, Xi&lt;span style=&#34;&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;an&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.3/14.1/64.6, &lt;span style=&#34;color:#19177c&#34;&gt;Yakutsk&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-57.8/-8.8/40.8, &lt;span style=&#34;color:#19177c&#34;&gt;Yangon&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.1/27.5/83.6, &lt;span style=&#34;color:#19177c&#34;&gt;Yaoundé&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.7/23.8/72.9, &lt;span style=&#34;color:#19177c&#34;&gt;Yellowknife&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-52.0/-4.3/42.5, &lt;span style=&#34;color:#19177c&#34;&gt;Yerevan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.5/12.4/63.4, &lt;span style=&#34;color:#19177c&#34;&gt;Yinchuan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.9/9.0/57.6, &lt;span style=&#34;color:#19177c&#34;&gt;Zagreb&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.9/10.7/58.1, Zanzibar &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.9/26.0/77.2, &lt;span style=&#34;color:#19177c&#34;&gt;Zürich&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.0/9.3/56.0, &lt;span style=&#34;color:#19177c&#34;&gt;Ürümqi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.6/7.4/58.1, &lt;span style=&#34;color:#19177c&#34;&gt;İzmir&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.8/17.9/67.9&lt;span style=&#34;color:#666&#34;&gt;}&lt;/span&gt;Run Time &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;s&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;: real 25.539 user 203.968621 sys 2.572107
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.quit
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;real 25.58
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;user 203.98
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sys 2.57
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;bonus-bit---lets-just-stick-to-sql&#34;&gt;Bonus bit - let&amp;rsquo;s just stick to SQL&lt;/h2&gt;
&lt;p&gt;If we extend the liberty that we&amp;rsquo;ve taken here in daring to use SQL for a Java-only challenge 😜 then how about we ignore the specified output, and just output the aggregation result directly:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;❯ /usr/bin/time -p duckdb -no-stdin -init 1brc.opt.sql
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-- Loading resources from 1brc.opt.sql
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;SELECT station_name,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        MIN&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;measurement&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt; AS min_measurement,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        CAST&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;AVG&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;measurement&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt; AS DECIMAL&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;8,1&lt;span style=&#34;color:#666&#34;&gt;))&lt;/span&gt; AS mean_measurement,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;        MAX&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;measurement&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt; AS max_measurement
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;FROM READ_CSV&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;measurements.txt&amp;#39;&lt;/span&gt;, &lt;span style=&#34;color:#19177c&#34;&gt;header&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;false, &lt;span style=&#34;color:#19177c&#34;&gt;columns&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;station_name&amp;#39;&lt;/span&gt;:&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;VARCHAR&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;measurement&amp;#39;&lt;/span&gt;:&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;double&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;}&lt;/span&gt;, &lt;span style=&#34;color:#19177c&#34;&gt;delim&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;GROUP BY station_name
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ORDER BY station_name;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;100% ▕████████████████████████████████████████████████████████████▏
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;┌────────────────────────────┬─────────────────┬──────────────────┬─────────────────┐
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;│        station_name        │ min_measurement │ mean_measurement │ max_measurement │
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;│          varchar           │     double      │   decimal&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;8,1&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;   │     double      │
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;├────────────────────────────┼─────────────────┼──────────────────┼─────────────────┤
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;│ Abha                       │           -33.0 │             18.0 │            69.2 │
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;│ Abidjan                    │           -24.4 │             26.0 │            75.4 │
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;│ Abéché                     │           -21.1 │             29.4 │            77.1 │
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;│ Accra                      │           -25.1 │             26.4 │            79.0 │
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;│ Addis Ababa                │           -33.6 │             16.0 │            66.8 │
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#666&#34;&gt;[&lt;/span&gt;…long list removed &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;for&lt;/span&gt; this blog copy…&lt;span style=&#34;color:#666&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;│ Yinchuan                   │           -40.9 │              9.0 │            57.6 │
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;│ Zagreb                     │           -37.9 │             10.7 │            58.1 │
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;│ Zanzibar City              │           -23.9 │             26.0 │            77.2 │
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;│ Zürich                     │           -39.0 │              9.3 │            56.0 │
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;│ Ürümqi                     │           -39.6 │              7.4 │            58.1 │
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;│ İzmir                      │           -32.8 │             17.9 │            67.9 │
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;├────────────────────────────┴─────────────────┴──────────────────┴─────────────────┤
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;│ &lt;span style=&#34;color:#666&#34;&gt;413&lt;/span&gt; rows                                                                &lt;span style=&#34;color:#666&#34;&gt;4&lt;/span&gt; columns │
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;└───────────────────────────────────────────────────────────────────────────────────┘
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Run Time &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;s&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;: real 25.867 user 203.974231 sys 2.650887
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.quit
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;real 25.91
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;user 203.98
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sys 2.65
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Seems that the formatting doesn&amp;rsquo;t really change things.&lt;/p&gt;
&lt;h2 id=&#34;extra-bonus-bit---using-parquet&#34;&gt;Extra bonus bit - using Parquet&lt;/h2&gt;
&lt;p&gt;Deviating even further from the challenge here—part of which is specifically to read a CSV file—let&amp;rsquo;s see what happens if the data were in Parquet format.&lt;/p&gt;
&lt;p&gt;First we&amp;rsquo;ll convert the CSV to Parquet in a one-off step:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ /usr/bin/time duckdb -c &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;COPY (SELECT * FROM READ_CSV(&amp;#39;measurements.txt&amp;#39;, header=false, columns= {&amp;#39;station_name&amp;#39;:&amp;#39;VARCHAR&amp;#39;,&amp;#39;measurement&amp;#39;:&amp;#39;double&amp;#39;}, delim=&amp;#39;;&amp;#39;)) TO &amp;#39;measurements.parquet&amp;#39; (FORMAT PARQUET);&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;100% ▕████████████████████████████████████████████████████████████▏
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;       38.50 real       297.22 user        13.84 sys
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ ls -lh measurements.parquet
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--@ &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt; rmoff  staff   5.1G  &lt;span style=&#34;color:#666&#34;&gt;3&lt;/span&gt; Jan 18:01 measurements.parquet
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now, having done our cheat-step, we use the same query as above but reading the Parquet file instead of CSV:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;❯ /usr/bin/time -p duckdb -no-stdin -init 1brc.parquet.sql
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-- Loading resources from 1brc.parquet.sql
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;WITH src AS &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;SELECT station_name,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    MIN&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;measurement&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt; AS min_measurement,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    CAST&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;AVG&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;measurement&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt; AS DECIMAL&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;8,1&lt;span style=&#34;color:#666&#34;&gt;))&lt;/span&gt; AS mean_measurement,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;                    MAX&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;measurement&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt; AS max_measurement
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            FROM READ_PARQUET&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;measurements.parquet&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            GROUP BY station_name&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    SELECT &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;{&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            ARRAY_TO_STRING&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;LIST_SORT&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;LIST&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;station_name &lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt; &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;=&amp;#39;&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt; CONCAT_WS&lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;,min_measurement, mean_measurement, max_measurement&lt;span style=&#34;color:#666&#34;&gt;)))&lt;/span&gt;,&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;, &amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;||&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;            &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;}&amp;#39;&lt;/span&gt; AS &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;1BRC&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    FROM src;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;100% ▕████████████████████████████████████████████████████████████▏
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;1BRC&lt;span style=&#34;color:#666&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;Abha&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.0/18.0/69.2, &lt;span style=&#34;color:#19177c&#34;&gt;Abidjan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.4/26.0/75.4, &lt;span style=&#34;color:#19177c&#34;&gt;Abéché&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.1/29.4/77.1, &lt;span style=&#34;color:#19177c&#34;&gt;Accra&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.1/26.4/79.0, Addis &lt;span style=&#34;color:#19177c&#34;&gt;Ababa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.6/16.0/66.8, &lt;span style=&#34;color:#19177c&#34;&gt;Adelaide&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.4/17.3/68.5, &lt;span style=&#34;color:#19177c&#34;&gt;Aden&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-19.3/29.1/77.9, &lt;span style=&#34;color:#19177c&#34;&gt;Ahvaz&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.1/25.4/74.0, &lt;span style=&#34;color:#19177c&#34;&gt;Albuquerque&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.5/14.0/61.8, &lt;span style=&#34;color:#19177c&#34;&gt;Alexandra&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.7/11.0/63.7, &lt;span style=&#34;color:#19177c&#34;&gt;Alexandria&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.2/20.0/74.4, &lt;span style=&#34;color:#19177c&#34;&gt;Algiers&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.2/18.2/68.1, Alice &lt;span style=&#34;color:#19177c&#34;&gt;Springs&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.5/21.0/67.6, &lt;span style=&#34;color:#19177c&#34;&gt;Almaty&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.4/10.0/59.0, &lt;span style=&#34;color:#19177c&#34;&gt;Amsterdam&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.8/10.2/60.6, &lt;span style=&#34;color:#19177c&#34;&gt;Anadyr&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-59.6/-6.9/42.6, &lt;span style=&#34;color:#19177c&#34;&gt;Anchorage&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.3/2.8/53.4, Andorra la &lt;span style=&#34;color:#19177c&#34;&gt;Vella&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-41.5/9.8/59.4, &lt;span style=&#34;color:#19177c&#34;&gt;Ankara&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-41.1/12.0/60.7, &lt;span style=&#34;color:#19177c&#34;&gt;Antananarivo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.3/17.9/69.2, &lt;span style=&#34;color:#19177c&#34;&gt;Antsiranana&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.0/25.2/74.4, &lt;span style=&#34;color:#19177c&#34;&gt;Arkhangelsk&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.8/1.3/58.6, &lt;span style=&#34;color:#19177c&#34;&gt;Ashgabat&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.8/17.1/68.5, &lt;span style=&#34;color:#19177c&#34;&gt;Asmara&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.4/15.6/65.1, &lt;span style=&#34;color:#19177c&#34;&gt;Assab&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.4/30.5/81.7, &lt;span style=&#34;color:#19177c&#34;&gt;Astana&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-46.4/3.5/52.5, &lt;span style=&#34;color:#19177c&#34;&gt;Athens&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.6/19.2/68.3, &lt;span style=&#34;color:#19177c&#34;&gt;Atlanta&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.1/17.0/65.3, &lt;span style=&#34;color:#19177c&#34;&gt;Auckland&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.6/15.2/62.4, &lt;span style=&#34;color:#19177c&#34;&gt;Austin&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-27.3/20.7/67.3, &lt;span style=&#34;color:#19177c&#34;&gt;Baghdad&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.0/22.8/73.4, &lt;span style=&#34;color:#19177c&#34;&gt;Baguio&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.6/19.5/69.2, &lt;span style=&#34;color:#19177c&#34;&gt;Baku&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.6/15.1/63.3, &lt;span style=&#34;color:#19177c&#34;&gt;Baltimore&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.3/13.1/61.8, &lt;span style=&#34;color:#19177c&#34;&gt;Bamako&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.4/27.8/78.7, &lt;span style=&#34;color:#19177c&#34;&gt;Bangkok&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.7/28.6/78.4, &lt;span style=&#34;color:#19177c&#34;&gt;Bangui&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.0/26.0/75.6, &lt;span style=&#34;color:#19177c&#34;&gt;Banjul&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.6/26.0/71.7, &lt;span style=&#34;color:#19177c&#34;&gt;Barcelona&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.3/18.2/65.3, &lt;span style=&#34;color:#19177c&#34;&gt;Bata&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.5/25.1/80.4, &lt;span style=&#34;color:#19177c&#34;&gt;Batumi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.3/14.0/63.0, &lt;span style=&#34;color:#19177c&#34;&gt;Beijing&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.5/12.9/63.9, &lt;span style=&#34;color:#19177c&#34;&gt;Beirut&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.6/20.9/70.9, &lt;span style=&#34;color:#19177c&#34;&gt;Belgrade&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.0/12.5/60.5, Belize &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.4/26.7/75.2, &lt;span style=&#34;color:#19177c&#34;&gt;Benghazi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.9/19.9/72.9, &lt;span style=&#34;color:#19177c&#34;&gt;Bergen&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.5/7.7/54.3, &lt;span style=&#34;color:#19177c&#34;&gt;Berlin&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.6/10.3/61.3, &lt;span style=&#34;color:#19177c&#34;&gt;Bilbao&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.5/14.7/65.9, &lt;span style=&#34;color:#19177c&#34;&gt;Birao&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.7/26.5/76.0, &lt;span style=&#34;color:#19177c&#34;&gt;Bishkek&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.9/11.3/59.6, &lt;span style=&#34;color:#19177c&#34;&gt;Bissau&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.0/27.0/75.0, &lt;span style=&#34;color:#19177c&#34;&gt;Blantyre&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.3/22.2/72.8, &lt;span style=&#34;color:#19177c&#34;&gt;Bloemfontein&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.3/15.6/65.8, &lt;span style=&#34;color:#19177c&#34;&gt;Boise&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.2/11.4/59.2, &lt;span style=&#34;color:#19177c&#34;&gt;Bordeaux&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.1/14.2/64.4, &lt;span style=&#34;color:#19177c&#34;&gt;Bosaso&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.1/30.0/82.5, &lt;span style=&#34;color:#19177c&#34;&gt;Boston&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.1/10.9/61.9, &lt;span style=&#34;color:#19177c&#34;&gt;Bouaké&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.0/26.0/75.9, &lt;span style=&#34;color:#19177c&#34;&gt;Bratislava&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.7/10.5/62.3, &lt;span style=&#34;color:#19177c&#34;&gt;Brazzaville&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.6/25.0/71.4, &lt;span style=&#34;color:#19177c&#34;&gt;Bridgetown&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.3/27.0/79.8, &lt;span style=&#34;color:#19177c&#34;&gt;Brisbane&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.4/21.4/71.4, &lt;span style=&#34;color:#19177c&#34;&gt;Brussels&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.1/10.5/60.7, &lt;span style=&#34;color:#19177c&#34;&gt;Bucharest&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.9/10.8/60.0, &lt;span style=&#34;color:#19177c&#34;&gt;Budapest&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.8/11.3/63.8, &lt;span style=&#34;color:#19177c&#34;&gt;Bujumbura&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.6/23.8/86.6, &lt;span style=&#34;color:#19177c&#34;&gt;Bulawayo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.9/18.9/71.8, &lt;span style=&#34;color:#19177c&#34;&gt;Burnie&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.1/13.1/63.2, &lt;span style=&#34;color:#19177c&#34;&gt;Busan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.8/15.0/64.3, Cabo San &lt;span style=&#34;color:#19177c&#34;&gt;Lucas&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.0/23.9/70.9, &lt;span style=&#34;color:#19177c&#34;&gt;Cairns&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.1/25.0/74.6, &lt;span style=&#34;color:#19177c&#34;&gt;Cairo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-27.2/21.4/71.1, &lt;span style=&#34;color:#19177c&#34;&gt;Calgary&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-43.0/4.4/54.6, &lt;span style=&#34;color:#19177c&#34;&gt;Canberra&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.8/13.1/66.4, Cape &lt;span style=&#34;color:#19177c&#34;&gt;Town&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.0/16.2/64.1, &lt;span style=&#34;color:#19177c&#34;&gt;Changsha&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.1/17.4/68.0, &lt;span style=&#34;color:#19177c&#34;&gt;Charlotte&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.2/16.1/66.0, Chiang &lt;span style=&#34;color:#19177c&#34;&gt;Mai&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.3/25.8/72.7, &lt;span style=&#34;color:#19177c&#34;&gt;Chicago&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.6/9.8/63.3, &lt;span style=&#34;color:#19177c&#34;&gt;Chihuahua&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.6/18.6/72.5, &lt;span style=&#34;color:#19177c&#34;&gt;Chittagong&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.0/25.9/75.1, &lt;span style=&#34;color:#19177c&#34;&gt;Chișinău&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.3/10.2/58.3, &lt;span style=&#34;color:#19177c&#34;&gt;Chongqing&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.9/18.6/70.6, &lt;span style=&#34;color:#19177c&#34;&gt;Christchurch&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.6/12.2/63.0, City of San &lt;span style=&#34;color:#19177c&#34;&gt;Marino&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.6/11.8/61.8, &lt;span style=&#34;color:#19177c&#34;&gt;Colombo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.7/27.4/74.9, &lt;span style=&#34;color:#19177c&#34;&gt;Columbus&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.7/11.7/61.1, &lt;span style=&#34;color:#19177c&#34;&gt;Conakry&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.6/26.4/75.7, &lt;span style=&#34;color:#19177c&#34;&gt;Copenhagen&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.2/9.1/58.4, &lt;span style=&#34;color:#19177c&#34;&gt;Cotonou&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.8/27.2/78.5, &lt;span style=&#34;color:#19177c&#34;&gt;Cracow&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.1/9.3/62.6, Da &lt;span style=&#34;color:#19177c&#34;&gt;Lat&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.1/17.9/65.7, Da &lt;span style=&#34;color:#19177c&#34;&gt;Nang&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.9/25.8/73.5, &lt;span style=&#34;color:#19177c&#34;&gt;Dakar&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.3/24.0/77.6, &lt;span style=&#34;color:#19177c&#34;&gt;Dallas&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.4/19.0/69.6, &lt;span style=&#34;color:#19177c&#34;&gt;Damascus&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.4/17.0/66.5, &lt;span style=&#34;color:#19177c&#34;&gt;Dampier&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.7/26.4/76.5, Dar es &lt;span style=&#34;color:#19177c&#34;&gt;Salaam&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.1/25.8/72.0, &lt;span style=&#34;color:#19177c&#34;&gt;Darwin&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.5/27.6/80.6, &lt;span style=&#34;color:#19177c&#34;&gt;Denpasar&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.2/23.7/71.8, &lt;span style=&#34;color:#19177c&#34;&gt;Denver&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-41.5/10.4/59.5, &lt;span style=&#34;color:#19177c&#34;&gt;Detroit&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.6/10.0/62.4, &lt;span style=&#34;color:#19177c&#34;&gt;Dhaka&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.8/25.9/76.4, &lt;span style=&#34;color:#19177c&#34;&gt;Dikson&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-62.7/-11.1/39.0, &lt;span style=&#34;color:#19177c&#34;&gt;Dili&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.0/26.6/78.4, &lt;span style=&#34;color:#19177c&#34;&gt;Djibouti&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-19.2/29.9/79.6, &lt;span style=&#34;color:#19177c&#34;&gt;Dodoma&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.6/22.7/71.4, &lt;span style=&#34;color:#19177c&#34;&gt;Dolisie&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.8/24.0/75.4, &lt;span style=&#34;color:#19177c&#34;&gt;Douala&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.4/26.7/79.6, &lt;span style=&#34;color:#19177c&#34;&gt;Dubai&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.8/26.9/75.0, &lt;span style=&#34;color:#19177c&#34;&gt;Dublin&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.0/9.8/59.5, &lt;span style=&#34;color:#19177c&#34;&gt;Dunedin&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.7/11.1/64.8, &lt;span style=&#34;color:#19177c&#34;&gt;Durban&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.8/20.6/67.6, &lt;span style=&#34;color:#19177c&#34;&gt;Dushanbe&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.0/14.7/64.1, &lt;span style=&#34;color:#19177c&#34;&gt;Edinburgh&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.0/9.3/60.4, &lt;span style=&#34;color:#19177c&#34;&gt;Edmonton&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.1/4.2/57.7, El &lt;span style=&#34;color:#19177c&#34;&gt;Paso&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.0/18.1/65.6, &lt;span style=&#34;color:#19177c&#34;&gt;Entebbe&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.2/21.0/68.8, &lt;span style=&#34;color:#19177c&#34;&gt;Erbil&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.7/19.5/68.4, &lt;span style=&#34;color:#19177c&#34;&gt;Erzurum&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-59.1/5.1/52.7, &lt;span style=&#34;color:#19177c&#34;&gt;Fairbanks&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-53.7/-2.3/49.5, &lt;span style=&#34;color:#19177c&#34;&gt;Fianarantsoa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.2/17.9/68.1, Flores,  &lt;span style=&#34;color:#19177c&#34;&gt;Petén&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.1/26.4/76.1, &lt;span style=&#34;color:#19177c&#34;&gt;Frankfurt&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.8/10.6/59.0, &lt;span style=&#34;color:#19177c&#34;&gt;Fresno&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.2/17.9/66.9, &lt;span style=&#34;color:#19177c&#34;&gt;Fukuoka&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.4/17.0/66.5, &lt;span style=&#34;color:#19177c&#34;&gt;Gaborone&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.4/21.0/71.1, &lt;span style=&#34;color:#19177c&#34;&gt;Gabès&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.9/19.5/72.1, &lt;span style=&#34;color:#19177c&#34;&gt;Gagnoa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.3/26.0/75.6, &lt;span style=&#34;color:#19177c&#34;&gt;Gangtok&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.2/15.2/64.0, &lt;span style=&#34;color:#19177c&#34;&gt;Garissa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.1/29.3/79.5, &lt;span style=&#34;color:#19177c&#34;&gt;Garoua&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.2/28.3/81.5, George &lt;span style=&#34;color:#19177c&#34;&gt;Town&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.6/27.9/76.6, &lt;span style=&#34;color:#19177c&#34;&gt;Ghanzi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.2/21.4/70.9, Gjoa &lt;span style=&#34;color:#19177c&#34;&gt;Haven&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-65.2/-14.4/35.7, &lt;span style=&#34;color:#19177c&#34;&gt;Guadalajara&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.3/20.9/79.5, &lt;span style=&#34;color:#19177c&#34;&gt;Guangzhou&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.5/22.4/73.1, Guatemala &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.2/20.4/71.3, &lt;span style=&#34;color:#19177c&#34;&gt;Halifax&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-47.6/7.5/53.9, &lt;span style=&#34;color:#19177c&#34;&gt;Hamburg&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.7/9.7/60.2, &lt;span style=&#34;color:#19177c&#34;&gt;Hamilton&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.6/13.8/63.5, Hanga &lt;span style=&#34;color:#19177c&#34;&gt;Roa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-27.6/20.5/69.3, &lt;span style=&#34;color:#19177c&#34;&gt;Hanoi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.9/23.6/74.1, &lt;span style=&#34;color:#19177c&#34;&gt;Harare&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.0/18.4/69.0, &lt;span style=&#34;color:#19177c&#34;&gt;Harbin&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.9/5.0/55.5, &lt;span style=&#34;color:#19177c&#34;&gt;Hargeisa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.0/21.7/72.5, Hat &lt;span style=&#34;color:#19177c&#34;&gt;Yai&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.0/27.0/79.0, &lt;span style=&#34;color:#19177c&#34;&gt;Havana&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.8/25.2/75.7, &lt;span style=&#34;color:#19177c&#34;&gt;Helsinki&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-43.1/5.9/56.2, &lt;span style=&#34;color:#19177c&#34;&gt;Heraklion&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.4/18.9/69.0, &lt;span style=&#34;color:#19177c&#34;&gt;Hiroshima&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.9/16.3/70.1, Ho Chi Minh &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.0/27.4/84.4, &lt;span style=&#34;color:#19177c&#34;&gt;Hobart&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.7/12.7/63.5, Hong &lt;span style=&#34;color:#19177c&#34;&gt;Kong&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.6/23.3/72.2, &lt;span style=&#34;color:#19177c&#34;&gt;Honiara&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.5/26.5/75.4, &lt;span style=&#34;color:#19177c&#34;&gt;Honolulu&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.8/25.4/73.5, &lt;span style=&#34;color:#19177c&#34;&gt;Houston&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.6/20.8/69.1, &lt;span style=&#34;color:#19177c&#34;&gt;Ifrane&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.7/11.4/61.5, &lt;span style=&#34;color:#19177c&#34;&gt;Indianapolis&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.9/11.8/63.6, &lt;span style=&#34;color:#19177c&#34;&gt;Iqaluit&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-57.0/-9.3/41.7, &lt;span style=&#34;color:#19177c&#34;&gt;Irkutsk&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-48.5/1.0/48.6, &lt;span style=&#34;color:#19177c&#34;&gt;Istanbul&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.4/13.9/60.6, &lt;span style=&#34;color:#19177c&#34;&gt;Jacksonville&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.2/20.3/69.9, &lt;span style=&#34;color:#19177c&#34;&gt;Jakarta&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.9/26.7/76.4, &lt;span style=&#34;color:#19177c&#34;&gt;Jayapura&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.0/27.0/75.5, &lt;span style=&#34;color:#19177c&#34;&gt;Jerusalem&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.2/18.3/67.6, &lt;span style=&#34;color:#19177c&#34;&gt;Johannesburg&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.3/15.5/66.9, &lt;span style=&#34;color:#19177c&#34;&gt;Jos&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.9/22.8/71.8, &lt;span style=&#34;color:#19177c&#34;&gt;Juba&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.9/27.8/79.4, &lt;span style=&#34;color:#19177c&#34;&gt;Kabul&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.1/12.1/61.8, &lt;span style=&#34;color:#19177c&#34;&gt;Kampala&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.1/20.0/69.1, &lt;span style=&#34;color:#19177c&#34;&gt;Kandi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.0/27.7/76.9, &lt;span style=&#34;color:#19177c&#34;&gt;Kankan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.0/26.5/74.6, &lt;span style=&#34;color:#19177c&#34;&gt;Kano&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.3/26.4/79.3, Kansas &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.6/12.5/62.8, &lt;span style=&#34;color:#19177c&#34;&gt;Karachi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.3/26.0/81.8, &lt;span style=&#34;color:#19177c&#34;&gt;Karonga&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.9/24.4/72.4, &lt;span style=&#34;color:#19177c&#34;&gt;Kathmandu&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.2/18.3/66.6, &lt;span style=&#34;color:#19177c&#34;&gt;Khartoum&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.2/29.9/80.7, &lt;span style=&#34;color:#19177c&#34;&gt;Kingston&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.5/27.4/82.6, &lt;span style=&#34;color:#19177c&#34;&gt;Kinshasa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.0/25.3/74.0, &lt;span style=&#34;color:#19177c&#34;&gt;Kolkata&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.9/26.7/73.9, Kuala &lt;span style=&#34;color:#19177c&#34;&gt;Lumpur&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.9/27.3/76.2, &lt;span style=&#34;color:#19177c&#34;&gt;Kumasi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.1/26.0/74.6, &lt;span style=&#34;color:#19177c&#34;&gt;Kunming&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.1/15.7/67.9, &lt;span style=&#34;color:#19177c&#34;&gt;Kuopio&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-47.0/3.4/56.9, Kuwait &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.8/25.7/74.1, &lt;span style=&#34;color:#19177c&#34;&gt;Kyiv&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.6/8.4/62.5, &lt;span style=&#34;color:#19177c&#34;&gt;Kyoto&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.9/15.8/62.4, La &lt;span style=&#34;color:#19177c&#34;&gt;Ceiba&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.1/26.2/76.5, La &lt;span style=&#34;color:#19177c&#34;&gt;Paz&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-27.7/23.7/71.5, &lt;span style=&#34;color:#19177c&#34;&gt;Lagos&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.9/26.8/76.1, &lt;span style=&#34;color:#19177c&#34;&gt;Lahore&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.4/24.3/77.3, Lake Havasu &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.0/23.7/77.1, Lake &lt;span style=&#34;color:#19177c&#34;&gt;Tekapo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.7/8.7/62.3, Las Palmas de Gran &lt;span style=&#34;color:#19177c&#34;&gt;Canaria&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.0/21.2/69.9, Las &lt;span style=&#34;color:#19177c&#34;&gt;Vegas&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.4/20.3/72.0, &lt;span style=&#34;color:#19177c&#34;&gt;Launceston&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.5/13.1/62.6, &lt;span style=&#34;color:#19177c&#34;&gt;Lhasa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.2/7.6/59.7, &lt;span style=&#34;color:#19177c&#34;&gt;Libreville&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.8/25.9/75.4, &lt;span style=&#34;color:#19177c&#34;&gt;Lisbon&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.6/17.5/65.5, &lt;span style=&#34;color:#19177c&#34;&gt;Livingstone&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.2/21.8/70.9, &lt;span style=&#34;color:#19177c&#34;&gt;Ljubljana&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.0/10.9/59.3, &lt;span style=&#34;color:#19177c&#34;&gt;Lodwar&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.5/29.3/75.7, &lt;span style=&#34;color:#19177c&#34;&gt;Lomé&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.2/26.9/75.8, &lt;span style=&#34;color:#19177c&#34;&gt;London&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.4/11.3/61.3, Los &lt;span style=&#34;color:#19177c&#34;&gt;Angeles&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.4/18.6/67.7, &lt;span style=&#34;color:#19177c&#34;&gt;Louisville&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.7/13.9/64.1, &lt;span style=&#34;color:#19177c&#34;&gt;Luanda&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.9/25.8/73.5, &lt;span style=&#34;color:#19177c&#34;&gt;Lubumbashi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.5/20.8/70.1, &lt;span style=&#34;color:#19177c&#34;&gt;Lusaka&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.5/19.9/71.8, Luxembourg &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.0/9.3/60.7, &lt;span style=&#34;color:#19177c&#34;&gt;Lviv&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.8/7.8/56.1, &lt;span style=&#34;color:#19177c&#34;&gt;Lyon&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.8/12.5/63.9, &lt;span style=&#34;color:#19177c&#34;&gt;Madrid&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.0/15.0/66.5, &lt;span style=&#34;color:#19177c&#34;&gt;Mahajanga&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.6/26.3/78.7, &lt;span style=&#34;color:#19177c&#34;&gt;Makassar&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.5/26.7/77.7, &lt;span style=&#34;color:#19177c&#34;&gt;Makurdi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.5/26.0/76.8, &lt;span style=&#34;color:#19177c&#34;&gt;Malabo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.6/26.3/75.2, &lt;span style=&#34;color:#19177c&#34;&gt;Malé&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.3/28.0/76.1, &lt;span style=&#34;color:#19177c&#34;&gt;Managua&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.8/27.3/75.9, &lt;span style=&#34;color:#19177c&#34;&gt;Manama&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.0/26.5/74.2, &lt;span style=&#34;color:#19177c&#34;&gt;Mandalay&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.5/28.0/76.8, &lt;span style=&#34;color:#19177c&#34;&gt;Mango&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.7/28.1/76.8, &lt;span style=&#34;color:#19177c&#34;&gt;Manila&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.7/28.4/75.6, &lt;span style=&#34;color:#19177c&#34;&gt;Maputo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.1/22.8/78.7, &lt;span style=&#34;color:#19177c&#34;&gt;Marrakesh&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.3/19.6/70.9, &lt;span style=&#34;color:#19177c&#34;&gt;Marseille&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.0/15.8/66.9, &lt;span style=&#34;color:#19177c&#34;&gt;Maun&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.9/22.4/69.7, &lt;span style=&#34;color:#19177c&#34;&gt;Medan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.2/26.5/76.0, Mek&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;ele=-29.4/22.7/73.3, Melbourne=-38.3/15.1/66.1, Memphis=-33.5/17.2/67.1, Mexicali=-24.0/23.1/71.9, Mexico City=-32.0/17.5/71.3, Miami=-29.6/24.9/75.9, Milan=-33.2/13.0/60.8, Milwaukee=-40.1/8.9/59.1, Minneapolis=-41.5/7.8/56.3, Minsk=-42.8/6.7/54.2, Mogadishu=-21.8/27.1/76.8, Mombasa=-22.8/26.3/76.9, Monaco=-38.1/16.4/66.9, Moncton=-42.1/6.1/59.2, Monterrey=-27.4/22.3/70.4, Montreal=-41.6/6.8/57.2, Moscow=-46.6/5.8/56.8, Mumbai=-23.1/27.1/76.1, Murmansk=-52.9/0.6/51.2, Muscat=-20.6/28.0/74.0, Mzuzu=-31.0/17.7/66.6, N&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;Djamena&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.9/28.3/75.6, &lt;span style=&#34;color:#19177c&#34;&gt;Naha&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.3/23.1/72.2, &lt;span style=&#34;color:#19177c&#34;&gt;Nairobi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.5/17.8/69.6, Nakhon &lt;span style=&#34;color:#19177c&#34;&gt;Ratchasima&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.9/27.3/75.3, &lt;span style=&#34;color:#19177c&#34;&gt;Napier&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.8/14.6/64.5, &lt;span style=&#34;color:#19177c&#34;&gt;Napoli&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.7/15.9/64.9, &lt;span style=&#34;color:#19177c&#34;&gt;Nashville&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.2/15.4/67.1, &lt;span style=&#34;color:#19177c&#34;&gt;Nassau&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.2/24.6/71.8, &lt;span style=&#34;color:#19177c&#34;&gt;Ndola&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.9/20.3/70.9, New &lt;span style=&#34;color:#19177c&#34;&gt;Delhi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.3/25.0/77.2, New &lt;span style=&#34;color:#19177c&#34;&gt;Orleans&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.8/20.7/72.1, New York &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.6/12.9/62.6, &lt;span style=&#34;color:#19177c&#34;&gt;Ngaoundéré&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.1/22.0/69.9, &lt;span style=&#34;color:#19177c&#34;&gt;Niamey&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.6/29.3/78.0, &lt;span style=&#34;color:#19177c&#34;&gt;Nicosia&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.4/19.7/68.2, &lt;span style=&#34;color:#19177c&#34;&gt;Niigata&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.7/13.9/69.4, &lt;span style=&#34;color:#19177c&#34;&gt;Nouadhibou&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.9/21.3/73.9, &lt;span style=&#34;color:#19177c&#34;&gt;Nouakchott&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.6/25.7/73.4, &lt;span style=&#34;color:#19177c&#34;&gt;Novosibirsk&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-47.8/1.7/50.6, &lt;span style=&#34;color:#19177c&#34;&gt;Nuuk&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-53.1/-1.4/49.1, &lt;span style=&#34;color:#19177c&#34;&gt;Odesa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.9/10.7/60.5, &lt;span style=&#34;color:#19177c&#34;&gt;Odienné&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.3/26.0/76.2, Oklahoma &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.6/15.9/66.9, &lt;span style=&#34;color:#19177c&#34;&gt;Omaha&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.2/10.6/65.6, &lt;span style=&#34;color:#19177c&#34;&gt;Oranjestad&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.1/28.1/81.0, &lt;span style=&#34;color:#19177c&#34;&gt;Oslo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.5/5.7/54.8, &lt;span style=&#34;color:#19177c&#34;&gt;Ottawa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.5/6.6/57.8, &lt;span style=&#34;color:#19177c&#34;&gt;Ouagadougou&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.9/28.3/81.2, &lt;span style=&#34;color:#19177c&#34;&gt;Ouahigouya&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.0/28.6/77.4, &lt;span style=&#34;color:#19177c&#34;&gt;Ouarzazate&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.3/18.9/73.1, &lt;span style=&#34;color:#19177c&#34;&gt;Oulu&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.4/2.7/54.9, &lt;span style=&#34;color:#19177c&#34;&gt;Palembang&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.7/27.3/75.9, &lt;span style=&#34;color:#19177c&#34;&gt;Palermo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.1/18.5/71.7, Palm &lt;span style=&#34;color:#19177c&#34;&gt;Springs&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.4/24.5/78.2, Palmerston &lt;span style=&#34;color:#19177c&#34;&gt;North&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.3/13.2/64.8, Panama &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.3/28.0/75.6, &lt;span style=&#34;color:#19177c&#34;&gt;Parakou&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.9/26.8/76.2, &lt;span style=&#34;color:#19177c&#34;&gt;Paris&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.3/12.3/62.7, &lt;span style=&#34;color:#19177c&#34;&gt;Perth&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.1/18.7/72.0, Petropavlovsk-Kamchatsky&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-47.2/1.9/49.2, &lt;span style=&#34;color:#19177c&#34;&gt;Philadelphia&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.3/13.2/64.6, Phnom &lt;span style=&#34;color:#19177c&#34;&gt;Penh&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-18.4/28.3/79.7, &lt;span style=&#34;color:#19177c&#34;&gt;Phoenix&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.5/23.9/73.4, &lt;span style=&#34;color:#19177c&#34;&gt;Pittsburgh&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.0/10.8/60.8, &lt;span style=&#34;color:#19177c&#34;&gt;Podgorica&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.0/15.3/70.7, Pointe-Noire&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.7/26.1/76.1, &lt;span style=&#34;color:#19177c&#34;&gt;Pontianak&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.3/27.7/76.5, Port &lt;span style=&#34;color:#19177c&#34;&gt;Moresby&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.6/26.9/77.9, Port &lt;span style=&#34;color:#19177c&#34;&gt;Sudan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.4/28.4/78.1, Port &lt;span style=&#34;color:#19177c&#34;&gt;Vila&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.1/24.3/74.7, Port-Gentil&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.9/26.0/76.0, Portland &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;OR&lt;span style=&#34;color:#666&#34;&gt;)=&lt;/span&gt;-35.6/12.4/59.7, &lt;span style=&#34;color:#19177c&#34;&gt;Porto&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.5/15.7/63.8, &lt;span style=&#34;color:#19177c&#34;&gt;Prague&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.2/8.4/61.1, &lt;span style=&#34;color:#19177c&#34;&gt;Praia&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.0/24.4/75.6, &lt;span style=&#34;color:#19177c&#34;&gt;Pretoria&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.0/18.2/67.7, &lt;span style=&#34;color:#19177c&#34;&gt;Pyongyang&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.5/10.8/59.3, &lt;span style=&#34;color:#19177c&#34;&gt;Rabat&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.2/17.2/68.7, &lt;span style=&#34;color:#19177c&#34;&gt;Rangpur&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-21.9/24.4/74.3, &lt;span style=&#34;color:#19177c&#34;&gt;Reggane&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.3/28.3/79.2, &lt;span style=&#34;color:#19177c&#34;&gt;Reykjavík&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-49.4/4.3/53.5, &lt;span style=&#34;color:#19177c&#34;&gt;Riga&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.5/6.2/57.0, &lt;span style=&#34;color:#19177c&#34;&gt;Riyadh&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.1/26.0/74.0, &lt;span style=&#34;color:#19177c&#34;&gt;Rome&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.8/15.2/68.6, &lt;span style=&#34;color:#19177c&#34;&gt;Roseau&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.8/26.2/76.1, Rostov-on-Don&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-41.8/9.9/57.2, &lt;span style=&#34;color:#19177c&#34;&gt;Sacramento&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.3/16.3/67.2, Saint &lt;span style=&#34;color:#19177c&#34;&gt;Petersburg&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.6/5.8/56.4, Saint-Pierre&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-43.4/5.7/56.2, Salt Lake &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.3/11.6/61.8, San &lt;span style=&#34;color:#19177c&#34;&gt;Antonio&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.8/20.8/71.2, San &lt;span style=&#34;color:#19177c&#34;&gt;Diego&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.1/17.8/66.1, San &lt;span style=&#34;color:#19177c&#34;&gt;Francisco&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.3/14.6/60.4, San &lt;span style=&#34;color:#19177c&#34;&gt;Jose&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.0/16.4/65.1, San &lt;span style=&#34;color:#19177c&#34;&gt;José&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-26.4/22.6/69.7, San &lt;span style=&#34;color:#19177c&#34;&gt;Juan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.5/27.2/77.3, San &lt;span style=&#34;color:#19177c&#34;&gt;Salvador&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.7/23.1/75.1, Sana&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;a=-30.8/20.0/68.6, Santo Domingo=-23.6/25.9/76.6, Sapporo=-38.9/8.9/61.8, Sarajevo=-45.0/10.1/59.4, Saskatoon=-47.3/3.3/51.5, Seattle=-38.1/11.3/60.6, Seoul=-36.0/12.5/61.2, Seville=-32.2/19.2/73.1, Shanghai=-35.1/16.7/67.0, Singapore=-23.7/27.0/81.9, Skopje=-35.5/12.4/64.3, Sochi=-34.3/14.2/65.2, Sofia=-38.2/10.6/61.6, Sokoto=-23.1/28.0/73.2, Split=-32.7/16.1/62.2, St. John&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;s&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.1/5.0/56.4, St. &lt;span style=&#34;color:#19177c&#34;&gt;Louis&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-41.2/13.9/64.2, &lt;span style=&#34;color:#19177c&#34;&gt;Stockholm&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.5/6.6/55.9, &lt;span style=&#34;color:#19177c&#34;&gt;Surabaya&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.4/27.1/76.1, &lt;span style=&#34;color:#19177c&#34;&gt;Suva&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.1/25.6/78.8, &lt;span style=&#34;color:#19177c&#34;&gt;Suwałki&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-45.4/7.2/62.3, &lt;span style=&#34;color:#19177c&#34;&gt;Sydney&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-30.1/17.7/68.8, &lt;span style=&#34;color:#19177c&#34;&gt;Ségou&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.2/28.0/75.1, &lt;span style=&#34;color:#19177c&#34;&gt;Tabora&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.7/23.0/73.7, &lt;span style=&#34;color:#19177c&#34;&gt;Tabriz&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.8/12.6/61.9, &lt;span style=&#34;color:#19177c&#34;&gt;Taipei&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.6/23.0/74.8, &lt;span style=&#34;color:#19177c&#34;&gt;Tallinn&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.6/6.4/60.7, &lt;span style=&#34;color:#19177c&#34;&gt;Tamale&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.3/27.9/77.7, &lt;span style=&#34;color:#19177c&#34;&gt;Tamanrasset&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.7/21.7/71.7, &lt;span style=&#34;color:#19177c&#34;&gt;Tampa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.8/22.9/70.4, &lt;span style=&#34;color:#19177c&#34;&gt;Tashkent&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.2/14.8/64.3, &lt;span style=&#34;color:#19177c&#34;&gt;Tauranga&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.9/14.8/66.9, &lt;span style=&#34;color:#19177c&#34;&gt;Tbilisi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.6/12.9/66.2, &lt;span style=&#34;color:#19177c&#34;&gt;Tegucigalpa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-27.1/21.7/74.1, &lt;span style=&#34;color:#19177c&#34;&gt;Tehran&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.5/17.0/73.6, Tel &lt;span style=&#34;color:#19177c&#34;&gt;Aviv&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-27.0/20.0/66.8, &lt;span style=&#34;color:#19177c&#34;&gt;Thessaloniki&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.4/16.0/64.6, &lt;span style=&#34;color:#19177c&#34;&gt;Thiès&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.4/24.0/74.2, &lt;span style=&#34;color:#19177c&#34;&gt;Tijuana&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.9/17.8/67.9, &lt;span style=&#34;color:#19177c&#34;&gt;Timbuktu&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-20.3/28.0/76.9, &lt;span style=&#34;color:#19177c&#34;&gt;Tirana&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.2/15.2/68.3, &lt;span style=&#34;color:#19177c&#34;&gt;Toamasina&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.2/23.4/78.7, &lt;span style=&#34;color:#19177c&#34;&gt;Tokyo&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.5/15.4/62.2, &lt;span style=&#34;color:#19177c&#34;&gt;Toliara&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-24.4/24.1/74.6, &lt;span style=&#34;color:#19177c&#34;&gt;Toluca&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.5/12.4/60.2, &lt;span style=&#34;color:#19177c&#34;&gt;Toronto&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.7/9.4/62.7, &lt;span style=&#34;color:#19177c&#34;&gt;Tripoli&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.3/20.0/67.9, &lt;span style=&#34;color:#19177c&#34;&gt;Tromsø&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.3/2.9/53.4, &lt;span style=&#34;color:#19177c&#34;&gt;Tucson&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-28.7/20.9/73.6, &lt;span style=&#34;color:#19177c&#34;&gt;Tunis&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.3/18.4/65.9, &lt;span style=&#34;color:#19177c&#34;&gt;Ulaanbaatar&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-55.5/-0.4/50.6, &lt;span style=&#34;color:#19177c&#34;&gt;Upington&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-29.9/20.4/76.8, &lt;span style=&#34;color:#19177c&#34;&gt;Vaduz&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.6/10.1/69.8, &lt;span style=&#34;color:#19177c&#34;&gt;Valencia&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-33.5/18.3/73.8, &lt;span style=&#34;color:#19177c&#34;&gt;Valletta&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.2/18.8/70.1, &lt;span style=&#34;color:#19177c&#34;&gt;Vancouver&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.7/10.4/64.5, &lt;span style=&#34;color:#19177c&#34;&gt;Veracruz&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.0/25.4/76.1, &lt;span style=&#34;color:#19177c&#34;&gt;Vienna&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.5/10.4/63.9, &lt;span style=&#34;color:#19177c&#34;&gt;Vientiane&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.6/25.9/78.1, &lt;span style=&#34;color:#19177c&#34;&gt;Villahermosa&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.7/27.1/75.1, &lt;span style=&#34;color:#19177c&#34;&gt;Vilnius&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-43.7/6.0/56.9, Virginia &lt;span style=&#34;color:#19177c&#34;&gt;Beach&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-31.6/15.8/66.6, &lt;span style=&#34;color:#19177c&#34;&gt;Vladivostok&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-46.6/4.9/55.3, &lt;span style=&#34;color:#19177c&#34;&gt;Warsaw&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-44.5/8.5/55.2, Washington, D.C.&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-34.4/14.6/63.7, &lt;span style=&#34;color:#19177c&#34;&gt;Wau&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-22.0/27.8/79.3, &lt;span style=&#34;color:#19177c&#34;&gt;Wellington&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.5/12.9/61.2, &lt;span style=&#34;color:#19177c&#34;&gt;Whitehorse&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-49.8/-0.1/48.7, &lt;span style=&#34;color:#19177c&#34;&gt;Wichita&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-36.1/13.9/64.1, &lt;span style=&#34;color:#19177c&#34;&gt;Willemstad&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-25.4/28.0/79.2, &lt;span style=&#34;color:#19177c&#34;&gt;Winnipeg&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-48.1/3.0/56.5, &lt;span style=&#34;color:#19177c&#34;&gt;Wrocław&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.2/9.6/59.3, Xi&lt;span style=&#34;&#34;&gt;&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;an&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-38.3/14.1/64.6, &lt;span style=&#34;color:#19177c&#34;&gt;Yakutsk&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-57.8/-8.8/40.8, &lt;span style=&#34;color:#19177c&#34;&gt;Yangon&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.1/27.5/83.6, &lt;span style=&#34;color:#19177c&#34;&gt;Yaoundé&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-35.7/23.8/72.9, &lt;span style=&#34;color:#19177c&#34;&gt;Yellowknife&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-52.0/-4.3/42.5, &lt;span style=&#34;color:#19177c&#34;&gt;Yerevan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-42.5/12.4/63.4, &lt;span style=&#34;color:#19177c&#34;&gt;Yinchuan&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-40.9/9.0/57.6, &lt;span style=&#34;color:#19177c&#34;&gt;Zagreb&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-37.9/10.7/58.1, Zanzibar &lt;span style=&#34;color:#19177c&#34;&gt;City&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-23.9/26.0/77.2, &lt;span style=&#34;color:#19177c&#34;&gt;Zürich&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.0/9.3/56.0, &lt;span style=&#34;color:#19177c&#34;&gt;Ürümqi&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-39.6/7.4/58.1, &lt;span style=&#34;color:#19177c&#34;&gt;İzmir&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;-32.8/17.9/67.9&lt;span style=&#34;color:#666&#34;&gt;}&lt;/span&gt;Run Time &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;s&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;: real 7.099 user 60.866615 sys 1.753477
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;.quit
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;real 7.11
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;user 60.87
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sys 1.75
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    <item>
      <title>Deploying Antora with GitHub Actions and a private GitHub repo</title>
      <link>https://rmoff.net/2023/12/19/deploying-antora-with-github-actions-and-a-private-github-repo/</link>
      <pubDate>2023-12-19</pubDate>
      
      <guid>https://rmoff.net/2023/12/19/deploying-antora-with-github-actions-and-a-private-github-repo/</guid>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://rmoff.net/images/2023/12/t_IMG_6978.webp" medium="image" type="image/jpg" width="100" height="100" />
      <description>&lt;p&gt;&lt;a href=&#34;https://antora.org/&#34;&gt;Antora&lt;/a&gt; is a modern documentation site generator with many nice features including sourcing documentation content from one or more separate git repositories. This means that your docs can be kept under source control (yay 🎉) and in sync with the code of the product that they are documenting (double yay 🎉🎉).&lt;/p&gt;
&lt;p&gt;As you would expect for a documentation tool, the &lt;a href=&#34;https://docs.antora.org/antora/latest/&#34;&gt;Antora documentation&lt;/a&gt; is thorough but there was one sharp edge involving GitHub that caught me out which I&amp;rsquo;ll detail here.&lt;/p&gt;
&lt;h2 id=&#34;overview&#34;&gt;Overview&lt;/h2&gt;
&lt;p&gt;I&amp;rsquo;ve got two git repositories in GitHub, under the same organisation. Both are private. One holds the Antora configuration including the list of content sources which includes source files in the second repository.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/12/gh1.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;building-antora-using-a-github-action&#34;&gt;Building Antora using a GitHub Action&lt;/h2&gt;
&lt;p&gt;The Antora docs &lt;a href=&#34;https://docs.antora.org/antora/latest/publish-to-github-pages/#using-github-actions&#34;&gt;show how&lt;/a&gt; to publish to GitHub Pages. I&amp;rsquo;ve modified this slightly to work with Cloudflare Pages (of which more below), but the salient steps are as follows:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[…]&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;steps&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;- &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;name&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Checkout repository&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;uses&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;actions/checkout@v4&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;- &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;name&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Install Node.js&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;uses&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;actions/setup-node@v4&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;with&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;node-version&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;18&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;- &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;name&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Install Antora with the Antora Lunr Extension&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;run&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;npm i antora @antora/lunr-extension&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;- &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;name&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Generate Site&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;run&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;npx antora antora-playbook.yml&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;[…]&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;That is:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Checkout the current repository (i.e. &lt;code&gt;docs-platform&lt;/code&gt;). An important point to note is that this holds the Antora configuration but &lt;em&gt;not&lt;/em&gt; the documentation source files themselves&lt;/li&gt;
&lt;li&gt;Install node.js and lunr-extension&lt;/li&gt;
&lt;li&gt;Generate the site. It&amp;rsquo;s at &lt;em&gt;this&lt;/em&gt; point that Antora is run, reads the &lt;code&gt;antora-playbook.yml&lt;/code&gt; configuration, and goes to fetch the documentation source files.&lt;/li&gt;
&lt;/ol&gt;
&lt;h2 id=&#34;accessing-a-private-github-repository-from-antora-on-github-actions&#34;&gt;Accessing a private GitHub repository from Antora on GitHub Actions&lt;/h2&gt;
&lt;p&gt;Again, the Antora docs discuss how to handle &lt;a href=&#34;https://docs.antora.org/antora/latest/playbook/private-repository-auth/&#34;&gt;private repository authentication&lt;/a&gt;. Because &lt;a href=&#34;https://docs.antora.org/antora/latest/playbook/private-repository-auth/#credential-types&#34;&gt;the docs&lt;/a&gt; are based around git and not GitHub specifically there is a bit of groking to do if you&amp;rsquo;re working with GitHub but it boils down to:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;You &lt;em&gt;could&lt;/em&gt; use your GitHub credentials (username/password) but &lt;strong&gt;this would be a really bad security practice&lt;/strong&gt;, and also not even possible if you&amp;rsquo;ve got two-factor authentication (2FA) enabled (which you really should have).&lt;/li&gt;
&lt;li&gt;You should use a &lt;a href=&#34;https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens#about-personal-access-tokens&#34;&gt;personal access token&lt;/a&gt; (PAT).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;strong&gt;NOTE:&lt;/strong&gt; per the docs you cannot use deploy tokens or keys on GitHub:&lt;/p&gt;
&lt;blockquote&gt;
&lt;ul&gt;
&lt;li&gt;Deploy keys cannot be used with Antora since they require the use of SSH authentication, which the git client in Antora does not support.&lt;/li&gt;
&lt;li&gt;GitHub does not support deploy tokens at this time [December 2023 / Antora 3.1]&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;h3 id=&#34;types-of-pat&#34;&gt;Types of PAT&lt;/h3&gt;
&lt;p&gt;GitHub has &lt;a href=&#34;https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/managing-your-personal-access-tokens#types-of-personal-access-tokens&#34;&gt;two types of PAT&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Classic&lt;/li&gt;
&lt;li&gt;Fine-grained&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Fine-grained PATs were &lt;a href=&#34;https://github.blog/2022-10-18-introducing-fine-grained-personal-access-tokens-for-github/&#34;&gt;announced in October 2022&lt;/a&gt; and are marked as beta in the UI. However, they are necessary to use, as I eventually found out. This is because an organisation can be configured to &lt;a href=&#34;https://docs.github.com/en/organizations/managing-programmatic-access-to-your-organization/setting-a-personal-access-token-policy-for-your-organization#restricting-access-by-personal-access-tokens-classic&#34;&gt;block the use of classic PATs&lt;/a&gt;, but the message that Antora returns when it &lt;em&gt;is&lt;/em&gt; blocked doesn&amp;rsquo;t explain this, hence writing this blog :)&lt;/p&gt;
&lt;h3 id=&#34;github-authentication-and-authorization-error-messages-with-antora&#34;&gt;GitHub Authentication and Authorization error messages with Antora&lt;/h3&gt;
&lt;p&gt;When Antora builds a site and pulls in content from a git repository it will throw an error if it hits a problem, but unfortunately not always surface the full reponse from the server. One way to test your PAT is going to work (and rule it out as a problem when other bits of the GitHub Actions pipeline don&amp;rsquo;t work!) is using &lt;code&gt;curl&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl  -w &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;\n\nHTTP code: %{http_code}\n&amp;#34;&lt;/span&gt; -s -L &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;      -H &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;Authorization: Bearer &lt;/span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;$PAT&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;      https://api.github.com/repos/&lt;span style=&#34;color:#19177c&#34;&gt;$ORG&lt;/span&gt;/&lt;span style=&#34;color:#19177c&#34;&gt;$REPO&lt;/span&gt;/contents/
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;(replace &lt;code&gt;$PAT&lt;/code&gt;, &lt;code&gt;$ORG&lt;/code&gt;, &lt;code&gt;REPO&lt;/code&gt; accordingly)&lt;/p&gt;
&lt;p&gt;This gives you both the response, and the HTTP code.&lt;/p&gt;
&lt;p&gt;In conjunction with this you can hardcode the credentials into the &lt;code&gt;antora-playbook.yml&lt;/code&gt; (&lt;strong&gt;WHICH IS A REALLY BAD IDEA M&amp;rsquo;KAY&lt;/strong&gt;) just for testing as this helps to avoid any complications with environment variables (which we get into later), like this:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;content&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;sources&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;- &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;url&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;https://my_pat_goes_here:@github.com/my_org/my_repo.git&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;Note the trailing &lt;code&gt;:&lt;/code&gt; after the PAT and before the &lt;code&gt;@&lt;/code&gt;&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;I used this to iterate over different permutations below to figure out quite what was going on.&lt;/p&gt;
&lt;h4 id=&#34;-invalid-token&#34;&gt;❌ Invalid Token&lt;/h4&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;HTTP code&lt;/strong&gt;: 401&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;HTTP response message&lt;/strong&gt;: &lt;code&gt;Bad credentials&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Antora message&lt;/strong&gt;: &lt;code&gt;FATAL (antora): Content repository not found or credentials were rejected&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To fix this one you need to generate a valid PAT. Also make sure that you&amp;rsquo;re configuring it in the correct format with a trailing &lt;code&gt;:&lt;/code&gt; after the PAT and before the &lt;code&gt;@&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;https://my_pat_goes_here:@github.com
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h4 id=&#34;-valid-token-invalid-permissions&#34;&gt;❌ Valid Token, Invalid Permissions&lt;/h4&gt;
&lt;p&gt;This is the problem that I hit. My PAT was valid—I check &lt;em&gt;literally&lt;/em&gt; a &lt;strong&gt;gazillion&lt;/strong&gt; times—but still the Antora build failed.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;HTTP code&lt;/strong&gt;: 403&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;HTTP response message&lt;/strong&gt;: &lt;code&gt; `my_org` forbids access via a personal access token (classic). Please use a GitHub App, OAuth App, or a personal access token with fine-grained permissions.&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Antora message&lt;/strong&gt;: &lt;code&gt;FATAL (antora): HTTP Error: 403 Forbidden&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;As the HTTP reponse message tells me, I&amp;rsquo;m using a &amp;ldquo;classic&amp;rdquo; PAT, and the GitHub org whose repo I&amp;rsquo;m trying to access prohibits this. Looking at the Antora message this is literally true (403 Forbidden) but if you&amp;rsquo;re not clued up on the nuances of PATs may well escape you (it had me scratching my head for several hours).&lt;/p&gt;
&lt;h4 id=&#34;-valid-token-valid-permissions&#34;&gt;✅ Valid Token, Valid Permissions&lt;/h4&gt;
&lt;p&gt;This is what we&amp;rsquo;re aiming for - a valid token, which has the necessary permissions to access the repository.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;HTTP code&lt;/strong&gt;: 200&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Antora message&lt;/strong&gt;: Site generation complete!&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;To create a fine-grained PAT go to your GitHub&amp;rsquo;s account &lt;a href=&#34;https://github.com/settings/tokens?type=beta&#34;&gt;Settings -&amp;gt; Developer settings -&amp;gt; Personal access tokens -&amp;gt; Fine-grained tokens&lt;/a&gt;. Specify the organisation&amp;rsquo;s repository that Antora needs to access, and add &lt;strong&gt;Read access to code and metadata&lt;/strong&gt; for permissions. Depending on your organisations settings, you may need to get the org owner to grant the PAT request before you can use it.&lt;/p&gt;
&lt;h2 id=&#34;using-pats-with-github-actions-and-antora&#34;&gt;Using PATs with GitHub Actions and Antora&lt;/h2&gt;
&lt;p&gt;So…we&amp;rsquo;ve now got a valid PAT with the necessary permissions. Let&amp;rsquo;s finish this up by making the PAT available in a secure way to the GitHub Action. As noted above, hardcoding credentials into your &lt;code&gt;antora-playbook.yml&lt;/code&gt; is a horrible idea (and the docs tell you this very clearly too), so we&amp;rsquo;ll remove them and just reference the repository&amp;rsquo;s bare URL:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;content&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;sources&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;- &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;url&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;https://github.com/my_org/my_repo.git&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;To make the credentials available to Antora we make use of the &lt;a href=&#34;https://docs.antora.org/antora/latest/playbook/private-repository-auth/#git-credentials-environment-variable&#34;&gt;&lt;code&gt;GIT_CREDENTIALS&lt;/code&gt; environment variable&lt;/a&gt; which Antora will automagically use if it&amp;rsquo;s available.&lt;/p&gt;
&lt;p&gt;In the repository under which the Antora build GitHub Action will be running (&lt;code&gt;docs-platform&lt;/code&gt; in the example I&amp;rsquo;m using here) add a &lt;a href=&#34;https://docs.github.com/en/actions/security-guides/using-secrets-in-github-actions#creating-secrets-for-a-repository&#34;&gt;Repository secret&lt;/a&gt; called &lt;code&gt;GIT_CREDENTIALS&lt;/code&gt;:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/12/gh2.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;With that repository secret set you can now access it from your GitHub Action workflow with the &lt;code&gt;env&lt;/code&gt; key:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;env&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;GIT_CREDENTIALS&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;${{ secrets.GIT_CREDENTIALS }}&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/12/gh3.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;building-and-deploying-antora-to-cloudflare-pages&#34;&gt;Building and Deploying Antora to Cloudflare Pages&lt;/h2&gt;
&lt;p&gt;Once you&amp;rsquo;ve built your docs site with Antora you need somewhere to host it. For various reasons I&amp;rsquo;m trying out Cloudflare Pages (in part because of the support for preview deployments which GitHub Pages doesn&amp;rsquo;t currently have).&lt;/p&gt;
&lt;p&gt;You can use the &lt;a href=&#34;https://github.com/cloudflare/pages-action&#34;&gt;&lt;code&gt;cloudflare/pages-action&lt;/code&gt;&lt;/a&gt; GitHub Action to publish the built site to CloudFlare Pages. Here&amp;rsquo;s my complete workflow:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;name&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Publish to Cloudflare&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;on&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;push&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;branches&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;[main]&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;# Allows you to run this workflow manually from the Actions tab&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;workflow_dispatch&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;jobs&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;build&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;runs-on&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;ubuntu-latest&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;env&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;GIT_CREDENTIALS&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;${{ secrets.GIT_CREDENTIALS }}&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;steps&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;- &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;name&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Checkout repository&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;uses&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;actions/checkout@v4&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;- &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;name&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Install Node.js&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;uses&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;actions/setup-node@v4&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;with&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;node-version&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;18&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;- &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;name&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Install Antora with the Antora Lunr Extension&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;run&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;npm i antora @antora/lunr-extension&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;- &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;name&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Generate Site&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;run&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;npx antora antora-playbook.yml&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;- &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;name&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Publish to Cloudflare Pages&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;uses&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;cloudflare/pages-action@v1&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;with&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;apiToken&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;${{ secrets.CLOUDFLARE_API_TOKEN }}&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;accountId&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;my_account_id&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;projectName&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;my_cf_project&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;directory&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;build/site&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;gitHubToken&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;${{ secrets.GITHUB_TOKEN }}&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Note that you need to add &lt;code&gt;CLOUDFLARE_API_TOKEN&lt;/code&gt; as a repository secret too. &lt;code&gt;GITHUB_TOKEN&lt;/code&gt; is a special secret which is &lt;a href=&#34;https://docs.github.com/en/actions/security-guides/automatic-token-authentication#about-the-github_token-secret&#34;&gt;automagically created&lt;/a&gt;, and therefore you don&amp;rsquo;t need to add it.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Productivity tools: AI Image Generators</title>
      <link>https://rmoff.net/2023/12/07/productivity-tools-ai-image-generators/</link>
      <pubDate>2023-12-07</pubDate>
      
      <guid>https://rmoff.net/2023/12/07/productivity-tools-ai-image-generators/</guid>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://rmoff.net/images/2023/12/pyflink.webp" medium="image" type="image/jpg" width="100" height="100" />
      <description>&lt;p&gt;AI, what a load of hyped-up bollocks, right? Yet here I am, legit writing a blog about it and not for the clickbait but…&lt;em&gt;gasp&lt;/em&gt;…because it&amp;rsquo;s actually useful.&lt;/p&gt;
&lt;p&gt;Used correctly, it&amp;rsquo;s just like any other tool on your desktop. It helps you get stuff done quicker, better—or both.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve spent a fair amount of time experimenting with several AI image generation tools in the last couple of months, in particular to illustrate my &lt;a href=&#34;https://rmoff.net/categories/laf/&#34;&gt;Learning Apache Flink&lt;/a&gt; blog series. Below I&amp;rsquo;ll discuss the ones I&amp;rsquo;ve used and key points about them including:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;UX &amp;amp; Interface (lol discord wtf)&lt;/li&gt;
&lt;li&gt;General capabilities&lt;/li&gt;
&lt;li&gt;Customisation &amp;amp; iteration on images&lt;/li&gt;
&lt;li&gt;Cost&lt;/li&gt;
&lt;li&gt;Ability to generate accurate text&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;There are several that I&amp;rsquo;ve tried:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;#dalle-3httpsopenaicomdall-e-3-openaihttpsopenaicomchatgpt&#34;&gt;DALL·E 3&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#adobe-fireflyhttpsfireflyadobecom&#34;&gt;Adobe Firefly&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#midjourneyhttpswwwmidjourneycomhome&#34;&gt;Midjourney&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;#ideogramhttpsideogramai&#34;&gt;Ideogram&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;em&gt;I would be delighted to know if there are others that I should try (drop me &lt;a href=&#34;mailto:robin@rmoff.net&#34;&gt;an email&lt;/a&gt; or DM me on &lt;a href=&#34;https://twitter.com/rmoff/&#34;&gt;Twitter&lt;/a&gt;).&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Disclaimer: I don&amp;rsquo;t actually know what I&amp;rsquo;m doing with these 😁. I&amp;rsquo;m using them purely as an end-user, clicking random buttons until they seem to do something. I&amp;rsquo;m sure there&amp;rsquo;s a ton of theory that&amp;rsquo;d be interesting and relevant to learn; I haven&amp;rsquo;t though.&lt;/p&gt;
&lt;h2 id=&#34;dalle-3httpsopenaicomdall-e-3-openaihttpsopenaicomchatgpt&#34;&gt;&lt;a href=&#34;https://openai.com/dall-e-3&#34;&gt;DALL·E 3&lt;/a&gt; (&lt;a href=&#34;https://openai.com/chatgpt&#34;&gt;OpenAI&lt;/a&gt;)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Part of the &lt;a href=&#34;https://openai.com/chatgpt&#34;&gt;ChatGPT&lt;/a&gt; Plus plan ($20 pcm) which includes ChatGPT 4, custom GPTs, etc - well worth it!&lt;/li&gt;
&lt;li&gt;Accessible through a nice web app or mobile app&lt;/li&gt;
&lt;li&gt;Seamlessly switches between text chat and image generation&lt;/li&gt;
&lt;li&gt;Does a pretty good job at text, getting it right perhaps 30% of the time&lt;/li&gt;
&lt;li&gt;The ChatGPT side of things makes it possible to have realistic conversation, discussing aspects of the generated image and having DALL·E generate a new image based on this&lt;/li&gt;
&lt;li&gt;Refuses to generate images based on trademarks/copywritten material (whether actually the case or not). For example, it&amp;rsquo;ll happily use the Python logo, but not the Kubernetes one (even if you refer it to the licence which permits it)&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/12/CleanShot_2023-12-07_at_17.22.15.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;This is the ChatGPT iOS app and its first attempt at the prompt shown - pretty impressive, IMHO:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Draw a picture of a festive squirrel at a computer. Make it bright and 8-bit style&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/12/Screenshot_2023-12-07_at_17.26.37.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;dalle-3httpsopenaicomdall-e-3-binghttpswwwbingcom-and-designerhttpswwwbingcomimagescreate&#34;&gt;&lt;a href=&#34;https://openai.com/dall-e-3&#34;&gt;DALL·E 3&lt;/a&gt; (&lt;a href=&#34;https://www.bing.com/&#34;&gt;Bing&lt;/a&gt; and &lt;a href=&#34;https://www.bing.com/images/create&#34;&gt;Designer&lt;/a&gt;)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Same as above, but provided by Microsoft&lt;/li&gt;
&lt;li&gt;Bogged down in the other junk that Bing includes, complicated &amp;ldquo;Microsoft Rewards&amp;rdquo;, &amp;ldquo;Boosts&amp;rdquo;, etc.&lt;/li&gt;
&lt;li&gt;Haven&amp;rsquo;t stuck around long enough to figure out cost, since I&amp;rsquo;m paying for ChatGPT Plus already which includes DALL·E 3&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/12/CleanShot_2023-12-07_at_17.16.30.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;adobe-fireflyhttpsfireflyadobecom&#34;&gt;&lt;a href=&#34;https://firefly.adobe.com/&#34;&gt;Adobe Firefly&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Tightly integrated with the Adobe suite of image software.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Free to use but images are watermarked if you download them. £4.49 pcm to subscribe to Firefly.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Web-based interface with lots of buttons for customising what I guess you would build into the text prompt otherwise.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;That is, it&amp;rsquo;s more suited to just generating images than faffing about with prompt engineering tricks&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Doesn&amp;rsquo;t seem to have a way to easily iterate and refine a generated image&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Utterly hopeless at generating text. I&amp;rsquo;ve never once got it to do it remotely closely.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/12/CleanShot_2023-12-07_at_17.27.15.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The ability to give it reference images is nice. Here&amp;rsquo;s a prompt for christmas squirrels mixed with one of the existing landscape images (shown in the &lt;code&gt;Style reference&lt;/code&gt; box to the left of the prompt). The &lt;code&gt;; winter; cold; blue; red&lt;/code&gt; section of the prompt was offered as an auto-completion so I included it&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/12/CleanShot_2023-12-07_at_19.06.31.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The integration with other Adobe tools gives you a seamless experience moving into Adobe Express, for example:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/12/CleanShot_2023-12-07_at_19.08.19.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;midjourneyhttpswwwmidjourneycomhome&#34;&gt;&lt;a href=&#34;https://www.midjourney.com/home&#34;&gt;Midjourney&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;One of the originals, but feeling a little bit long in the tooth now because of its interface. Quite possibly still one of the most powerful and flexible if you take the time to learn how to engineer its prompts.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Interface is through Discord, which is fairly awful. You DM a bot, which sends you some images. You click a button to iterate on a given image. It&amp;rsquo;s painful, given the other options available now.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;There appear to be changes in the works to add a web interface&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Free to start with, images are public. Subscriptions start at $10 pcm.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Like Firefly, hopeless at text generation.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/12/CleanShot_2023-12-07_at_19.16.28.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can do some really great stuff with Midjourney, but it doesn&amp;rsquo;t hit the mark straight out of the door in the same way as DALL·E 3 does now. Perhaps there&amp;rsquo;s more to be got out of it with extensive prompt engineering, but that&amp;rsquo;s where this crosses over from &lt;strong&gt;tool&lt;/strong&gt; to discipline/hobby…&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/12/CleanShot_2023-12-07_at_19.13.49.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;To be fair to it, once you get used to the Discord interface, it is actually ok. Here I&amp;rsquo;m selecting the fourth image (from top to bottom, left to right) to create a new version:
&lt;img src=&#34;https://rmoff.net/images/2023/12/CleanShot_2023-12-07_at_19.24.44.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;From there you use the scaled up image, or opt to vary it:
&lt;img src=&#34;https://rmoff.net/images/2023/12/CleanShot_2023-12-07_at_19.24.55.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;This is with &lt;code&gt;Vary (Strong)&lt;/code&gt; applied:
&lt;img src=&#34;https://rmoff.net/images/2023/12/CleanShot_2023-12-07_at_19.28.07.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;ideogramhttpsideogramai&#34;&gt;&lt;a href=&#34;https://ideogram.ai/&#34;&gt;Ideogram&lt;/a&gt;&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;I don&amp;rsquo;t know much about this site, but it was recommended to me when I was struggling to get the other tools to generate an image with accurate text. It does a pretty good job of it.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The interface is web-based, and somewhat rudimentary.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;You can remix images, but iterating on what&amp;rsquo;s been generated isn&amp;rsquo;t obvious in the way that it is with ChatGPT&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Free to use to a given limit, &lt;a href=&#34;https://ideogram.ai/t/trending&#34;&gt;paid plans&lt;/a&gt; start at $8 pcm&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The &lt;a href=&#34;https://ideogram.ai/t/trending&#34;&gt;trending gallery&lt;/a&gt; is useful for getting inspiration and seeing the prompt text that others use&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Doesn&amp;rsquo;t seem to have any qualms about creating images in the style of known brands, copyright, etc.&lt;br&gt;
&lt;img src=&#34;https://rmoff.net/images/2023/12/CleanShot_2023-12-07_at_19.23.54.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Ideogram does the best job of writing text that I&amp;rsquo;ve found so far (I would &lt;strong&gt;love&lt;/strong&gt; to hear of any other suggestions as this is my biggest pain point so far). Even here you can see it doesn&amp;rsquo;t quite nail it, perhaps taking &lt;code&gt;with&lt;/code&gt; as part of the scene descriptor than the sign text.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/12/CleanShot_2023-12-07_at_20.22.55.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;For comparison, this is how the other generators deal with the same prompt:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Midjourney
&lt;img src=&#34;https://rmoff.net/images/2023/12/Pasted_image_20231207202647.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;From a bit of reading around it seems that Midjourney perhaps deals with shorter words, so I tried that and a couple of iterations - but whilst I got symbols recognisable as text, it wasn&amp;rsquo;t very good:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/12/CleanShot_2023-12-07_at_20.37.52.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Firefly
&lt;img src=&#34;https://rmoff.net/images/2023/12/CleanShot_2023-12-07_at_20.26.59.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;I also gave it a chance with the shorter word which I also repeated - and it managed to get it right on one (of four) attempts:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;A robot holding a sign that says &amp;quot;ERROR&amp;quot;. text: &amp;quot;ERROR&amp;quot;.&lt;/code&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/12/CleanShot_2023-12-07_at_20.41.04.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;DALL·E 3&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/12/DALLE_2023-12-07_20.28.26_.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;with shorter text DALL·E 3 got it spot on:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/12/Pasted_image_20231207204227.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;summary&#34;&gt;Summary&lt;/h2&gt;
&lt;p&gt;There&amp;rsquo;s not one tool which beats all the others. If I had to have access to just one, I&amp;rsquo;d go with DALL·E 3 for sure. But some of the Midjourney image styles are really nice, the text generation on Ideogram is best, and the tooling in Firefly is rather handy too.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Hugo not detecting changed pages on Mac</title>
      <link>https://rmoff.net/2023/11/16/hugo-not-detecting-changed-pages-on-mac/</link>
      <pubDate>2023-11-16</pubDate>
      
      <guid>https://rmoff.net/2023/11/16/hugo-not-detecting-changed-pages-on-mac/</guid>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://rmoff.net/images/2023/11/t_IMG_6379.webp" medium="image" type="image/jpg" width="100" height="100" />
      <description>&lt;p&gt;I&amp;rsquo;ve used Hugo for my blog for several years now, and it&amp;rsquo;s great. One of the things I love about it is the fast build time coupled with it&amp;rsquo;s live-reload feature. Using this I can edit my source (Markdown or Asciidoc) in one window, hit save, and see the preview update in my browser window next to it pretty much instantaneously. For copy-editing, experimenting with images, etc this is really helpful.&lt;/p&gt;
&lt;p&gt;😭 But then it stopped working.&lt;/p&gt;
&lt;p&gt;🤔 Running Hugo on my M1 MacBookPro it would build and serve the site locally, but if I changed a file it wouldn&amp;rsquo;t get detected, let alone re-built.&lt;/p&gt;
&lt;p&gt;&lt;a href=&#34;https://discourse.gohugo.io/t/live-reload-not-detecting-changes-after-first-edit/14155&#34;&gt;Various&lt;/a&gt; &lt;a href=&#34;https://discourse.gohugo.io/t/hugo-server-watch-not-er-watching/1592&#34;&gt;Google&lt;/a&gt; &lt;a href=&#34;https://discourse.gohugo.io/t/live-reload-not-detecting-changes-after-first-edit/14155&#34;&gt;hits&lt;/a&gt; were either old, irrelevant, or dead-ends. And then I thought…what else has changed?&lt;/p&gt;
&lt;p&gt;💡 Docker. Or rather, not Docker.&lt;/p&gt;
&lt;p&gt;I run Hugo with Docker because it&amp;rsquo;s self-contained, reproducable, portable, and all those good things:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;docker run --rm -it &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;  -v &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;$(&lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;pwd&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;)&lt;/span&gt;:/src &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;  -p 1313:1313 &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;  klakegg/hugo:0.105.0-asciidoctor-onbuild &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;  server --buildFuture --buildDrafts
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;And the one thing that had changed was that I&amp;rsquo;d moved from running &lt;a href=&#34;https://www.docker.com/products/docker-desktop/&#34;&gt;Docker Desktop&lt;/a&gt; to &lt;a href=&#34;https://orbstack.dev/&#34;&gt;Orbstack&lt;/a&gt;. Until now I&amp;rsquo;d not noticed a single difference—it&amp;rsquo;s the same &lt;code&gt;docker&lt;/code&gt; CLI commands as before, it&amp;rsquo;s just not Docker Desktop.&lt;/p&gt;
&lt;p&gt;👉 Switching back to Docker Desktop and re-running Hugo resolved the issue. My changes are now being detected automagically and rebuilt:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Change detected, rebuilding site.
2023-11-16 16:33:59.561 +0000
Source changed WRITE         &amp;#34;/src/content/post/lafs01e05.md&amp;#34;
Total in 163 ms
&lt;/code&gt;&lt;/pre&gt;&lt;hr&gt;
&lt;p&gt;I found &lt;a href=&#34;https://github.com/orbstack/orbstack/issues/58&#34;&gt;this issue&lt;/a&gt; but it says it&amp;rsquo;s fixed in OrbStack  0.8, and I&amp;rsquo;m running 1.1.0. &lt;a href=&#34;https://github.com/orbstack/orbstack/issues/739&#34;&gt;This issue&lt;/a&gt; is more recent but not directly relevant from what I can see.&lt;/p&gt;
&lt;p&gt;💡 I&amp;rsquo;ve logged this issue: &lt;a href=&#34;https://github.com/orbstack/orbstack/issues/797&#34;&gt;Hugo does not detect changed files when run under OrbStack; works fine with Docker Desktop #797&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    <item>
      <title>Learning Apache Flink S01E06: The Flink JDBC Driver</title>
      <link>https://rmoff.net/2023/11/16/learning-apache-flink-s01e06-the-flink-jdbc-driver/</link>
      <pubDate>2023-11-16</pubDate>
      
      <guid>https://rmoff.net/2023/11/16/learning-apache-flink-s01e06-the-flink-jdbc-driver/</guid>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://rmoff.net/images/2023/11/t_IMG_6381.webp" medium="image" type="image/jpg" width="100" height="100" />
      <description>&lt;p&gt;As a newcomer to Apache Flink one of the first things I did was join the &lt;a href=&#34;https://flink.apache.org/what-is-flink/community/#slack&#34;&gt;Slack community&lt;/a&gt; (which is vendor-neutral and controlled by the Flink PMC). At the moment I&amp;rsquo;m pretty much in full-time lurker mode, soaking up the kind of questions that people have and how they&amp;rsquo;re using Flink.&lt;/p&gt;
&lt;p&gt;One &lt;a href=&#34;https://apache-flink.slack.com/archives/C03G7LJTS2G/p1699672468626739&#34;&gt;question&lt;/a&gt; that caught my eye was from Marco Villalobos, in which he asked about the Flink JDBC driver and a &lt;code&gt;SQLDataException&lt;/code&gt;  he was getting with a particular datatype. Now, unfortunately, I have no idea about the answer to this question—but the idea of a JDBC driver through which Flink SQL could be run sounded like a fascinating path to follow after &lt;a href=&#34;https://rmoff.net/2023/10/10/learning-apache-flink-s01e04-a-partial-exploration-of-the-flink-sql-client/&#34;&gt;previously looking at the SQL Client&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;This took me down a bit of a rabbit hole, because after digging through the docs my understanding is that there are two options if you have a client that you want to connect to Flink using JDBC&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/11/jdbc_choice.webp&#34; alt=&#34;Button choice meme - Flink JDBC or Hive JDBC via HiveServer2&#34;&gt;&lt;/p&gt;
&lt;p&gt;At this point in time (and I would love to be corrected if I&amp;rsquo;m wrong!) my understanding is this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;tl;dr: If all you want to do is quickly hook up a JDBC client to Flink, then the Flink JDBC driver is the route to go—&lt;em&gt;if you&amp;rsquo;re not bothered about a catalog to persist metadata&lt;/em&gt;.
In either case, you also need to be running the SQL Gateway.&lt;/strong&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;what-are-the-jdbc-options-with-flink&#34;&gt;What are the JDBC options with Flink?&lt;/h2&gt;
&lt;p&gt;The docs don&amp;rsquo;t particularly help with this confusion, instead having two seemingly unconnected examples both with JDBC, and each using the SQL Gateway.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-master/docs/dev/table/jdbcdriver/#use-with-a-jdbc-tool&#34;&gt;Flink JDBC via SQL Gateway REST Endpoint&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-master/docs/dev/table/hive-compatibility/hiveserver2/#clients--tools&#34;&gt;Hive JDBC via SQL Gateway HiveServer2 Endpoint&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Looking at the history of the project brings to light how these pages have probably evolved.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;A new Flink JDBC Driver was added in 1.18 (&lt;a href=&#34;https://cwiki.apache.org/confluence/display/FLINK/FLIP-293%3A+Introduce+Flink+Jdbc+Driver+For+Sql+Gateway&#34;&gt;FLIP-293&lt;/a&gt;) and &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-master/docs/dev/table/jdbcdriver/#flink-jdbc-driver&#34;&gt;uses&lt;/a&gt; the SQL Gateway&amp;rsquo;s REST interface.&lt;/p&gt;
&lt;p&gt;A JDBC driver and SQL gateway existed before as &lt;a href=&#34;https://github.com/ververica/flink-sql-gateway&#34;&gt;community&lt;/a&gt; &lt;a href=&#34;https://github.com/ververica/flink-jdbc-driver&#34;&gt;projects&lt;/a&gt; which had fallen out of maintenance and were written for older versions of Flink. The SQL Gateway had previously been brought into Flink in &lt;a href=&#34;https://cwiki.apache.org/confluence/display/FLINK/FLIP-91%3A+Support+SQL+Gateway&#34;&gt;FLIP-91&lt;/a&gt;.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The other JDBC route is through the Hive JDBC Driver which &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-master/docs/dev/table/hive-compatibility/hiveserver2/#dbeaver&#34;&gt;can be used&lt;/a&gt; in conjunction with the HiveServer2 support which was added to the SQL Gateway last year in Flink 1.16 with &lt;a href=&#34;https://cwiki.apache.org/confluence/display/FLINK/FLIP-223:+Support+HiveServer2+Endpoint&#34;&gt;FLIP-223&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The motivation around adding HiveServer2 was the assertion that Hive is still the de-facto interface for those doing batch processing in the &amp;ldquo;Big Data&amp;rdquo; world.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&#34;catalogs-and-metadata&#34;&gt;Catalogs and Metadata…&lt;/h3&gt;
&lt;p&gt;In looking at &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-master/docs/connectors/table/hive/overview/#dependencies&#34;&gt;the requirements&lt;/a&gt; for using HiveServer2 (via the original page&amp;rsquo;s &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-master/docs/dev/table/hive-compatibility/hiveserver2/#setting-up&#34;&gt;Setup section&lt;/a&gt;) I got scared off ;-)&lt;/p&gt;
&lt;p&gt;I suspect at some point I will have to bite this bullet because Flink itself doesn&amp;rsquo;t have its own metadata store, and per &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-master/docs/connectors/table/hive/hive_catalog/&#34;&gt;the docs&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;HiveCatalog is the only persistent catalog provided out-of-box by Flink.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;When we talk about catalogs and persisting metadata we&amp;rsquo;re talking about the tables and other objects that we define being there the next time we connect to the system. For transient processing, and indeed for sandbox and experimentation purposes, this might not be an issue. But this is something so fundamental that for something like an RDBMS that we wouldn&amp;rsquo;t even think to check that it does it - we just assume that whether MySQL, Oracle, or whatever, when we create a table it will &lt;em&gt;of course&lt;/em&gt; be there next time we connect to the server.&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;So all that said, we&amp;rsquo;re going to just use the Flink JDBC Driver for now, and save the HiveServer2 endpoint of the SQL Gateway for another day.&lt;/p&gt;
&lt;h2 id=&#34;hands-on-with-the-flink-jdbc-driver&#34;&gt;Hands-on with the Flink JDBC Driver&lt;/h2&gt;
&lt;p&gt;My favourite way to learn something is by actually trying it out. The first step is to run the Flink cluster:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ ./bin/start-cluster.sh
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Starting cluster.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Starting standalonesession daemon on host asgard08.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Starting taskexecutor daemon on host asgard08.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;and then the &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-master/docs/dev/table/sql-gateway/overview/&#34;&gt;SQL Gateway&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ ./bin/sql-gateway.sh start -Dsql-gateway.endpoint.rest.address&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;localhost
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Starting sql-gateway daemon on host asgard08.
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;The SQL Gateway exposes two &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-master/docs/dev/table/sql-gateway/overview/#supported-endpoints&#34;&gt;endpoints&lt;/a&gt;: REST (default) and &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-master/docs/dev/table/hive-compatibility/hiveserver2/&#34;&gt;HiveServer2&lt;/a&gt; . Let&amp;rsquo;s use the REST endpoint to check that it&amp;rsquo;s working:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ curl http://localhost:8083/v1/info
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#666&#34;&gt;{&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;productName&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;Apache Flink&amp;#34;&lt;/span&gt;,&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;version&amp;#34;&lt;/span&gt;:&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;1.18.0&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;}&lt;/span&gt;%
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now we&amp;rsquo;ll use the JDBC driver, through the SQL gateway, from a suitable client. The JDBC driver isn&amp;rsquo;t bundled with Flink itself so you need to download it:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ curl https://repo.maven.apache.org/maven2/org/apache/flink/flink-sql-jdbc-driver-bundle/1.18.0/flink-sql-jdbc-driver-bundle-1.18.0.jar -O
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now to choose our JDBC client.&lt;/p&gt;
&lt;h2 id=&#34;-attempt-1-jisql&#34;&gt;❌ Attempt 1: &lt;code&gt;jisql&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;Many years ago and in a different life &lt;a href=&#34;https://rmoff.net/2016/03/28/connecting-to-obiee-via-jdbc-with-jisql/&#34;&gt;I used&lt;/a&gt; &lt;a href=&#34;https://github.com/stdunbar/jisql&#34;&gt;jisql&lt;/a&gt;, so that was my first choice here simply for familiarity.&lt;/p&gt;
&lt;p&gt;After cloning &lt;a href=&#34;https://github.com/stdunbar/jisql&#34;&gt;the jisql repo&lt;/a&gt; and building it (&lt;code&gt;mvn package&lt;/code&gt;) I copied the Flink JDBC driver to the &lt;code&gt;target&lt;/code&gt; folder that the build created.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ ls -l *.jar
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--@ &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt; rmoff  staff  &lt;span style=&#34;color:#666&#34;&gt;22258619&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;13&lt;/span&gt; Nov 11:54 flink-sql-jdbc-driver-bundle-1.18.0.jar
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--@ &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt; rmoff  staff     &lt;span style=&#34;color:#666&#34;&gt;86883&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;13&lt;/span&gt; Nov 10:41 jisql-jar-with-dependencies.jar
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--@ &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt; rmoff  staff     &lt;span style=&#34;color:#666&#34;&gt;19917&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;13&lt;/span&gt; Nov 10:40 jisql.jar
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now to run it:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;java -cp &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;$PWD&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;/*&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;	   com.xigole.util.sql.Jisql &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;	   -driver org.apache.flink.table.jdbc.FlinkDriver &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;	   -cstring jdbc:flink://localhost:8083 &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;	   -user none -password none -driverinfo
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;How I love the smell of Java stack traces in the morning 🙄&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;Exception in thread &amp;#34;main&amp;#34; java.lang.NoClassDefFoundError: org/slf4j/LoggerFactory
        at org.apache.flink.table.jdbc.FlinkDriver.&amp;lt;clinit&amp;gt;(FlinkDriver.java:40)
        at java.base/java.lang.Class.forName0(Native Method)
        at java.base/java.lang.Class.forName(Class.java:315)
        at com.xigole.util.sql.Jisql.run(Jisql.java:288)
        at com.xigole.util.sql.Jisql.main(Jisql.java:275)
Caused by: java.lang.ClassNotFoundException: org.slf4j.LoggerFactory
        at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:581)
        at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:178)
        at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:527)
        ... 5 more
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;One of the challenges for non-Java users of Flink (like me) is navigating these stacktraces which &lt;a href=&#34;https://rmoff.net/2023/10/10/learning-apache-flink-s01e04-a-partial-exploration-of-the-flink-sql-client/#it-was-all-going-so-well-&#34;&gt;pop up&lt;/a&gt; even when you&amp;rsquo;re using the SQL side of things. From bitter experience, I know that &lt;code&gt;NoClassDefFoundError&lt;/code&gt; means I&amp;rsquo;m probably missing a jar, or have a jar but in the wrong place, or the wrong colour, or something.&lt;/p&gt;
&lt;p&gt;There&amp;rsquo;s also a line in &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-master/docs/dev/table/jdbcdriver/#use-with-sqlline&#34;&gt;the docs&lt;/a&gt; that I missed the first time around:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;Notice that you need to copy slf4j-api-{slf4j.version}.jar to &lt;code&gt;target&lt;/code&gt; which will be used by flink JDBC driver&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;This jar is for the &lt;a href=&#34;https://www.slf4j.org/&#34;&gt;SLF4J API Module&lt;/a&gt;. It&amp;rsquo;s beyond my pay grade to explain why this isn&amp;rsquo;t included with the Flink JDBC driver, so for now we&amp;rsquo;ll deal with the sharp edge and just go and download that too.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ curl https://repo1.maven.org/maven2/org/slf4j/slf4j-api/2.0.9/slf4j-api-2.0.9.jar -O
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ cp slf4j-api-2.0.9.jar target
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ ls -l *.jar
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--@ &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt; rmoff  staff  &lt;span style=&#34;color:#666&#34;&gt;22258619&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;13&lt;/span&gt; Nov 11:54 flink-sql-jdbc-driver-bundle-1.18.0.jar
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--@ &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt; rmoff  staff     &lt;span style=&#34;color:#666&#34;&gt;86883&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;13&lt;/span&gt; Nov 10:41 jisql-jar-with-dependencies.jar
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--@ &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt; rmoff  staff     &lt;span style=&#34;color:#666&#34;&gt;19917&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;13&lt;/span&gt; Nov 10:40 jisql.jar
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--@ &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt; rmoff  staff     &lt;span style=&#34;color:#666&#34;&gt;64579&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;13&lt;/span&gt; Nov 11:54 slf4j-api-2.0.9.jar
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Trying again:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ java -cp &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;$PWD&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;/*&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;           com.xigole.util.sql.Jisql &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;           -driver org.apache.flink.table.jdbc.FlinkDriver &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;           -cstring jdbc:flink://localhost:8083 &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;           -user none -password none &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;           -driverinfo
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;           
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#666&#34;&gt;[&lt;/span&gt;…&lt;span style=&#34;color:#666&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;driver.getMajorVersion&lt;span style=&#34;color:#666&#34;&gt;()&lt;/span&gt; is &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;driver.getMinorVersion&lt;span style=&#34;color:#666&#34;&gt;()&lt;/span&gt; is &lt;span style=&#34;color:#666&#34;&gt;18&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;driver is not JDBC compliant
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;metaData.getDatabaseProductName&lt;span style=&#34;color:#666&#34;&gt;()&lt;/span&gt;: &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;Flink JDBC Driver&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;metaData.getDatabaseProductVersion&lt;span style=&#34;color:#666&#34;&gt;()&lt;/span&gt;: &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;1.18.0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;metaData.getDriverName&lt;span style=&#34;color:#666&#34;&gt;()&lt;/span&gt;: &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;org.apache.flink.table.jdbc.FlinkDriver&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;metaData.getDriverVersion&lt;span style=&#34;color:#666&#34;&gt;()&lt;/span&gt;: &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;1.18.0&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Nice, we&amp;rsquo;re getting somewhere! Unfortunately, this is as far as we get. If we remove the &lt;code&gt;-driverinfo&lt;/code&gt; flag (which gave us the driver info as seen above) so that we can get into the SQL prompt itself, we hit a problem:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ java -cp &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;$PWD&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;/*&amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;           com.xigole.util.sql.Jisql &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;           -driver org.apache.flink.table.jdbc.FlinkDriver &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;           -cstring jdbc:flink://localhost:8083 &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;           -user none -password none
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;SLF4J: No SLF4J providers were found.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;SLF4J: Defaulting to no-operation &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;NOP&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt; logger implementation
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;SLF4J: See https://www.slf4j.org/codes.html#noProviders &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;for&lt;/span&gt; further details.
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;SQLException : SQL state: null java.sql.SQLFeatureNotSupportedException: FlinkConnection#clearWarnings is not supported yet. ErrorCode: &lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;code&gt;SQLFeatureNotSupportedException&lt;/code&gt; is a recurred theme with the Flink JDBC Driver. In this case, it&amp;rsquo;s &lt;a href=&#34;https://docs.oracle.com/javase/8/docs/api/java/sql/Connection.html#clearWarnings--&#34;&gt;&lt;code&gt;clearWarnings&lt;/code&gt;&lt;/a&gt; that isn&amp;rsquo;t supported.&lt;/p&gt;
&lt;p&gt;Even if I go into the code and comment out the call to &lt;code&gt;clearWarnings&lt;/code&gt; and rebuild jisql (&lt;em&gt;look at me delving into Java code which I have no idea about what I&amp;rsquo;m doing!&lt;/em&gt; 🤪), it soon bombs out on further &lt;code&gt;SQLFeatureNotSupportedException&lt;/code&gt; errors.&lt;/p&gt;
&lt;h2 id=&#34;-attempt-2-sqlline&#34;&gt;✅ Attempt 2: &lt;code&gt;sqlline&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;The &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-master/docs/dev/table/jdbcdriver/#use-with-sqlline&#34;&gt;docs themselves demonstrate the JDBC Driver with sqlline&lt;/a&gt; so I was hoping that this would at least work.&lt;/p&gt;
&lt;p&gt;As before, I cloned the &lt;a href=&#34;https://github.com/julianhyde/sqlline&#34;&gt;repo&lt;/a&gt; and built it (&lt;code&gt;./mvnw package -DskipTests&lt;/code&gt; - one of the tests seems to be broken, hence skipping it). Learning from my lesson before I put both the Flink JDBC driver &lt;em&gt;and&lt;/em&gt; slf4j jars in the same folder as the sqlline jar:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ ls -l target/*.jar
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--@ &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt; rmoff  staff  &lt;span style=&#34;color:#666&#34;&gt;22258619&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;13&lt;/span&gt; Nov 11:06 flink-sql-jdbc-driver-bundle-1.18.0.jar
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--@ &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt; rmoff  staff     &lt;span style=&#34;color:#666&#34;&gt;64579&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;13&lt;/span&gt; Nov 11:11 slf4j-api-2.0.9.jar
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--@ &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt; rmoff  staff   &lt;span style=&#34;color:#666&#34;&gt;3128007&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;13&lt;/span&gt; Nov 10:54 sqlline-1.13.0-SNAPSHOT-jar-with-dependencies.jar
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--@ &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt; rmoff  staff    &lt;span style=&#34;color:#666&#34;&gt;505697&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;13&lt;/span&gt; Nov 10:54 sqlline-1.13.0-SNAPSHOT-javadoc.jar
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--@ &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt; rmoff  staff    &lt;span style=&#34;color:#666&#34;&gt;151338&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;13&lt;/span&gt; Nov 10:54 sqlline-1.13.0-SNAPSHOT-sources.jar
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--@ &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt; rmoff  staff    &lt;span style=&#34;color:#666&#34;&gt;243014&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;13&lt;/span&gt; Nov 10:54 sqlline-1.13.0-SNAPSHOT.jar
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now to run it. There are two options - the helper shell script that ships with sqlline and sets up the classpath nicely, or just directly like with jisql above. I opted for the former since it&amp;rsquo;s tidier on the CLI:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ ./bin/sqlline
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sqlline version 1.13.0-SNAPSHOT
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sqlline&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;So far, so good.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s connect to the Flink cluster using the gateway&amp;rsquo;s REST endpoint using the &lt;code&gt;connect&lt;/code&gt; command and JDBC URL:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;sqlline&amp;gt; !connect jdbc:flink://localhost:8083
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#666&#34;&gt;[&lt;/span&gt;…&lt;span style=&#34;color:#666&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;We&amp;rsquo;re prompted for credentials, even though the driver doesn&amp;rsquo;t support them at this stage. Hit return for both, ignore the &lt;code&gt;is not supported yet&lt;/code&gt; errors, and we&amp;rsquo;re now at a prompt from which we can enter some Flink SQL!&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Enter username &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;for&lt;/span&gt; jdbc:flink://localhost:8083:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Enter password &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;for&lt;/span&gt; jdbc:flink://localhost:8083:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Error: FlinkConnection#setReadOnly is not supported yet. &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;state&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;,code&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;0&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Error: FlinkDatabaseMetaData#getDefaultTransactionIsolation is not supported &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;state&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;,code&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;0&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;0: jdbc:flink://localhost:8083&amp;gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Let&amp;rsquo;s run a query using the same example as &lt;a href=&#34;https://rmoff.net/2023/10/10/learning-apache-flink-s01e04-a-partial-exploration-of-the-flink-sql-client/&#34;&gt;last time&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;jdbc:flink:&lt;span style=&#34;color:#666&#34;&gt;//&lt;/span&gt;localhost:&lt;span style=&#34;color:#666&#34;&gt;8083&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.semicolon&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;name,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.semicolon&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;COUNT&lt;/span&gt;(&lt;span style=&#34;color:#666&#34;&gt;*&lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;cnt&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.semicolon&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.semicolon&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;(&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;VALUES&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;Bob&amp;#39;&lt;/span&gt;),&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;Alice&amp;#39;&lt;/span&gt;),&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;Greg&amp;#39;&lt;/span&gt;),&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;Bob&amp;#39;&lt;/span&gt;))&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;NameTable(name)&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.semicolon&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;GROUP&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;BY&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;name;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;-------+-----+
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;name&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;cnt&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;-------+-----+
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Bob&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Alice&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Greg&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Bob&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Bob&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;-------+-----+
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;5&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;rows&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;selected&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;044&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;seconds)&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;What about streaming? We&amp;rsquo;ll create a table using &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-master/docs/connectors/table/datagen/&#34;&gt;the &lt;code&gt;datagen&lt;/code&gt; connector&lt;/a&gt;. This connector basically stuffs random values into each field to match the respective data type.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;jdbc:flink:&lt;span style=&#34;color:#666&#34;&gt;//&lt;/span&gt;localhost:&lt;span style=&#34;color:#666&#34;&gt;8083&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;CREATE&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;TABLE&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;foo&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.)&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;     &lt;/span&gt;a_number&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;BIGINT&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.)&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;     &lt;/span&gt;a_decimal&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;DECIMAL&lt;/span&gt;(&lt;span style=&#34;color:#666&#34;&gt;32&lt;/span&gt;,&lt;span style=&#34;color:#666&#34;&gt;2&lt;/span&gt;),&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.)&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;     &lt;/span&gt;a_string&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;STRING&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.)&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;WITH&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.)&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;connector&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;datagen&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;.)&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;);&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;No&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;rows&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;affected&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;145&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;seconds)&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;It&amp;rsquo;s not pretty, but it is effective. Here&amp;rsquo;s a bounded query against the table:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;jdbc:flink:&lt;span style=&#34;color:#666&#34;&gt;//&lt;/span&gt;localhost:&lt;span style=&#34;color:#666&#34;&gt;8083&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;foo&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;LIMIT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;5&lt;/span&gt;;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;----------------------+-----------------------------------+------------------------------------------------------------------------------------------------------+
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;       &lt;/span&gt;a_number&lt;span style=&#34;color:#bbb&#34;&gt;       &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;             &lt;/span&gt;a_decimal&lt;span style=&#34;color:#bbb&#34;&gt;             &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                                               &lt;/span&gt;a_string&lt;span style=&#34;color:#bbb&#34;&gt;                                               &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;----------------------+-----------------------------------+------------------------------------------------------------------------------------------------------+
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;5498399883014354114&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;74212271515046392498116100096&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;00&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;702&lt;/span&gt;e6aa4b8c69d6fdd67ec90fcf90253377357b250e74d40934ab25cd6aa0c631309f49789b80678a522379b1ad3861187af&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;3618213315685925891&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;93385166264069454971029946368&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;00&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;4&lt;/span&gt;e1ec64676a13eacb7d58757492c1ea3c0c77138dbdedca63827d516cd7849aa1c73fa714fb8d07d98e18c3a20a42ce24c53&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;9058675481861391925&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;651238545085586500000000000000&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;00&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;b81f3859c94f37088821df93d2e5284ab0778b49d4c89729a45ef82634a8f1c7313224f1dca03e437653a563b93c15841c1e&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;607555464239338146&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;214827744726156960000000000000&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;00&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;a15acba4276bcbb2b0846599d79c44fd23a22acc178f0c76abdc951c793149bd2735b734ccbc1f4b65c1294f09cb84cc153b&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;2603485567200316583&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;413883713557198900000000000000&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;00&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;7266&lt;/span&gt;d08ef4fa9f84677ce01d536475e798f1218fdf63fdb174f7ce07e0511c6511f0d981ddc6a3d08b8e7a1fd5c01304d673&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;----------------------+-----------------------------------+------------------------------------------------------------------------------------------------------+
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;5&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;rows&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;selected&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;832&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;seconds)&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Without the &lt;code&gt;LIMIT&lt;/code&gt; clause, it&amp;rsquo;s unbounded:&lt;/p&gt;
&lt;script async id=&#34;asciicast-SPNS2j5ci6Tu7QE0ggRdiNxqq&#34; src=&#34;https://asciinema.org/a/SPNS2j5ci6Tu7QE0ggRdiNxqq.js&#34;&gt;&lt;/script&gt;
&lt;p&gt;One of the issues with using the JDBC Driver is that there is &lt;em&gt;extreme&lt;/em&gt; verbosity. This might be from the REST endpoint rather than the JDBC driver itself (I&amp;rsquo;m not sure) but either way, the user is left with a screenful of noise if they try to do something that causes a problem. For example, if you tell Flink to run as a batch job:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SET&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;execution.runtime&lt;span style=&#34;color:#666&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;mode&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;batch;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;and then run a &lt;code&gt;SELECT&lt;/code&gt; against the above &lt;code&gt;foo&lt;/code&gt; table (which is defined as an unbounded source) you get a sensible and well-formed error:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;org.apache.flink.table.api.ValidationException:
Querying an unbounded table &amp;#39;default_catalog.default_database.foo&amp;#39; in batch mode is not allowed.
The table source is unbounded.
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;However, this error is buried amongst vast stacktrace noise. Here&amp;rsquo;s what the above &lt;em&gt;&lt;strong&gt;one&lt;/strong&gt;&lt;/em&gt; error looks like—I had to zoom my font size right down to even get all the messages on the viewable screen:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/11/jdbc_stack.webp&#34; alt=&#34;JDBC Stack Trace&#34;&gt;&lt;/p&gt;
&lt;p&gt;As a side note—since we&amp;rsquo;ve gone down this bounded/unbounded batch/streaming path—you can also use datagen as a bounded source by setting the &lt;code&gt;number-of-rows&lt;/code&gt; &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-master/docs/connectors/table/datagen/#connector-options&#34;&gt;option&lt;/a&gt; in the DDL:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;CREATE&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;TABLE&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;bar&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;c1&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;INT&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;c2&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;STRING&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;WITH&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;connector&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;datagen&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;number-of-rows&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;8&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;);&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;jdbc:flink:&lt;span style=&#34;color:#666&#34;&gt;//&lt;/span&gt;localhost:&lt;span style=&#34;color:#666&#34;&gt;8083&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;bar;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;-------------+------------------------------------------------------------------------------------------------------+
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;     &lt;/span&gt;c1&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                                                  &lt;/span&gt;c2&lt;span style=&#34;color:#bbb&#34;&gt;                                                  &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;-------------+------------------------------------------------------------------------------------------------------+
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;596725830&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;e2286a4c7200d165502c49d58793f3867ec3462b75c029d0552f0475c36e95aff2cedd17e7c2fd0e12dfc90f4ca561513eaf&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;288846669&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;f39a0c31abd89ff15841d2875fd6669bb88e31357bdcf75a4d67c3d4aa67283497800fe820881a3bac6fbaddcce301d916b7&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;1278589269&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;ad9f5d238476c34dfaf4c60f42e1a1a38f64201f93ad5e9d59ea3831fdf1fcf47240820e437aa3db280917c4740169773558&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;2001314692&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;aefa715dbb1cfabf4705b5e89263b95e09953605663861c0dba79b566b24f17f0f7e43f51f4192120c8e85c06922cf24b41&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;523937178&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;66&lt;/span&gt;e5a9e560b0014bdbb3393f660c6ad9cd5ddb098eef205ebfc13ffc819b50d31809bb1ebf2356d5943ec2f1b395b3c78fc0&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;445642724&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;7311&lt;/span&gt;f7970f709ccbb724bf7386cf3baed4c6957d54fb4625f4a2f6fa958cf58617c812eb1cd4373e809234e5704e2141364f&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;2038995175&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;ef84598989c488bda2a75d3138ec3cd08f7449b06a1b8321a63e46009f5dcea27e158023a2dabc6851c379f06cdad9e93f6&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;2071526857&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;2&lt;/span&gt;b0152d3da610caad8c7256e2e410b55979bde72c34f918ccd53f438f5ca5104d996db448e41edff536ba01f5664472e52c8&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;-------------+------------------------------------------------------------------------------------------------------+
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;rows&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;selected&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;813&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;seconds)&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;-dbeaver&#34;&gt;🦫 DBeaver&lt;/h2&gt;
&lt;p&gt;A popular open-source GUI for databases (and more) is &lt;a href=&#34;https://github.com/dbeaver&#34;&gt;DBeaver&lt;/a&gt;. You can already use it with Flink through the HiveServer2 support in SQL Gateway, and the Flink JDBC Driver means it can natively support it.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/11/dbeaver1.webp&#34; alt=&#34;DBeaver connection for Apache Flink&#34;&gt;&lt;/p&gt;
&lt;p&gt;Just like with sqlline, you can run Flink SQL statements to create and query tables. DBeaver seems happy querying both bounded tables:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/11/dbeaver2.webp&#34; alt=&#34;Querying Apache Flink from DBeaver&#34;&gt;&lt;/p&gt;
&lt;p&gt;as well as unbounded:&lt;/p&gt;
&lt;p&gt;&lt;video autoplay=&#34;true&#34; loop=&#34;true&#34; width=800 src=&#34;https://rmoff.net/images/2023/11/dbeaver_streaming_flink.mp4&#34;&gt;&lt;/video&gt;&lt;/p&gt;
&lt;p&gt;In the case of the unbounded table, it&amp;rsquo;s hard to tell because of the random nature of datagen&amp;rsquo;s data whether what I&amp;rsquo;m seeing is results from &lt;em&gt;one&lt;/em&gt; query paged into 200-row chunks, or if each time it goes to get more data it&amp;rsquo;s the &lt;em&gt;first&lt;/em&gt; 200 rows of a new result set that&amp;rsquo;s shown.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;You can add Flink JDBC to DBeaver yourself by modifying &lt;code&gt;plugins/org.jkiss.dbeaver.ext.generic/plugin.xml&lt;/code&gt; and rebuilding it (which isn&amp;rsquo;t as scary as it sounds; it&amp;rsquo;s &lt;a href=&#34;https://github.com/dbeaver/dbeaver/wiki/Build-from-sources&#34;&gt;documented&lt;/a&gt; and just watch out for &lt;a href=&#34;https://github.com/dbeaver/dbeaver/issues/21841&#34;&gt;this issue&lt;/a&gt;). I&amp;rsquo;ve submitted &lt;a href=&#34;https://github.com/dbeaver/dbeaver/pull/21842&#34;&gt;a PR&lt;/a&gt; so hopefully by the time you read this it might even be in the downloadable version of the tool :)&lt;/em&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Using Apache Kafka with ngrok</title>
      <link>https://rmoff.net/2023/11/01/using-apache-kafka-with-ngrok/</link>
      <pubDate>2023-11-01</pubDate>
      
      <guid>https://rmoff.net/2023/11/01/using-apache-kafka-with-ngrok/</guid>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://rmoff.net/images/2023/11/ngrok02.webp" medium="image" type="image/jpg" width="100" height="100" />
      <description>&lt;p&gt;Sometimes you might want to access Apache Kafka that&amp;rsquo;s running on your local machine from another device not on the same network. I&amp;rsquo;m not sure I can think of a production use-case, but there are a dozen examples for sandbox, demo, and playground environments.&lt;/p&gt;
&lt;p&gt;In this post we&amp;rsquo;ll see how you can use &lt;a href=&#34;https://ngrok.com/&#34;&gt;ngrok&lt;/a&gt; to, in their words, &lt;code&gt;Put localhost on the internet&lt;/code&gt;. And specifically, your local Kafka broker on the internet.&lt;/p&gt;
&lt;h2 id=&#34;overview&#34;&gt;Overview&lt;/h2&gt;
&lt;p&gt;Why? In my case, I wanted to expose my local Kafka as a source (and target) to &lt;a href=&#34;https://decodable.co/&#34;&gt;Decodable&lt;/a&gt; so that I can process streams of data with Apache Flink through the managed service that Decodable provides.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/11/ngrok01.webp&#34; alt=&#34;Overview of Kafka solution&#34;&gt;&lt;/p&gt;
&lt;p&gt;The example I&amp;rsquo;m going to show has ngrok and the Kafka broker running in a Docker Compose environment:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/11/ngrok02.webp&#34; alt=&#34;Overview of Kafka/ngrok solution&#34;&gt;&lt;/p&gt;
&lt;h3 id=&#34;ngrok&#34;&gt;ngrok&lt;/h3&gt;
&lt;p&gt;ngrok has a free tier to use which works just fine for this, but you will need to &lt;a href=&#34;https://dashboard.ngrok.com/signup&#34;&gt;create a free account&lt;/a&gt; to get your &lt;a href=&#34;https://dashboard.ngrok.com/get-started/your-authtoken&#34;&gt;auth token&lt;/a&gt;. In this article I&amp;rsquo;m assuming you&amp;rsquo;ve exported your auth token to the environment variable &lt;code&gt;NGROK_AUTH_TOKEN&lt;/code&gt;.&lt;/p&gt;
&lt;h2 id=&#34;kafka-and-listeners-and-advertised-listenersoh-my&#34;&gt;Kafka and Listeners and Advertised Listeners…oh my&lt;/h2&gt;
&lt;p&gt;In theory, using ngrok is straightforward. You configure a &lt;em&gt;tunnel&lt;/em&gt; which routes a publicly-accessible host/port to one accessed from the ngrok agent running locally. Here we&amp;rsquo;re telling it to route the public tunnel to a machine called &lt;code&gt;broker&lt;/code&gt; on port &lt;code&gt;9092&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;ngrok tcp broker:9092 --authtoken &lt;span style=&#34;color:#19177c&#34;&gt;$NGROK_AUTH_TOKEN&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;From this you get the tunnel url details:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;t=2023-11-01T10:57:41+0000 lvl=info msg=&amp;#34;started tunnel&amp;#34; obj=tunnels name=command_line addr=//broker:9092 url=tcp://6.tcp.eu.ngrok.io:13075
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The tunnel URL is &lt;code&gt;6.tcp.eu.ngrok.io:13075&lt;/code&gt;. This is accessible from anywhere on the interwebz—locally or remote. Let&amp;rsquo;s try accessing our Kafka broker from another machine. I&amp;rsquo;m using my favourite tool, &lt;code&gt;kcat&lt;/code&gt;. We&amp;rsquo;ll start by interogating the broker (&lt;code&gt;-b&lt;/code&gt;) for metadata (&lt;code&gt;-L&lt;/code&gt;):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ kcat -L -b 6.tcp.eu.ngrok.io:13075
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Metadata &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;for&lt;/span&gt; all topics &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;from broker -1: 6.tcp.eu.ngrok.io:13075/bootstrap&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt; brokers:
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  broker &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt; at localhost:9092 &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;controller&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt; &lt;span style=&#34;color:#666&#34;&gt;0&lt;/span&gt; topics:
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Look at that! It worked! 👏&lt;/p&gt;
&lt;p&gt;Or did it…&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ &lt;span style=&#34;color:#008000&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;hello world&amp;#34;&lt;/span&gt; | kcat -b 6.tcp.eu.ngrok.io:13075 -P -t test_topic
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;%3|1698837177.570|FAIL|rdkafka#producer-1| &lt;span style=&#34;color:#666&#34;&gt;[&lt;/span&gt;thrd:localhost:9092/1&lt;span style=&#34;color:#666&#34;&gt;]&lt;/span&gt;: localhost:9092/1: Connect to ipv4#127.0.0.1:9092 failed: Connection refused &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;after 0ms in state CONNECT&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;% ERROR: Local: Broker transport failure: localhost:9092/1: Connect to ipv4#127.0.0.1:9092 failed: Connection refused &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;after 0ms in state CONNECT&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;%3|1698837177.804|FAIL|rdkafka#producer-1| &lt;span style=&#34;color:#666&#34;&gt;[&lt;/span&gt;thrd:localhost:9092/1&lt;span style=&#34;color:#666&#34;&gt;]&lt;/span&gt;: localhost:9092/1: Connect to ipv6#&lt;span style=&#34;color:#666&#34;&gt;[&lt;/span&gt;::1&lt;span style=&#34;color:#666&#34;&gt;]&lt;/span&gt;:9092 failed: Connection refused &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;after 0ms in state CONNECT&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;% ERROR: Local: Broker transport failure: localhost:9092/1: Connect to ipv6#&lt;span style=&#34;color:#666&#34;&gt;[&lt;/span&gt;::1&lt;span style=&#34;color:#666&#34;&gt;]&lt;/span&gt;:9092 failed: Connection refused &lt;span style=&#34;color:#666&#34;&gt;(&lt;/span&gt;after 0ms in state CONNECT&lt;span style=&#34;color:#666&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#666&#34;&gt;[&lt;/span&gt;…&lt;span style=&#34;color:#666&#34;&gt;]&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;oh no! 😖&lt;/p&gt;
&lt;p&gt;So here&amp;rsquo;s what&amp;rsquo;s happening. Kafka is a distributed system; it&amp;rsquo;s only in sandbox/demo environments that you&amp;rsquo;d ever be running just a single broker. For this reason, you have a &lt;em&gt;bootstrap&lt;/em&gt; address for one or more servers in the cluster. When you &lt;em&gt;initially&lt;/em&gt; connect it&amp;rsquo;s to the bootstrap server (&lt;code&gt;6.tcp.eu.ngrok.io:13075&lt;/code&gt;).&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/11/ngrok03a.webp&#34; alt=&#34;The initial bootstrap connection between Kafka broker and client&#34;&gt;&lt;/p&gt;
&lt;p&gt;The server returns the &lt;strong&gt;&lt;code&gt;advertised.listener&lt;/code&gt;&lt;/strong&gt; for each of the brokers in the cluster as the address at which each of them can be found for subsequent connections.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/11/ngrok03b.webp&#34; alt=&#34;The advertised listeners exchange between Kafka broker and client&#34;&gt;&lt;/p&gt;
&lt;p&gt;After the initial bootstrap connection, the client uses the address that was returned to connect to when producing or consuming records.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/11/ngrok04.webp&#34; alt=&#34;The Kafka client using advertised.listener to find which the broker&amp;amp;rsquo;s connection address for produce/consume&#34;&gt;&lt;/p&gt;
&lt;p&gt;If we introduce ngrok into the mix it looks like this:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;The Kafka client connects via the public ngrok tunnel address to the broker for bootstrap connection&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/11/ngrok05.webp&#34; alt=&#34;Kafka client connects via ngrok to the broker for bootstrap&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The Kafka broker returns a list of available brokers, with their &lt;code&gt;advertised.listener&lt;/code&gt; address (&lt;code&gt;localhost:9092&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/11/ngrok06.webp&#34; alt=&#34;The Kafka broker returns a list of available brokers, with their advertised.listener address&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;The Kafka client tries to connect to the address given—&lt;code&gt;localhost:9092&lt;/code&gt;—to produce/consume data. Since there&amp;rsquo;s no Kafka broker running local to the Kafka client (i.e. at &lt;code&gt;localhost:9092&lt;/code&gt;) the connection fails.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/11/ngrok07.webp&#34; alt=&#34;The Kafka client tries to connect to the address given—localhost:9092—to produce/consume data. Since there&amp;amp;rsquo;s no Kafka broker running local to the Kafka client (i.e. at localhost:9092) the connection fails.&#34;&gt;&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;em&gt;(If you want to get into this in more detail about this please see my previous article about &lt;a href=&#34;https://rmoff.net/2018/08/02/kafka-listeners-explained/&#34;&gt;working with advertised.listeners&lt;/a&gt;)&lt;/em&gt;&lt;/p&gt;
&lt;h2 id=&#34;making-it-work&#34;&gt;Making it work&lt;/h2&gt;
&lt;p&gt;We need to get the ngrok tunnel URL and configure that as the Kafka broker&amp;rsquo;s advertised.listener:&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/11/ngrok08.webp&#34; alt=&#34;Correct configuration of Kafka and ngrok&#34;&gt;&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s look at what&amp;rsquo;s actually involved in doing this.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m using Docker to run Kafka, so the configuration I&amp;rsquo;m going to discuss is through the environment variables passed to the image.&lt;/p&gt;
&lt;p&gt;The first thing is to configure the &lt;strong&gt;listeners&lt;/strong&gt;. This defines where the broker binds to for listening to inbound connections. I&amp;rsquo;m using two listeners; one for regular traffic between Docker containers, and the other for ngrok traffic. Listeners can be arbitrarily named, so I&amp;rsquo;m using nice clear labels here. The listener&amp;rsquo;s label servers as a prefix to the host and port.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;DOCKER&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;NGROK&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The only—but crucial—difference is the port on which they listen. &lt;strong&gt;The port on which a connection receives determines the listener used, and therefore the advertised listener that&amp;rsquo;s served in response.&lt;/strong&gt;&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;KAFKA_LISTENERS: DOCKER://broker:29092, NGROK://broker:9092
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Now we configure the &lt;strong&gt;advertised listeners&lt;/strong&gt;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;KAFKA_ADVERTISED_LISTENERS: DOCKER://broker:29092, NGROK://6.tcp.eu.ngrok.io:13075
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;For completeness, we need two more listener configuration items:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;KAFKA_INTER_BROKER_LISTENER_NAME: DOCKER
KAFKA_LISTENER_SECURITY_PROTOCOL_MAP: DOCKER:PLAINTEXT,NGROK:PLAINTEXT
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;automating-it&#34;&gt;Automating it&lt;/h2&gt;
&lt;p&gt;Now, this is all very well. But there&amp;rsquo;s a complication. ngrok uses a random host and port &lt;em&gt;each time the tunnel is created&lt;/em&gt;. This means that to configure the Kafka broker with the correct advertised listener we need to know the tunnel &lt;em&gt;first&lt;/em&gt;. That also makes building a static configuration for our Kafka broker tricky—for example, in Docker Compose.&lt;/p&gt;
&lt;p&gt;So what we need to do is:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Launch ngrok and create tunnel&lt;/li&gt;
&lt;li&gt;Determine the tunnel URL and add it to the advertised listener configuration for Kafka&lt;/li&gt;
&lt;li&gt;Launch the Kafka broker&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;What prompted this whole exercise was wanting to build a standalone artefact that could be used to easily spin up Kafka locally to connect to Decodable in the cloud. Manually hacking around config is fine as a one-off, but I wanted something repeatable and as automated as possible.&lt;/p&gt;
&lt;h2 id=&#34;wrangling-around-docker-compose&#34;&gt;Wrangling around Docker Compose&lt;/h2&gt;
&lt;p&gt;This is what I ended up doing in Docker Compose. I&amp;rsquo;d love to hear your feedback if there&amp;rsquo;s a smarter or more idiomatic way in which to accomplish the same :)&lt;/p&gt;
&lt;p&gt;First, run ngrok and create the tunnel. This is hardcoded to direct traffic to the Kafka container at &lt;code&gt;broker:9092&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;ngrok&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;image&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;ngrok/ngrok:latest&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;container_name&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;ngrok&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;command&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;tcp broker:9092 --log stdout --authtoken $NGROK_AUTH_TOKEN&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;ports&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;      &lt;/span&gt;- &lt;span style=&#34;color:#666&#34;&gt;4040&lt;/span&gt;:&lt;span style=&#34;color:#666&#34;&gt;4040&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ngrok has a REST API, which we can query to get the tunnel URL (&lt;code&gt;public_url&lt;/code&gt;):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-json&#34; data-lang=&#34;json&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;&#34;&gt;$&lt;/span&gt; &lt;span style=&#34;&#34;&gt;curl&lt;/span&gt; &lt;span style=&#34;&#34;&gt;http:&lt;/span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;//localhost:4040/api/tunnels/command_line | jq &amp;#39;.&amp;#39;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;{
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;#34;name&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;command_line&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;#34;ID&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;10c495e397bd65f42f3d4ebbd1bb74f5&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;#34;uri&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;/api/tunnels/command_line&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;#34;public_url&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;tcp://0.tcp.eu.ngrok.io:16761&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;#34;proto&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;tcp&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;#34;config&amp;#34;&lt;/span&gt;: {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;#34;addr&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;broker:9092&amp;#34;&lt;/span&gt;,
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;&amp;#34;inspect&amp;#34;&lt;/span&gt;: &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;false&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  },
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now we are ready to look at the Kafka broker. The chaining is defined with the Docker Compose&amp;rsquo;s &lt;code&gt;depends_on&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;depends_on&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;- zookeeper&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;- ngrok&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;What I&amp;rsquo;ve done is define the &lt;em&gt;constant&lt;/em&gt; listener variables in the Docker Compose service entry for the broker, whilst leaving &lt;code&gt;KAFKA_ADVERTISED_LISTENERS&lt;/code&gt; with a single entry and nothing for ngrok yet:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-yaml&#34; data-lang=&#34;yaml&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;KAFKA_LISTENERS&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;DOCKER://broker:29092, NGROK://broker:9092&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;KAFKA_ADVERTISED_LISTENERS&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;DOCKER://broker:29092&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;KAFKA_INTER_BROKER_LISTENER_NAME&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;DOCKER&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;KAFKA_LISTENER_SECURITY_PROTOCOL_MAP&lt;/span&gt;:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;DOCKER:PLAINTEXT,NGROK:PLAINTEXT&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I&amp;rsquo;ve then overriden the &lt;code&gt;entrypoint&lt;/code&gt; of the container. First, it will wait for the tunnel to be created:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;Waiting for ngrok tunnel to be created&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;while&lt;/span&gt; : ; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;do&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#19177c&#34;&gt;curl_status&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;$(&lt;/span&gt;curl -s -o /dev/null -w %&lt;span style=&#34;color:#666&#34;&gt;{&lt;/span&gt;http_code&lt;span style=&#34;color:#666&#34;&gt;}&lt;/span&gt; http://ngrok:4040/api/tunnels/command_line&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#008000&#34;&gt;echo&lt;/span&gt; -e &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;$(&lt;/span&gt;date&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;)&lt;/span&gt; &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;\tTunnels API HTTP state: &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#19177c&#34;&gt;$curl_status&lt;/span&gt; &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34; (waiting for 200)&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;if&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;[&lt;/span&gt; &lt;span style=&#34;color:#19177c&#34;&gt;$curl_status&lt;/span&gt; -eq &lt;span style=&#34;color:#666&#34;&gt;200&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;]&lt;/span&gt; ; &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;then&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#008000&#34;&gt;break&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;fi&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    sleep &lt;span style=&#34;color:#666&#34;&gt;5&lt;/span&gt; 
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;done&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;ngrok tunnel is up&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Then—in the absence of &lt;code&gt;jq&lt;/code&gt; on the &lt;code&gt;confluentinc/cp-kafka&lt;/code&gt; image—I use some fairly nasty shell tool code (which will probably break if the JSON structure from the ngrok API changes) to add the tunnel&amp;rsquo;s URL to the advertised listeners environment variable:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;NGROK_LISTENER&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;$(&lt;/span&gt;curl -s  http://ngrok:4040/api/tunnels/command_line | grep -Po &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;&amp;#34;public_url&amp;#34;:.*?[^\\]&amp;#34;,&amp;#39;&lt;/span&gt; | cut -d&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;:&amp;#39;&lt;/span&gt; -f2- | tr -d &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;,&amp;#34;&amp;#39;&lt;/span&gt; | sed &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;s/tcp:\/\//NGROK:\/\//g&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000&#34;&gt;export&lt;/span&gt; &lt;span style=&#34;color:#19177c&#34;&gt;KAFKA_ADVERTISED_LISTENERS&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;$KAFKA_ADVERTISED_LISTENERS&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;, &lt;/span&gt;&lt;span style=&#34;color:#19177c&#34;&gt;$NGROK_LISTENER&lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;KAFKA_ADVERTISED_LISTENERS is set to &amp;#34;&lt;/span&gt; &lt;span style=&#34;color:#19177c&#34;&gt;$KAFKA_ADVERTISED_LISTENERS&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;And then, finally, we launch the Kafka broker (using the original value of the Docker image&amp;rsquo;s &lt;code&gt;entrypoint&lt;/code&gt;):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;/etc/confluent/docker/run
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;ngrok-with-kafka-on-docker-compose-in-action&#34;&gt;ngrok with Kafka on Docker Compose, in action&lt;/h2&gt;
&lt;p&gt;&lt;em&gt;You can find the Docker Compose file &lt;a href=&#34;https://rmoff.net/code/docker-compose-ngrok-kafka.yml&#34;&gt;here&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;
&lt;p&gt;Launch the Docker Compose stack:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ docker compose up
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Get the ngrok tunnel URL:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ curl -s localhost:4040/api/tunnels | jq -r &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;.tunnels[0].public_url&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;tcp://2.tcp.eu.ngrok.io:16738
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;(you can also use the Web UI at http://localhost:4040 to get this info)&lt;/p&gt;
&lt;p&gt;Now from anywhere on the interwebz, use your local Kafka broker based on the URL returned from ngrok (minus the &lt;code&gt;tcp://&lt;/code&gt; prefix):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ &lt;span style=&#34;color:#008000&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;hello world&amp;#34;&lt;/span&gt; | kcat -b 2.tcp.eu.ngrok.io:16738 -P -t test_topic
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ kcat -b 2.tcp.eu.ngrok.io:16738 -C -t test_topic
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;hello world
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;% Reached end of topic test_topic &lt;span style=&#34;color:#666&#34;&gt;[&lt;/span&gt;0&lt;span style=&#34;color:#666&#34;&gt;]&lt;/span&gt; at offset &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;If you go and have a look at your Docker Compose log you&amp;rsquo;ll see information about network traffic flowing through the tunnel:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;ngrok      | t=2023-11-01T12:17:59+0000 lvl=info msg=&amp;#34;join connections&amp;#34; obj=join id=8db744a20159 l=192.168.117.4:9092 r=82.20.253.111:34870
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;So there we have it—ngrok and Kafka, nicely automated in a standalone Docker Compose file 😎&lt;/p&gt;</description>
    </item>
    <item>
      <title>Learning Apache Flink S01E05: Installing PyFlink (with some bumps along the way…)</title>
      <link>https://rmoff.net/2023/10/25/learning-apache-flink-s01e05-installing-pyflink-with-some-bumps-along-the-way/</link>
      <pubDate>2023-10-25</pubDate>
      
      <guid>https://rmoff.net/2023/10/25/learning-apache-flink-s01e05-installing-pyflink-with-some-bumps-along-the-way/</guid>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://rmoff.net/images/2023/10/IMG_6173.webp" medium="image" type="image/jpg" width="100" height="100" />
      <description>&lt;p&gt;When I started &lt;a href=&#34;https://rmoff.net/categories/laf/&#34;&gt;my journey learning Apache Flink&lt;/a&gt; one of the things that several people expressed an interest in hearing more about was PyFlink.  This appeals to me too, because whilst Java is just something I don&amp;rsquo;t know and feels beyond me to try and learn, Python is something that I know enough of to at least hack my way around it. I&amp;rsquo;ve previously &lt;a href=&#34;https://rmoff.net/2022/09/16/data-engineering-in-2022-exploring-lakefs-with-jupyter-and-pyspark/&#34;&gt;had fun with PySpark&lt;/a&gt;, and whilst &lt;a href=&#34;https://rmoff.net/categories/flink-sql/&#34;&gt;Flink SQL&lt;/a&gt; will probably be one of my main focusses, I also want to get a feel for PyFlink.&lt;/p&gt;
&lt;p&gt;The first step to using PyFlink is installing it - which should be simple, right?&lt;/p&gt;
&lt;p&gt;Right?&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/10/padame.webp&#34; alt=&#34;Padame looking concerned when she realises that something isn&amp;amp;rsquo;t as she&amp;amp;rsquo;d assumed&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;step-1-install-pyflink&#34;&gt;Step 1: Install PyFlink…&lt;/h2&gt;
&lt;p&gt;The &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-release-1.15/docs/dev/python/datastream_tutorial/#how-to-follow-along&#34;&gt;docs&lt;/a&gt; are a useful start here, and tell us that we need to install Flink as a Python library first:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ pip install apache-flink
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;no-matching-distribution-found-for-numpy1214&#34;&gt;&lt;code&gt;No matching distribution found for numpy==1.21.4&lt;/code&gt;&lt;/h2&gt;
&lt;p&gt;This failed with the following output (truncated, for readability)&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ pip install apache-flink
Collecting apache-flink
  Using cached apache-flink-1.18.0.tar.gz (1.2 MB)
  Preparing metadata (setup.py) ... done
[…]
  Installing build dependencies ... error
  error: subprocess-exited-with-error

  × pip subprocess to install build dependencies did not run successfully.
  │ exit code: 1
  ╰─&amp;gt; [12 lines of output]
      Collecting packaging==20.5
        Using cached packaging-20.5-py2.py3-none-any.whl (35 kB)
      Collecting setuptools==59.2.0
        Using cached setuptools-59.2.0-py3-none-any.whl (952 kB)
      Collecting wheel==0.37.0
        Using cached wheel-0.37.0-py2.py3-none-any.whl (35 kB)
      ERROR: Ignored the following versions that require a different python version: 1.21.2 Requires-Python &amp;gt;=3.7,&amp;lt;3.11; 1.21.3 Requires-Python &amp;gt;=3.7,&amp;lt;3.11; 1.21.4 Requires-Python &amp;gt;=3.7,&amp;lt;3.11; 1.21.5 Requires-Python &amp;gt;=3.7,&amp;lt;3.11; 1.21.6 Requires-Python &amp;gt;=3.7,&amp;lt;3.11
      ERROR: Could not find a version that satisfies the requirement numpy==1.21.4 (from versions: 1.3.0, 1.4.1, 1.5.0, 1.5.1, 1.6.0, 1.6.1, 1.6.2, 1.7.0, 1.7.1, 1.7.2, 1.8.0, 1.8.1, 1.8.2, 1.9.0, 1.9.1, 1.9.2, 1.9.3, 1.10.0.post2, 1.10.1, 1.10.2, 1.10.4, 1.11.0, 1.11.1, 1.11.2, 1.11.3, 1.12.0, 1.12.1, 1.13.0, 1.13.1, 1.13.3, 1.14.0, 1.14.1, 1.14.2, 1.14.3, 1.14.4, 1.14.5, 1.14.6, 1.15.0, 1.15.1, 1.15.2, 1.15.3, 1.15.4, 1.16.0, 1.16.1, 1.16.2, 1.16.3, 1.16.4, 1.16.5, 1.16.6, 1.17.0, 1.17.1, 1.17.2, 1.17.3, 1.17.4, 1.17.5, 1.18.0, 1.18.1, 1.18.2, 1.18.3, 1.18.4, 1.18.5, 1.19.0, 1.19.1, 1.19.2, 1.19.3, 1.19.4, 1.19.5, 1.20.0, 1.20.1, 1.20.2, 1.20.3, 1.21.0, 1.21.1, 1.22.0, 1.22.1, 1.22.2, 1.22.3, 1.22.4, 1.23.0rc1, 1.23.0rc2, 1.23.0rc3, 1.23.0, 1.23.1, 1.23.2, 1.23.3, 1.23.4, 1.23.5, 1.24.0rc1, 1.24.0rc2, 1.24.0, 1.24.1, 1.24.2, 1.24.3, 1.24.4, 1.25.0rc1, 1.25.0, 1.25.1, 1.25.2, 1.26.0b1, 1.26.0rc1, 1.26.0, 1.26.1)
      ERROR: No matching distribution found for numpy==1.21.4

      [notice] A new release of pip is available: 23.2.1 -&amp;gt; 23.3
      [notice] To update, run: python3.11 -m pip install --upgrade pip
      [end of output]

  note: This error originates from a subprocess, and is likely not a problem with pip.
error: subprocess-exited-with-error

× pip subprocess to install build dependencies did not run successfully.
│ exit code: 1
╰─&amp;gt; See above for output.

note: This error originates from a subprocess, and is likely not a problem with pip.
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;try-installing-the-next-newest-version&#34;&gt;Try installing the next newest version&lt;/h2&gt;
&lt;p&gt;Looking at the error I spot &lt;code&gt;No matching distribution found for numpy==1.21.4&lt;/code&gt; so maybe I just try a different version?&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ pip install numpy==1.22.0
Collecting numpy==1.22.0
  Downloading numpy-1.22.0.zip (11.3 MB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 11.3/11.3 MB 443.6 kB/s eta 0:00:00
  Installing build dependencies ... done
  Getting requirements to build wheel ... error
  error: subprocess-exited-with-error

  × Getting requirements to build wheel did not run successfully.
  │ exit code: 1
  ╰─&amp;gt; [93 lines of output]
[…]
     AttributeError: fcompiler. Did you mean: &amp;#39;compiler&amp;#39;?
      [end of output]
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Hey, a different error! I found a GitHub issue for this error that suggests &lt;a href=&#34;https://github.com/pypa/setuptools/issues/3549#issuecomment-1709347140&#34;&gt;a newer version&lt;/a&gt; of numpy will work&lt;/p&gt;
&lt;h2 id=&#34;try-installing-the-latest-version-of-numpy&#34;&gt;Try installing the latest version of numpy&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ pip install numpy==1.26.1
Collecting numpy==1.26.1
  Downloading numpy-1.26.1-cp311-cp311-macosx_11_0_arm64.whl.metadata (115 kB)
     ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 115.1/115.1 kB 471.4 kB/s eta 0:00:00
Downloading numpy-1.26.1-cp311-cp311-macosx_11_0_arm64.whl (14.0 MB)
   ━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━ 14.0/14.0 MB 473.2 kB/s eta 0:00:00
Installing collected packages: numpy
Successfully installed numpy-1.26.1
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Yay!&lt;/p&gt;
&lt;p&gt;But… still no dice with installing PyFlink&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ pip install apache-flink
[…]
      ERROR: No matching distribution found for numpy==1.21.4
      [end of output]
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;rtfem-read-the-fscking-error-message&#34;&gt;RTFEM (Read The Fscking Error Message)&lt;/h2&gt;
&lt;p&gt;Going back to the original error, looking at it more closely and breaking the lines you can see this:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;      ERROR: Ignored the following versions that require a different python version: 
	  1.21.2 Requires-Python &amp;gt;=3.7,&amp;lt;3.11; 
	  1.21.3 Requires-Python &amp;gt;=3.7,&amp;lt;3.11; 
      1.21.4 Requires-Python &amp;gt;=3.7,&amp;lt;3.11; 
      1.21.5 Requires-Python &amp;gt;=3.7,&amp;lt;3.11; 
      1.21.6 Requires-Python &amp;gt;=3.7,&amp;lt;3.11
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Let&amp;rsquo;s look at my Python version on the system:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ python3 --version
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Python 3.11.5
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;So this matches—the numpy install needs less than 3.11 and we&amp;rsquo;re on 3.11.5.&lt;/p&gt;
&lt;h2 id=&#34;install-a-different-version-of-python&#34;&gt;Install a different version of Python&lt;/h2&gt;
&lt;p&gt;A quick Google throws up &lt;code&gt;pyenv&lt;/code&gt; as a good tool for managing Python versions (let me know if that&amp;rsquo;s not the case!). It installs on my Mac with brew nice and easily:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ brew install pyenv
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ &lt;span style=&#34;color:#008000&#34;&gt;echo&lt;/span&gt; &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;PATH=$(pyenv root)/shims:$PATH&amp;#39;&lt;/span&gt; &amp;gt;&amp;gt; ~/.zshrc
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Install a new version:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ pyenv install 3.10
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Activate the newly-installed version&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ pyenv global 3.10.13
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Start a new shell to pick up the change, and validate that we&amp;rsquo;re now using this version:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ python --version
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Python 3.10.13
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2 id=&#34;try-the-pyflink-install-again&#34;&gt;Try the PyFlink install again&lt;/h2&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;$ pip install apache-flink

[…]
Successfully installed apache-beam-2.48.0 apache-flink-1.18.0 apache-flink-libraries-1.18.0 avro-python3-1.10.2 certifi-2023.7.22 charset-normalizer-3.3.1 cloudpickle-2.2.1 crcmod-1.7 dill-0.3.1.1 dnspython-2.4.2 docopt-0.6.2 fastavro-1.8.4 fasteners-0.19 find-libpython-0.3.1 grpcio-1.59.0 hdfs-2.7.3 httplib2-0.22.0 idna-3.4 numpy-1.24.4 objsize-0.6.1 orjson-3.9.9 pandas-2.1.1 pemja-0.3.0 proto-plus-1.22.3 protobuf-4.23.4 py4j-0.10.9.7 pyarrow-11.0.0 pydot-1.4.2 pymongo-4.5.0 pyparsing-3.1.1 python-dateutil-2.8.2 pytz-2023.3.post1 regex-2023.10.3 requests-2.31.0 six-1.16.0 typing-extensions-4.8.0 tzdata-2023.3 urllib3-2.0.7 zstandard-0.21.0
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;👏 Success!&lt;/p&gt;
&lt;p&gt;Now to go and actually use PyFlink…stay tuned :-D&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;&lt;em&gt;Note: thanks to Sergey Nuyanzin for pointing out that in Flink 1.19 there will be support for Python 3.11 (&lt;a href=&#34;https://issues.apache.org/jira/browse/FLINK-33030&#34;&gt;FLINK-33030&lt;/a&gt;)&lt;/em&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Learning Apache Flink S01E04: A [Partial] Exploration of the Flink SQL Client</title>
      <link>https://rmoff.net/2023/10/10/learning-apache-flink-s01e04-a-partial-exploration-of-the-flink-sql-client/</link>
      <pubDate>2023-10-10</pubDate>
      
      <guid>https://rmoff.net/2023/10/10/learning-apache-flink-s01e04-a-partial-exploration-of-the-flink-sql-client/</guid>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://rmoff.net/images/2023/10/squirrel.webp" medium="image" type="image/jpg" width="100" height="100" />
      <description>&lt;p&gt;So far I&amp;rsquo;ve plotted out a bit of a &lt;a href=&#34;https://rmoff.net/2023/09/29/learning-apache-flink-s01e01-where-do-i-start/&#34;&gt;map for my exploration&lt;/a&gt; of Apache Flink, looked at &lt;a href=&#34;https://rmoff.net/2023/10/02/learning-apache-flink-s01e02-what-is-flink/&#34;&gt;what  Flink &lt;em&gt;is&lt;/em&gt;&lt;/a&gt;, and &lt;a href=&#34;https://rmoff.net/2023/10/05/learning-apache-flink-s01e03-running-my-first-flink-cluster-and-application/&#34;&gt;run my first Flink application&lt;/a&gt;. Being an absolutely abysmal coder—but knowing a thing or two about SQL—I figure that Flink SQL is where my focus is going to lie (&lt;em&gt;I&amp;rsquo;m also intrigued by PyFlink, but that&amp;rsquo;s for another day…&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;So let&amp;rsquo;s start exploring Flink SQL! I&amp;rsquo;ll use the &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/try-flink/local_installation/#starting-and-stopping-a-local-cluster&#34;&gt;same local cluster that I started last time&lt;/a&gt;, against which I&amp;rsquo;m going to run the &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/dev/table/sqlclient/#sql-client&#34;&gt;SQL Client&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./bin/sql-client.sh
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;🐿️ From here we get the most wonderful ASCII art squirrel, which put a smile on my face.&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;
                                   ▒▓██▓██▒
                               ▓████▒▒█▓▒▓███▓▒
                            ▓███▓░░        ▒▒▒▓██▒  ▒
                          ░██▒   ▒▒▓▓█▓▓▒░      ▒████
                          ██▒         ░▒▓███▒    ▒█▒█▒
                            ░▓█            ███   ▓░▒██
                              ▓█       ▒▒▒▒▒▓██▓░▒░▓▓█
                            █░ █   ▒▒░       ███▓▓█ ▒█▒▒▒
                            ████░   ▒▓█▓      ██▒▒▒ ▓███▒
                         ░▒█▓▓██       ▓█▒    ▓█▒▓██▓ ░█░
                   ▓░▒▓████▒ ██         ▒█    █▓░▒█▒░▒█▒
                  ███▓░██▓  ▓█           █   █▓ ▒▓█▓▓█▒
                ░██▓  ░█░            █  █▒ ▒█████▓▒ ██▓░▒
               ███░ ░ █░          ▓ ░█ █████▒░░    ░█░▓  ▓░
              ██▓█ ▒▒▓▒          ▓███████▓░       ▒█▒ ▒▓ ▓██▓
           ▒██▓ ▓█ █▓█       ░▒█████▓▓▒░         ██▒▒  █ ▒  ▓█▒
           ▓█▓  ▓█ ██▓ ░▓▓▓▓▓▓▓▒              ▒██▓           ░█▒
           ▓█    █ ▓███▓▒░              ░▓▓▓███▓          ░▒░ ▓█
           ██▓    ██▒    ░▒▓▓███▓▓▓▓▓██████▓▒            ▓███  █
          ▓███▒ ███   ░▓▓▒░░   ░▓████▓░                  ░▒▓▒  █▓
          █▓▒▒▓▓██  ░▒▒░░░▒▒▒▒▓██▓░                            █▓
          ██ ▓░▒█   ▓▓▓▓▒░░  ▒█▓       ▒▓▓██▓    ▓▒          ▒▒▓
          ▓█▓ ▓▒█  █▓░  ░▒▓▓██▒            ░▓█▒   ▒▒▒░▒▒▓█████▒
           ██░ ▓█▒█▒  ▒▓▓▒  ▓█                █░      ░░░░   ░█▒
           ▓█   ▒█▓   ░     █░                ▒█              █▓
            █▓   ██         █░                 ▓▓        ▒█▓▓▓▒█░
             █▓ ░▓██░       ▓▒                  ▓█▓▒░░░▒▓█░    ▒█
              ██   ▓█▓░      ▒                    ░▒█▒██▒      ▓▓
               ▓█▒   ▒█▓▒░                         ▒▒ █▒█▓▒▒░░▒██
                ░██▒    ▒▓▓▒                     ▓██▓▒█▒ ░▓▓▓▓▒█▓
                  ░▓██▒                          ▓░  ▒█▓█  ░░▒▒▒
                      ▒▓▓▓▓▓▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒▒░░▓▓  ▓░▒█░

    ______ _ _       _       _____  ____  _         _____ _ _            _  BETA
   |  ____| (_)     | |     / ____|/ __ \| |       / ____| (_)          | |
   | |__  | |_ _ __ | | __ | (___ | |  | | |      | |    | |_  ___ _ __ | |_
   |  __| | | | &amp;#39;_ \| |/ /  \___ \| |  | | |      | |    | | |/ _ \ &amp;#39;_ \| __|
   | |    | | | | | |   &amp;lt;   ____) | |__| | |____  | |____| | |  __/ | | | |_
   |_|    |_|_|_| |_|_|\_\ |_____/ \___\_\______|  \_____|_|_|\___|_| |_|\__|
&lt;/code&gt;&lt;/pre&gt;&lt;h2 id=&#34;orientating-myself-in-the-cli-environment---result-and-runtime-modes&#34;&gt;Orientating myself in the CLI environment - result and runtime modes&lt;/h2&gt;
&lt;p&gt;When you first launch the Flink SQL Client and run a query (I used the one from &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/dev/table/sqlclient/#running-sql-queries&#34;&gt;the SQL Client guide&lt;/a&gt;):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;name,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;COUNT&lt;/span&gt;(&lt;span style=&#34;color:#666&#34;&gt;*&lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;cnt&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;(&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;VALUES&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;Bob&amp;#39;&lt;/span&gt;),&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;Alice&amp;#39;&lt;/span&gt;),&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;Greg&amp;#39;&lt;/span&gt;),&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;Bob&amp;#39;&lt;/span&gt;))&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;AS&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;NameTable(name)&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;GROUP&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;BY&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;name;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;it defaults to an interactive table view (&lt;code&gt;result-mode&lt;/code&gt;=&lt;code&gt;table&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/10/CleanShot_2023-10-09_at_16.27.33.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;This is probably useful for streaming, but perhaps less so for a one-off static query?&lt;/p&gt;
&lt;p&gt;The next &lt;code&gt;result-mode&lt;/code&gt; is similar but shows the table as a change log (a concept very familiar to me from the &lt;a href=&#34;https://www.michael-noll.com/blog/2018/04/05/of-stream-and-tables-in-kafka-and-stream-processing-part1/&#34;&gt;stream-table duality&lt;/a&gt;). The results are still shown on an updating and interactive screen.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SET&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;sql-client.execution.result-mode&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;changelog&amp;#39;&lt;/span&gt;;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/10/CleanShot_2023-10-09_at_16.32.08.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;(&lt;em&gt;If you are wondering how there is an &lt;code&gt;UPDATE&lt;/code&gt; operation in a simple &lt;code&gt;SELECT&lt;/code&gt; then take a close look at the &lt;code&gt;FROM&lt;/code&gt; clause of the SQL being run. The &lt;code&gt;name&lt;/code&gt; value &lt;code&gt;Bob&lt;/code&gt; appears twice, and so the aggregate state change from a &lt;code&gt;COUNT&lt;/code&gt; of 1 to 2&lt;/em&gt;)&lt;/p&gt;
&lt;p&gt;A more conventional way to display the results just as SQL*Plus in Oracle would, psql in PostgreSQL etc, is &lt;code&gt;tableau&lt;/code&gt;. Note that you get the changelog operations shown just as when you explicitly set it in the previous option.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SET&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;sql-client.execution.result-mode&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;tableau&amp;#39;&lt;/span&gt;;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/10/CleanShot_2023-10-09_at_16.34.42.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;For a &amp;ldquo;normal&amp;rdquo; result display (in a tabular view, no change log, just the final state) we set another parameter, &lt;code&gt;runtime-mode&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SET&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;execution.runtime-mode&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;batch&amp;#39;&lt;/span&gt;;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/10/CleanShot_2023-10-09_at_16.38.14.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;a-stream-is-a-table-is-a-stream&#34;&gt;A Stream is a Table is a Stream&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/10/Pasted_image_20231010102731.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;I want to start digging into how Flink&amp;rsquo;s view of everything being a stream—just &lt;a href=&#34;https://flink.apache.org/what-is-flink/flink-architecture/#process-unbounded-and-bounded-data&#34;&gt;bounded or unbounded&lt;/a&gt;—works alongside the SQL semantics of a &lt;code&gt;TABLE&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;In the &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/dev/table/sqlclient/#initialize-session-using-sql-files&#34;&gt;SQL Client doc&lt;/a&gt; I noticed the syntax for &lt;code&gt;CREATE TABLE&lt;/code&gt; included the option to read from a local CSV file. I&amp;rsquo;m hoping that I can define a table on the file to read it, and then start adding rows to the CSV and use this as a crude simulation of a stream a.k.a. unbounded data to see how it works in Flink.&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;ve not dug into Flink&amp;rsquo;s connector capabilities yet so am navigating this one completely in the dark to start with. Looking through &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-release-1.17/&#34;&gt;the docs&lt;/a&gt; I found &lt;strong&gt;Connectors&lt;/strong&gt; on the sidebar nav, of which there are three types listed&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DataSet Connectors&lt;/li&gt;
&lt;li&gt;DataStream Connectors&lt;/li&gt;
&lt;li&gt;Table API&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;One of the areas that &lt;a href=&#34;https://rmoff.net/2023/09/29/learning-apache-flink-s01e01-where-do-i-start/&#34;&gt;I identified previously&lt;/a&gt; to look at was an understanding of Flink&amp;rsquo;s architecture and concepts—which I still need to do. For now, I&amp;rsquo;m going on the basis that I&amp;rsquo;ve seen &amp;ldquo;Table API&amp;rdquo; and &amp;ldquo;SQL&amp;rdquo; alongside each other before, so take a punt on the &lt;strong&gt;Table API&lt;/strong&gt; menu section, which yielded the &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/connectors/table/filesystem/&#34;&gt;FileSystem SQL Connector&lt;/a&gt;. It looks like it supports a variety of &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/connectors/table/filesystem/#file-formats&#34;&gt;formats&lt;/a&gt;, although not the option to derive columns and names from headers which is a shame.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;NOTE: there is also a &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/connectors/table/datagen/&#34;&gt;DataGen&lt;/a&gt; connector, but the File System one at this stage looked simpler for working with just a handful of rows to understand what was going on.&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;Using one of my favourite tools, &lt;a href=&#34;https://www.mockaroo.com/&#34;&gt;Mockaroo&lt;/a&gt;, I generate some CSV data&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;timestamp,source_ip,dest_ip,source_prt,dest_prt
2018-05-11 00:19:34,151.35.34.162,125.26.20.222,2014,68
2018-05-11 22:20:43,114.24.126.190,21.68.21.69,379,1619
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;and write this to &lt;code&gt;/tmp/firewall.csv&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s create a table on it, using some fairly straightforward syntax lifted from the docs.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;CREATE&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;TABLE&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;firewall&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;event_time&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;STRING,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;source_ip&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;STRING,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;dest_ip&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;STRING,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;source_prt&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;INT&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;dest_prt&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;INT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;WITH&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;connector&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;filesystem&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;path&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;file:///tmp/firewall.csv&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;format&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;csv&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;);&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;It worked first time…which always makes me suspicious… 🤔&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[INFO] Execute statement succeed.
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;Let&amp;rsquo;s try querying it.&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Flink&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SQL&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;firewall;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;[ERROR]&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Could&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;not&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;execute&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SQL&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;statement&lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Reason:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;java.lang.NumberFormatException:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;For&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;input&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;string:&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;source_prt&amp;#34;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I knew it was too good to be true 😅 My guess was that perhaps the header was tripping things up (trying to store the &lt;code&gt;source_prt&lt;/code&gt; as the defined &lt;code&gt;INT&lt;/code&gt;). The &lt;a href=&#34;https://stackoverflow.com/questions/67543961/flink-sql-table-backed-by-csv-with-header&#34;&gt;first hit on Stack Overflow&lt;/a&gt; was pretty useful and pointed to a few options if I needed to keep the header. For the sake of expediency, I just removed it and tried the &lt;code&gt;SELECT&lt;/code&gt; again:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;Flink&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SQL&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SET&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;sql-client.execution.result-mode&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;tableau&amp;#39;&lt;/span&gt;;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;[INFO]&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;Execute&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;statement&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;succeed.&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;Flink&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SQL&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;firewall;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;----+--------------------------------+--------------------------------+--------------------------------+-------------+-------------+
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;op&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                     &lt;/span&gt;event_time&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                      &lt;/span&gt;source_ip&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                        &lt;/span&gt;dest_ip&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;source_prt&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;dest_prt&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;----+--------------------------------+--------------------------------+--------------------------------+-------------+-------------+
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;+&lt;/span&gt;I&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;2018&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;05&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;11&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;05&lt;/span&gt;:&lt;span style=&#34;color:#666&#34;&gt;02&lt;/span&gt;:&lt;span style=&#34;color:#666&#34;&gt;09&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                   &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;73&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;98&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;97&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;177&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                  &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;41&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;52&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;138&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;199&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;1478&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;1181&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;+&lt;/span&gt;I&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;            &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;2018&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;05&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;-&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;11&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;07&lt;/span&gt;:&lt;span style=&#34;color:#666&#34;&gt;59&lt;/span&gt;:&lt;span style=&#34;color:#666&#34;&gt;48&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                 &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;21&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;171&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;129&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;233&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;                 &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;26&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;203&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;158&lt;/span&gt;.&lt;span style=&#34;color:#666&#34;&gt;152&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;1538&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;        &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;1680&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;|&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;+&lt;/span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;----+--------------------------------+--------------------------------+--------------------------------+-------------+-------------+
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;&lt;/span&gt;Received&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;a&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;total&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;of&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;2&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;rows&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Nice! We&amp;rsquo;ve read from a flat file using Flink. At the moment it&amp;rsquo;s bounded data; there are two rows of data in the file, and we have read them. The boundary is the end of the file. What about if we cheat a little bit and move that boundary on and start adding some rows, making it kinda unbounded? Looking at how the query above ran and completed, we&amp;rsquo;re going to need to change something in how we run the query to tell Flink that there will be more data.&lt;/p&gt;
&lt;h2 id=&#34;reading-a-csv-file-as-a-stream&#34;&gt;Reading a CSV file as a stream&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/10/Pasted_image_20231009171747.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Let&amp;rsquo;s take a guess and change the &lt;code&gt;runtime-mode&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SET&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;sql-client.execution.result-mode&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;changelog&amp;#39;&lt;/span&gt;;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;and query the table again:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;SELECT * FROM firewall;
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;I got the interactive-looking screen:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;                                                         SQL Query Result (Changelog)
 Table program finished.                                                                                                Updated: 10:45:17.909

 op                     event_time                      source_ip                        dest_ip  source_prt    dest_prt
 +I            2018-05-11 05:02:09                   73.98.97.177                  41.52.138.199        1478        1181
 +I            2018-05-11 07:59:48                 21.171.129.233                 26.203.158.152        1538        1680
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;But note the &lt;code&gt;Table program finished&lt;/code&gt; in the top left—and when I added a row to the CSV file nothing changed in the results.&lt;/p&gt;
&lt;p&gt;This is where the documentation comes in handy ;-) Above, I set the &lt;code&gt;runtime-mode&lt;/code&gt; to &lt;code&gt;batch&lt;/code&gt; - so is there a &lt;code&gt;streaming&lt;/code&gt; counterpart? I struggled to find a clear documentation of this via the search, but under &lt;strong&gt;DataStream API&lt;/strong&gt; I found &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/dev/datastream/execution_mode/#configuring-batch-execution-mode&#34;&gt;an explanation of it&lt;/a&gt;. At this stage, I&amp;rsquo;m still randomly-jiggling things but I do need to go back and understand the relationship between the APIs properly. Anyway, let&amp;rsquo;s try changing it:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SET&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;execution.runtime-mode&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;STREAMING&amp;#39;&lt;/span&gt;;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;I got the same behaviour as before - no changes picked up by the query. What about the connector itself? &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/connectors/table/filesystem/#directory-watching&#34;&gt;It turns out&lt;/a&gt; that &lt;em&gt;it&lt;/em&gt; isn&amp;rsquo;t doing the streaming:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;By default, the file system connector is bounded&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;However, it does have an option for streaming, whereby it monitors a folder for new files. Since we&amp;rsquo;ve started down this path, let&amp;rsquo;s keep going. I&amp;rsquo;ll create a dedicated folder locally for my CSV files, and recreate the table:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;DROP&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;TABLE&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;firewall;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;CREATE&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;TABLE&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;firewall&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;event_time&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;STRING,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;source_ip&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;STRING,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;dest_ip&lt;span style=&#34;color:#bbb&#34;&gt;    &lt;/span&gt;STRING,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;source_prt&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;INT&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;dest_prt&lt;span style=&#34;color:#bbb&#34;&gt;   &lt;/span&gt;&lt;span style=&#34;color:#008000&#34;&gt;INT&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;`&lt;/span&gt;file.path&lt;span style=&#34;color:#666&#34;&gt;`&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;STRING&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;NOT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;NULL&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;METADATA&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;)&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;WITH&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;(&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;connector&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;filesystem&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;path&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;file:///tmp/firewall/&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;format&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;csv&amp;#39;&lt;/span&gt;,&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;  &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;source.monitor-interval&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;-- unclear from the docs what the unit is here
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#408080;font-style:italic&#34;&gt;&lt;/span&gt;);&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;(&lt;em&gt;I&amp;rsquo;ve added another column that I found in the docs, showing metadata for the file that was read&lt;/em&gt;).&lt;/p&gt;
&lt;p&gt;On disk I&amp;rsquo;ve got:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;$ ls -l /tmp/firewall
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;total &lt;span style=&#34;color:#666&#34;&gt;8&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--@ &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt; rmoff  wheel  &lt;span style=&#34;color:#666&#34;&gt;117&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;10&lt;/span&gt; Oct 10:58 1.csv
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;-rw-r--r--@ &lt;span style=&#34;color:#666&#34;&gt;1&lt;/span&gt; rmoff  wheel  &lt;span style=&#34;color:#666&#34;&gt;251&lt;/span&gt; &lt;span style=&#34;color:#666&#34;&gt;10&lt;/span&gt; Oct 12:14 2.csv
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Now let&amp;rsquo;s query it, and re-issue the &lt;code&gt;runtime-mode&lt;/code&gt; and &lt;code&gt;results-mode&lt;/code&gt; settings just to keep things in one place and clear (note that you have to run the statements in the CLI one by one):&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SET&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;sql-client.execution.result-mode&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;changelog&amp;#39;&lt;/span&gt;;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SET&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;execution.runtime-mode&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;=&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;STREAMING&amp;#39;&lt;/span&gt;;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SELECT&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#666&#34;&gt;*&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;FROM&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;firewall;&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;em&gt;NOW&lt;/em&gt; we are getting somewhere! 🥳 Note how the &lt;code&gt;Updated&lt;/code&gt; field is advancing and the top left says &lt;code&gt;Refresh: Fastest&lt;/code&gt; (rather than the previous message about a table program finishing):&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/10/CleanShot_2023-10-10_at_16.29.30.gif&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Now that the query is running continuously, let&amp;rsquo;s add some more data. &lt;a href=&#34;https://www.mockaroo.com/f6255400&#34;&gt;Mockaroo&lt;/a&gt; supports a REST API which I&amp;rsquo;ll pull straight into the new file:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;https://api.mockaroo.com/api/f6255400?count=4&amp;amp;key=&amp;#34;&lt;/span&gt; &amp;gt; /tmp/firewall/2.csv
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Unfortunately, Flink doesn&amp;rsquo;t seem to like this, and the executing query aborts as soon as I run the &lt;code&gt;curl&lt;/code&gt; command:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-sql&#34; data-lang=&#34;sql&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;[ERROR]&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Could&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;not&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;execute&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;SQL&lt;/span&gt;&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;&lt;span style=&#34;color:#008000;font-weight:bold&#34;&gt;statement&lt;/span&gt;.&lt;span style=&#34;color:#bbb&#34;&gt; &lt;/span&gt;Reason:&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#bbb&#34;&gt;&lt;/span&gt;java.lang.IllegalArgumentException&lt;span style=&#34;color:#bbb&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3 id=&#34;it-was-all-going-so-well-&#34;&gt;It was all going so well 😅…&lt;/h3&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/10/Pasted_image_20231010140254.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;In the root of the Flink directory (from which I launched the cluster and the SQL Client) is a folder called &lt;code&gt;log&lt;/code&gt;. In there I looked at the recently changed files and searched for &lt;code&gt;IllegalArgumentException&lt;/code&gt; which yielded the following in &lt;code&gt;flink-rmoff-standalonesession-0-asgard08.log&lt;/code&gt;:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;2023-10-10 13:45:20,609 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Source: firewall[3] -&amp;gt; Sink: Collect table sink (1/1) (b75ce256ec609708e0d19f8a57a84e48_cbc357ccb763df2852fee8c4fc7d55f2_0_0) switched from RUNNING to FAILED on localhost:52591-4b9201 @ localhost (dataPort=52593).
java.lang.RuntimeException: One or more fetchers have encountered exception
        at org.apache.flink.connector.base.source.reader.fetcher.SplitFetcherManager.checkErrors(SplitFetcherManager.java:261) ~[flink-connector-files-1.17.1.jar:1.17.1]
        at org.apache.flink.connector.base.source.reader.SourceReaderBase.getNextFetch(SourceReaderBase.java:169) ~[flink-connector-files-1.17.1.jar:1.17.1]
        at org.apache.flink.connector.base.source.reader.SourceReaderBase.pollNext(SourceReaderBase.java:131) ~[flink-connector-files-1.17.1.jar:1.17.1]
        at org.apache.flink.streaming.api.operators.SourceOperator.emitNext(SourceOperator.java:417) ~[flink-dist-1.17.1.jar:1.17.1]
        at org.apache.flink.streaming.runtime.io.StreamTaskSourceInput.emitNext(StreamTaskSourceInput.java:68) ~[flink-dist-1.17.1.jar:1.17.1]
        at org.apache.flink.streaming.runtime.io.StreamOneInputProcessor.processInput(StreamOneInputProcessor.java:65) ~[flink-dist-1.17.1.jar:1.17.1]
        at org.apache.flink.streaming.runtime.tasks.StreamTask.processInput(StreamTask.java:550) ~[flink-dist-1.17.1.jar:1.17.1]
        at org.apache.flink.streaming.runtime.tasks.mailbox.MailboxProcessor.runMailboxLoop(MailboxProcessor.java:231) ~[flink-dist-1.17.1.jar:1.17.1]
        at org.apache.flink.streaming.runtime.tasks.StreamTask.runMailboxLoop(StreamTask.java:839) ~[flink-dist-1.17.1.jar:1.17.1]
        at org.apache.flink.streaming.runtime.tasks.StreamTask.invoke(StreamTask.java:788) ~[flink-dist-1.17.1.jar:1.17.1]
        at org.apache.flink.runtime.taskmanager.Task.runWithSystemExitMonitoring(Task.java:952) ~[flink-dist-1.17.1.jar:1.17.1]
        at org.apache.flink.runtime.taskmanager.Task.restoreAndInvoke(Task.java:931) ~[flink-dist-1.17.1.jar:1.17.1]
        at org.apache.flink.runtime.taskmanager.Task.doRun(Task.java:745) ~[flink-dist-1.17.1.jar:1.17.1]
        at org.apache.flink.runtime.taskmanager.Task.run(Task.java:562) ~[flink-dist-1.17.1.jar:1.17.1]
        at java.lang.Thread.run(Thread.java:829) ~[?:?]
Caused by: java.lang.RuntimeException: SplitFetcher thread 1 received unexpected exception while polling the records
        at org.apache.flink.connector.base.source.reader.fetcher.SplitFetcher.runOnce(SplitFetcher.java:165) ~[flink-connector-files-1.17.1.jar:1.17.1]
        at org.apache.flink.connector.base.source.reader.fetcher.SplitFetcher.run(SplitFetcher.java:114) ~[flink-connector-files-1.17.1.jar:1.17.1]
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) ~[?:?]
        at java.util.concurrent.FutureTask.run(FutureTask.java:264) ~[?:?]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) ~[?:?]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) ~[?:?]
        ... 1 more
Caused by: java.lang.IllegalArgumentException
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;and then in the &lt;code&gt;flink-rmoff-taskexecutor-1-asgard08.log&lt;/code&gt; I saw:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;2023-10-10 13:45:20,587 INFO  org.apache.flink.connector.base.source.reader.SourceReaderBase [] - Adding split(s) to reader: [FileSourceSplit: file:/tmp/firewall/2.csv [0, 0) (no host info) ID=0000004128 position=null]
2023-10-10 13:45:20,587 INFO  org.apache.flink.connector.base.source.reader.fetcher.SplitFetcher [] - Starting split fetcher 1
2023-10-10 13:45:20,588 ERROR org.apache.flink.connector.base.source.reader.fetcher.SplitFetcherManager [] - Received uncaught exception.
java.lang.RuntimeException: SplitFetcher thread 1 received unexpected exception while polling the records
        at org.apache.flink.connector.base.source.reader.fetcher.SplitFetcher.runOnce(SplitFetcher.java:165) ~[flink-connector-files-1.17.1.jar:1.17.1]
        at org.apache.flink.connector.base.source.reader.fetcher.SplitFetcher.run(SplitFetcher.java:114) [flink-connector-files-1.17.1.jar:1.17.1]
        at java.util.concurrent.Executors$RunnableAdapter.call(Executors.java:515) [?:?]
        at java.util.concurrent.FutureTask.run(FutureTask.java:264) [?:?]
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128) [?:?]
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628) [?:?]
        at java.lang.Thread.run(Thread.java:829) [?:?]
Caused by: java.lang.IllegalArgumentException
        at org.apache.flink.util.Preconditions.checkArgument(Preconditions.java:122) ~[flink-dist-1.17.1.jar:1.17.1]
        at org.apache.flink.connector.file.src.impl.StreamFormatAdapter$TrackingFsDataInputStream.&amp;lt;init&amp;gt;(StreamFormatAdapter.java:264) ~[flink-connector-files-1.17.1.jar:1.17.1]
        at org.apache.flink.connector.file.src.impl.StreamFormatAdapter.lambda$openStream$3(StreamFormatAdapter.java:180) ~[flink-connector-files-1.17.1.jar:1.17.1]
        at org.apache.flink.connector.file.src.util.Utils.doWithCleanupOnException(Utils.java:45) ~[flink-connector-files-1.17.1.jar:1.17.1]
        at org.apache.flink.connector.file.src.impl.StreamFormatAdapter.openStream(StreamFormatAdapter.java:172) ~[flink-connector-files-1.17.1.jar:1.17.1]
        at org.apache.flink.connector.file.src.impl.StreamFormatAdapter.createReader(StreamFormatAdapter.java:70) ~[flink-connector-files-1.17.1.jar:1.17.1]
        at org.apache.flink.connector.file.src.impl.FileSourceSplitReader.checkSplitOrStartNext(FileSourceSplitReader.java:112) ~[flink-connector-files-1.17.1.jar:1.17.1]
        at org.apache.flink.connector.file.src.impl.FileSourceSplitReader.fetch(FileSourceSplitReader.java:65) ~[flink-connector-files-1.17.1.jar:1.17.1]
        at org.apache.flink.connector.base.source.reader.fetcher.FetchTask.run(FetchTask.java:58) ~[flink-connector-files-1.17.1.jar:1.17.1]
        at org.apache.flink.connector.base.source.reader.fetcher.SplitFetcher.runOnce(SplitFetcher.java:162) ~[flink-connector-files-1.17.1.jar:1.17.1]
        ... 6 more
2023-10-10 13:45:20,593 INFO  org.apache.flink.connector.base.source.reader.fetcher.SplitFetcher [] - Split fetcher 1 exited.
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;The salient lines here seeming to be&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;code&gt;Adding split(s) to reader: [FileSourceSplit: file:/tmp/firewall/2.csv&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;SplitFetcher thread 1 received unexpected exception while polling the records&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Caused by: java.lang.IllegalArgumentException&lt;/code&gt;
&lt;code&gt;   at org.apache.flink.util.Preconditions.checkArgument(Preconditions.java:122) ~[flink-dist-1.17.1.jar:1.17.1]&lt;/code&gt;
&lt;code&gt;   at org.apache.flink.connector.file.src.impl.StreamFormatAdapter$TrackingFsDataInputStream.&amp;lt;init&amp;gt;(StreamFormatAdapter.java:264) ~[flink-connector-files-1.17.1.jar:1.17.1]&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Perhaps having curl stream the HTTP call output into the file is confusing things; it it better to buffer it and then give the connector a complete file to read?&lt;/p&gt;
&lt;p&gt;By using &lt;code&gt;&amp;amp;&amp;amp;&lt;/code&gt; in bash I can write the output from &lt;code&gt;curl&lt;/code&gt; to one file, and then once that completes, rename it into the &lt;code&gt;/tmp/firewall&lt;/code&gt; folder:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;curl &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;https://api.mockaroo.com/api/f6255400?count=4&amp;amp;key=ff7856d0&amp;#34;&lt;/span&gt; &amp;gt; /tmp/data.csv &lt;span style=&#34;color:#666&#34;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;mv /tmp/data.csv /tmp/firewall/3.csv
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Look at that! A streaming query! 👀 😄&lt;/p&gt;
&lt;p&gt;&lt;video autoplay=&#34;true&#34; loop=&#34;false&#34; width=800 src=&#34;https://rmoff.net/images/2023/10/CleanShot_2023-10-10_at_16.34.14.mp4&#34;&gt;&lt;/video&gt;&lt;/p&gt;
&lt;h3 id=&#34;more-errors-&#34;&gt;More errors 😑&lt;/h3&gt;
&lt;p&gt;Before my celebrations had quite died, down the query itself aborted:&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;[ERROR] Could not execute SQL statement. Reason:
org.apache.flink.shaded.netty4.io.netty.channel.ConnectTimeoutException: connection timed out: localhost/127.0.0.1:52596
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;This in fact happened whether I added to data or not; if I left the &lt;code&gt;SELECT&lt;/code&gt; running for more than a few seconds I got this. Some kind of built-in timeout, perhaps?&lt;/p&gt;
&lt;p&gt;Remembering the Flink Web UI that I saw &lt;a href=&#34;https://rmoff.net/2023/10/05/learning-apache-flink-s01e03-running-my-first-flink-cluster-and-application/&#34;&gt;last time&lt;/a&gt; I headed over to see what I could see there. A whole lotta &lt;code&gt;CANCELED&lt;/code&gt;!&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/10/CleanShot_2023-10-10_at_14.49.19.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;Via this you can get to the Job Manager and Task Manager logs (just as I did from the &lt;code&gt;log&lt;/code&gt; folder, but this time through the Web UI). It also reminds me that I still need to figure out where these components come in the runtime architecture 😅&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/10/CleanShot_2023-10-10_at_16.15.25.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Job Manager&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;2023-10-10 16:13:07,606 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Job collect (ffde32919ba32f82b41bbbb451ac64a2) switched from state RUNNING to CANCELLING.
2023-10-10 16:13:07,607 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Source: firewall[27] -&amp;gt; Sink: Collect table sink (1/1) (18449605df5a8d831d44b7cb4e2d74cb_cbc357ccb763df2852fee8c4fc7d55f2_0_0) switched from RUNNING to CANCELING.
2023-10-10 16:13:07,612 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Source: firewall[27] -&amp;gt; Sink: Collect table sink (1/1) (18449605df5a8d831d44b7cb4e2d74cb_cbc357ccb763df2852fee8c4fc7d55f2_0_0) switched from CANCELING to CANCELED.
2023-10-10 16:13:07,612 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph       [] - Job collect (ffde32919ba32f82b41bbbb451ac64a2) switched from state CANCELLING to CANCELED.
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Task Manager&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code&gt;2023-10-10 16:13:07,607 INFO org.apache.flink.runtime.taskmanager.Task [] - Attempting to cancel task Source: firewall[27] -&amp;gt; Sink: Collect table sink (1/1)#0 (18449605df5a8d831d44b7cb4e2d74cb_cbc357ccb763df2852fee8c4fc7d55f2_0_0).

2023-10-10 16:13:07,607 INFO org.apache.flink.runtime.taskmanager.Task [] - Source: firewall[27] -&amp;gt; Sink: Collect table sink (1/1)#0 (18449605df5a8d831d44b7cb4e2d74cb_cbc357ccb763df2852fee8c4fc7d55f2_0_0) switched from RUNNING to CANCELING.

2023-10-10 16:13:07,607 INFO org.apache.flink.runtime.taskmanager.Task [] - Triggering cancellation of task code Source: firewall[27] -&amp;gt; Sink: Collect table sink (1/1)#0 (18449605df5a8d831d44b7cb4e2d74cb_cbc357ccb763df2852fee8c4fc7d55f2_0_0).

2023-10-10 16:13:07,609 INFO org.apache.flink.connector.base.source.reader.SourceReaderBase [] - Closing Source Reader.

2023-10-10 16:13:07,610 INFO org.apache.flink.runtime.taskmanager.Task [] - Source: firewall[27] -&amp;gt; Sink: Collect table sink (1/1)#0 (18449605df5a8d831d44b7cb4e2d74cb_cbc357ccb763df2852fee8c4fc7d55f2_0_0) switched from CANCELING to CANCELED.
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;strong&gt;UPDATE&lt;/strong&gt;: I&amp;rsquo;ve logged &lt;a href=&#34;https://issues.apache.org/jira/browse/FLINK-33251&#34;&gt;&lt;strong&gt;[FLINK-33251] SQL Client query execution aborts after a few seconds: ConnectTimeoutException - ASF JIRA&lt;/strong&gt;&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;One short-term workaround I did find was to simply use 1.16.2 where this error doesn&amp;rsquo;t seem to happen.&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&#34;time-out&#34;&gt;Time out&lt;/h2&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/10/timeout.gif&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;At this point I&amp;rsquo;ve got the basics of a query running, I&amp;rsquo;ve learnt something about tables and connectors - and I&amp;rsquo;m stuck!&lt;/p&gt;
&lt;p&gt;I&amp;rsquo;m going to step back, and learn more about the Flink architecture and components before digging myself a deeper hole on this particular issue 😁 Particular things I&amp;rsquo;ve come across during my reading that I want to find out more about include the &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/dev/table/sql-gateway/overview/#introduction&#34;&gt;SQL Gateway&lt;/a&gt;, &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/dev/table/concepts/dynamic_tables/&#34;&gt;Dynamic Tables&lt;/a&gt;, and the &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/concepts/flink-architecture/&#34;&gt;Flink Architecture&lt;/a&gt; docs.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;Join me next time for more fun and stack traces…&lt;/em&gt;&lt;/p&gt;</description>
    </item>
    <item>
      <title>Learning Apache Flink S01E03: Running my First Flink Cluster and Application</title>
      <link>https://rmoff.net/2023/10/05/learning-apache-flink-s01e03-running-my-first-flink-cluster-and-application/</link>
      <pubDate>2023-10-05</pubDate>
      
      <guid>https://rmoff.net/2023/10/05/learning-apache-flink-s01e03-running-my-first-flink-cluster-and-application/</guid>
      <media:content xmlns:media="http://search.yahoo.com/mrss/" url="https://rmoff.net/images/2023/10/t_IMG_5439.webp" medium="image" type="image/jpg" width="100" height="100" />
      <description>&lt;p&gt;🎉 I just ran my first Apache Flink cluster and application on it 🎉&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/10/flinkrun.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;I followed the &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/try-flink/local_installation/&#34;&gt;&lt;strong&gt;First Steps&lt;/strong&gt; quickstart from the Flink docs&lt;/a&gt; which is a nicely-paced walk through:&lt;/p&gt;
&lt;p&gt;0️⃣ make sure you&amp;rsquo;ve got Java 11&lt;/p&gt;
&lt;p&gt;1️⃣ install Flink (&lt;a href=&#34;https://flink.apache.org/downloads/&#34;&gt;download&lt;/a&gt;, unpack (with a &lt;a href=&#34;https://rmoff.net/2023/10/04/cd-string-not-in-pwd/&#34;&gt;little detour&lt;/a&gt;))&lt;/p&gt;
&lt;p&gt;2️⃣ run it (&lt;code&gt;./bin/start-cluster.sh&lt;/code&gt;)&lt;/p&gt;
&lt;p&gt;3️⃣ submit the sample WordCount app&lt;/p&gt;
&lt;p&gt;4️⃣ see the execution in the web UI&lt;/p&gt;
&lt;p&gt;5️⃣ examine the output&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/10/flinktail.webp&#34; alt=&#34;&#34;&gt;&lt;/p&gt;
&lt;p&gt;The WebUI is a nice touch - sometimes just running everything on the CLI gives you a technically correct finish but if you&amp;rsquo;re new to something leaves you underwhelmed. The webUI lets you click around a bit and start to get a feel for what&amp;rsquo;s going on.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/10/flinkui01.webp&#34; alt=&#34;The Flink web UI&#34;&gt;&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://rmoff.net/images/2023/10/flinkui02.webp&#34; alt=&#34;The Flink web UI&#34;&gt;&lt;/p&gt;
&lt;p&gt;You can find the source for the WordCount app &lt;a href=&#34;https://github.com/apache/flink/blob/release-1.17/flink-examples/flink-examples-batch/src/main/java/org/apache/flink/examples/java/wordcount/WordCount.java&#34;&gt;here&lt;/a&gt;, and further tutorials on Flink &lt;a href=&#34;https://nightlies.apache.org/flink/flink-docs-release-1.17/docs/try-flink/local_installation/&#34;&gt;here&lt;/a&gt;.&lt;/p&gt;</description>
    </item>
    
  </channel>
</rss>