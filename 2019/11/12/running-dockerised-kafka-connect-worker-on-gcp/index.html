<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link rel="preload" as="image" href="https://rmoff.net/images/2019/11/IMG_1161.jpeg" >
		
		<title>Running Dockerised Kafka Connect worker on GCP</title>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="https://rmoff.net/index.xml">
		<link rel="canonical" href="https://rmoff.net/2019/11/12/running-dockerised-kafka-connect-worker-on-gcp/">
		
		

		
		<meta property="og:title" content="Running Dockerised Kafka Connect worker on GCP" />
		<meta property="og:type" content="article" />
		<meta property="og:image" content="https://rmoff.net/images/2019/11/IMG_1161.jpeg" />
		<meta property="og:description" content="" />
		<meta property="og:url" content="https://rmoff.net/2019/11/12/running-dockerised-kafka-connect-worker-on-gcp/" />
		<meta property="og:site_name" content="Running Dockerised Kafka Connect worker on GCP" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:site" content="@" />


		
		<style>
			html { background-color: #FAF8F5; color: #2D2926; }
			body { opacity: 0; transition: opacity 0.1s ease; }
			body.loaded { opacity: 1; }
			.site-header { height: 60px; background-color: #FAF8F5; border-bottom: 1px solid #E8421E; }
		</style>

		
		
		<link rel="stylesheet" href="https://rmoff.net/css/redesign.css" />
		
		<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,600;12..96,700;12..96,800&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@400;500;600&display=swap">
		<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,600;12..96,700;12..96,800&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@400;500;600&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
		<noscript><link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,600;12..96,700;12..96,800&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@400;500;600&display=swap" rel="stylesheet"></noscript>
		

		

		
		<script>
			!function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init capture register register_once register_for_session unregister unregister_for_session getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey getNextSurveyStep identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty createPersonProfile opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing debug".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
            posthog.init('phc_93NEP79Ju4xqXYWXnoLbr4HMW0Iaepj1BGOVoEXYX6P',{api_host:'https://eu.i.posthog.com', person_profiles: 'identified_only'})
		</script>

		
		<script src="https://rmoff.net/js/story.js"></script>
		<script src="https://rmoff.net/js/toc.js"></script>
		<script src="https://rmoff.net/js/medium-mirror.js"></script>
	</head>
	<body class="ma0 section-post page-kind-page is-page-true ">
		<script>document.body.classList.add('loaded');</script>

		<header class="site-header hide-print">
	<div class="site-header-inner">
		<a href="https://rmoff.net/" class="site-title">rmoff's random ramblings</a>
		<nav class="site-nav">
			<a href="/categories/interesting-links/" class="nav-il"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg> Interesting Links</a>
			<span class="nav-sep"></span>
			<a href="/categories/"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg> Categories</a>
			<a href="https://rmoff.net/search/"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg> Search</a>
			<a href="https://rmoff.net/index.xml"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9"/><path d="M4 4a16 16 0 0 1 16 16"/><circle cx="5" cy="19" r="1"/></svg> RSS</a>
			<div class="nav-social">
				<a href="https://www.linkedin.com/in/robinmoffatt/" title="linkedin"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg></a>
				<a href="https://twitter.com/rmoff/" title="twitter"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
				<a href="https://bsky.app/profile/rmoff.net" title="bluesky"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 568 501" fill="currentColor"><path d="M123.121 33.664C188.241 82.553 258.281 181.68 284 234.873c25.719-53.192 95.759-152.32 160.879-201.21C491.866-1.611 568-28.906 568 57.947c0 17.346-9.945 145.713-15.778 166.555-20.275 72.453-94.155 90.933-159.875 79.748C507.222 323.8 536.444 388.56 473.333 453.32c-119.86 122.992-172.272-30.859-185.702-70.281-2.462-7.227-3.614-10.608-3.631-7.733-.017-2.875-1.169.506-3.631 7.733-13.43 39.422-65.842 193.273-185.702 70.281-63.111-64.76-33.89-129.52 80.986-149.071-65.72 11.185-139.6-7.295-159.875-79.748C10.945 203.659 1 75.291 1 57.946 1-28.906 76.135-1.612 123.121 33.664z"/></svg></a>
				<a href="https://www.youtube.com/c/rmoff" title="youtube"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></a>
				<a href="https://talks.rmoff.net" title="talks"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="0"/><line x1="12" y1="17" x2="12" y2="22"/><line x1="8" y1="22" x2="16" y2="22"/><polyline points="7 8 12 12 17 8"/></svg></a>
				<a href="https://github.com/rmoff/" title="github"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a>
			</div>
		</nav>
		<button class="nav-toggle" onclick="document.querySelector('.mobile-nav').classList.toggle('open')" aria-label="Menu">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
		</button>
	</div>
	<nav class="mobile-nav">
		<a href="https://rmoff.net/">Home</a>
		<a href="/categories/">Categories</a>
		<a href="/categories/interesting-links/">Interesting Links</a>
		<a href="https://rmoff.net/search/">Search</a>
		<a href="https://rmoff.net/index.xml">RSS</a>
		<a href="https://www.linkedin.com/in/robinmoffatt/">linkedin</a>
		<a href="https://twitter.com/rmoff/">twitter</a>
		<a href="https://bsky.app/profile/rmoff.net">bluesky</a>
		<a href="https://www.youtube.com/c/rmoff">youtube</a>
		<a href="https://talks.rmoff.net">talks</a>
		<a href="https://github.com/rmoff/">github</a>
	</nav>
</header>


		<main role="main">
		

<div class="article-hero" style="background-image: url('https://rmoff.net/images/2019/11/IMG_1161.jpeg');">
	<div class="article-hero-overlay">
		<div class="article-hero-content">
			<h1>Running Dockerised Kafka Connect worker on GCP</h1>
			<p class="article-hero-meta">
				
					<time datetime="2019-11-12T14:45:43Z">12 Nov 2019</time>
					<span class="display-print">by </span>
					 &middot; <a href="https://rmoff.net/categories/kafka-connect">Kafka Connect</a>, <a href="https://rmoff.net/categories/confluent-cloud">Confluent Cloud</a>, <a href="https://rmoff.net/categories/docker">Docker</a>, <a href="https://rmoff.net/categories/gcp">GCP</a>
					<span class="display-print">at https://rmoff.net/2019/11/12/running-dockerised-kafka-connect-worker-on-gcp/</span>
				
			</p>
		</div>
	</div>
</div>


<details class="toc-mobile">
	<summary>Table of Contents</summary>
	<nav id="TableOfContents">
  <ul>
    <li><a href="#_the_script">The script</a></li>
    <li><a href="#_gotchas">Gotchas</a></li>
    <li><a href="#_my_question_to_you">My question to you</a></li>
  </ul>
</nav>
</details>

<div class="container-fluid docs">
	<div class="row">
		<main class="docs-content" role="main">

<article class="article" data-pagefind-body>
	<span data-pagefind-filter="category" style="display:none">Kafka Connect</span><span data-pagefind-filter="category" style="display:none">Confluent Cloud</span><span data-pagefind-filter="category" style="display:none">Docker</span><span data-pagefind-filter="category" style="display:none">GCP</span>
	<img data-pagefind-meta="image[src]" src="https://rmoff.net/images/2019/11/IMG_1161.jpeg" style="display:none" alt="">
	<div class="paragraph">
<p>I <a href="http://talks.rmoff.net/">talk and write about Kafka and Confluent Platform</a> a lot, and more and more of the demos that I‚Äôm building are around <a href="https://confluent.cloud">Confluent Cloud</a>. This means that I don‚Äôt have to run or manage my own Kafka brokers, Zookeeper, Schema Registry, KSQL servers, etc which makes things a ton easier. Whilst there are managed connectors on Confluent Cloud (S3 etc), I need to run my own Kafka Connect worker for those connectors not yet provided. An example is the MQTT source connector that I use in <a href="https://rmoff.dev/kssf19-ksql-video">this demo</a>. Up until now I‚Äôd either run this worker locally, or manually build a cloud VM. Locally is fine, as it‚Äôs all Docker, easily spun up in a single <code>docker-compose up -d</code> command. I wanted something that would keep running whilst my laptop was off, but that was as close to my local build as possible‚Äîenter GCP and its functionality to run a container on a VM automagically.</p>
</div>
<div class="paragraph">
<p><strong>You can see <a href="https://github.com/confluentinc/demo-scene/blob/master/mqtt-tracker/launch-worker-container_gcloud.sh">the full script here</a></strong>. The rest of this article just walks through the how and why.</p>
</div>
<div class="sect1">
<h2 id="_the_script">The script&nbsp;<a class="headline-hash" href="#_the_script">üîó</a> </h2>
<div class="sectionbody">
<div class="paragraph">
<p>Here‚Äôs a walk through of what the script‚Äôs doing and how to use it. First up, you need to create a <code>.env</code> file with your secrets and config in:</p>
</div>
<div class="paragraph">
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#19177c">CONFLUENTPLATFORM_VERSION</span><span style="color:#666">=</span>5.4.0-beta1
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#   </span>
</span></span><span style="display:flex;"><span><span style="color:#19177c">CCLOUD_BROKER_HOST</span><span style="color:#666">=</span>
</span></span><span style="display:flex;"><span><span style="color:#19177c">CCLOUD_API_KEY</span><span style="color:#666">=</span>
</span></span><span style="display:flex;"><span><span style="color:#19177c">CCLOUD_API_SECRET</span><span style="color:#666">=</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#</span>
</span></span><span style="display:flex;"><span><span style="color:#19177c">CCLOUD_SCHEMA_REGISTRY_URL</span><span style="color:#666">=</span>
</span></span><span style="display:flex;"><span><span style="color:#19177c">CCLOUD_SCHEMA_REGISTRY_API_KEY</span><span style="color:#666">=</span>
</span></span><span style="display:flex;"><span><span style="color:#19177c">CCLOUD_SCHEMA_REGISTRY_API_SECRET</span><span style="color:#666">=</span></span></span></code></pre></div>
</div>
<div class="paragraph">
<p>This is then passed to <code>source</code> to make the values available to the shell</p>
</div>
<div class="paragraph">
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#008000">source</span> .env</span></span></code></pre></div>
</div>
<div class="paragraph">
<p>I‚Äôm running Kafka Connect in distributed mode, which <a href="http://rmoff.dev/ksldn19-kafka-connect">I generally recommend in all instances - even on a single node</a>. There‚Äôs no reason not to, and it makes it easier to understand (and work with IMO) to learn a single deployment method instead of two. Since I‚Äôm using distributed mode, all of the state for the worker is stored in Kafka itself. This is pretty cool, but it does mean that if you run multiple workers with the same persistence topics configured things will get funky. For that reason, I have a prefix for the worker and topics, which is based on the current timestamp‚Äîif you‚Äôre using this script yourself you might want to vary this (or not; YMMV):</p>
</div>
<div class="paragraph">
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#19177c">epoch</span><span style="color:#666">=</span><span style="color:#008000;font-weight:bold">$(</span>date +%s<span style="color:#008000;font-weight:bold">)</span></span></span></code></pre></div>
</div>
<div class="paragraph">
<p>Whilst Kafka Connect uses the Admin API to create its own internal topics (for state persistence) the topic(s) that the connector itself writes to need to be created manually. Here I use <code>kafka-topics</code> to do that, through Docker running locally. I use Docker just for isolation and ease portability; if you want to use your own local install then you can. To use Confluent Cloud with <code>kafka-topics</code> you need to have a local file with the necessary authentication details in, which is then passed with <code>--command-config</code> in <code>kafka-topics</code>:</p>
</div>
<div class="paragraph">
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>cat &gt; /tmp/config-<span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">epoch</span><span style="color:#b68;font-weight:bold">}</span>.properties <span style="color:#ba2121">&lt;&lt;EOF
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">ssl.endpoint.identification.algorithm=https
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">sasl.mechanism=PLAIN
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">sasl.jaas.config=org.apache.kafka.common.security.plain.PlainLoginModule required username=&#34;${CCLOUD_API_KEY}&#34; password=&#34;${CCLOUD_API_SECRET}&#34;;
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">security.protocol=SASL_SSL
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">request.timeout.ms=20000
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">retry.backoff.ms=500
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">EOF</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>docker run --rm --volume /tmp/config-<span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">epoch</span><span style="color:#b68;font-weight:bold">}</span>.properties:/tmp/config.properties <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>    confluentinc/cp-kafka:<span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">CONFLUENTPLATFORM_VERSION</span><span style="color:#b68;font-weight:bold">}</span> /usr/bin/kafka-topics <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>    --command-config /tmp/config.properties <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>    --bootstrap-server <span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">CCLOUD_BROKER_HOST</span><span style="color:#b68;font-weight:bold">}</span>:9092 <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>    --create <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>    --topic data_mqtt <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>    --partitions <span style="color:#666">6</span> <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>    --replication-factor <span style="color:#666">3</span></span></span></code></pre></div>
</div>
<div class="paragraph">
<p>Now that we‚Äôve got the topic created, we can spin up the worker itself. Or, almost. Because first we need to build a file with the necessary environment variables in for the worker. You <em>can</em> pass environment variables directly in the <code>gcloud</code> invocation but it‚Äôs not a pretty sight</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/2019/11/container_env.png" alt="container env"/>
</div>
</div>
<div class="paragraph">
<p>Even if it works, it‚Äôs not particularly maintainable. Whilst you can externalise the environment variables into a file that you pass in with <code>container-env-file</code> you can‚Äôt interpolate secure values in that file which means that you end up with a file which is both config and authentication credentials, which is not ideal. Hence, the config is inline in this script and interpolated with credentials held in environment variables (via <code>.env</code>) at runtime into a temporary file:</p>
</div>
<div class="paragraph">
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span><span style="color:#19177c">PROPERTIES_FILE</span><span style="color:#666">=</span>/tmp/connect-worker-<span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">epoch</span><span style="color:#b68;font-weight:bold">}</span>_gcloud_env.properties
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>cat &gt; <span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">PROPERTIES_FILE</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#ba2121">&lt;&lt;EOF
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_LOG4J_APPENDER_STDOUT_LAYOUT_CONVERSIONPATTERN=[%d] %p %X{connector.context}%m (%c:%L)%n
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_CUB_KAFKA_TIMEOUT=300  
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_BOOTSTRAP_SERVERS=${CCLOUD_BROKER_HOST}:9092
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_REST_ADVERTISED_HOST_NAME=kafka-connect-01
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_REST_PORT=8083  
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_GROUP_ID=kafka-connect-group-${epoch}
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_CONFIG_STORAGE_TOPIC=_kafka-connect-group-${epoch}-configs  
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_OFFSET_STORAGE_TOPIC=_kafka-connect-group-${epoch}-offsets  
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_STATUS_STORAGE_TOPIC=_kafka-connect-group-${epoch}-status  
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_KEY_CONVERTER=io.confluent.connect.avro.AvroConverter  
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_KEY_CONVERTER_SCHEMA_REGISTRY_URL=${CCLOUD_SCHEMA_REGISTRY_URL}
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_KEY_CONVERTER_BASIC_AUTH_CREDENTIALS_SOURCE=USER_INFO
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_KEY_CONVERTER_SCHEMA_REGISTRY_BASIC_AUTH_USER_INFO=${CCLOUD_SCHEMA_REGISTRY_API_KEY}:${CCLOUD_SCHEMA_REGISTRY_API_SECRET}
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_VALUE_CONVERTER=io.confluent.connect.avro.AvroConverter  
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_VALUE_CONVERTER_SCHEMA_REGISTRY_URL=${CCLOUD_SCHEMA_REGISTRY_URL}
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_VALUE_CONVERTER_BASIC_AUTH_CREDENTIALS_SOURCE=USER_INFO
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_VALUE_CONVERTER_SCHEMA_REGISTRY_BASIC_AUTH_USER_INFO=${CCLOUD_SCHEMA_REGISTRY_API_KEY}:${CCLOUD_SCHEMA_REGISTRY_API_SECRET}
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_INTERNAL_KEY_CONVERTER=org.apache.kafka.connect.json.JsonConverter
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_INTERNAL_VALUE_CONVERTER=org.apache.kafka.connect.json.JsonConverter
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_LOG4J_ROOT_LOGLEVEL=INFO
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_LOG4J_LOGGERS=org.apache.kafka.connect.runtime.rest=WARN,org.reflections=ERROR
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_CONFIG_STORAGE_REPLICATION_FACTOR=3
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_OFFSET_STORAGE_REPLICATION_FACTOR=3
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_STATUS_STORAGE_REPLICATION_FACTOR=3
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_PLUGIN_PATH=/usr/share/java,/usr/share/confluent-hub-components/
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_SSL_ENDPOINT_IDENTIFICATION_ALGORITHM=https
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_SASL_MECHANISM=PLAIN
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_SECURITY_PROTOCOL=SASL_SSL
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_SASL_JAAS_CONFIG=org.apache.kafka.common.security.plain.PlainLoginModule required username=&#34;${CCLOUD_API_KEY}&#34; password=&#34;${CCLOUD_API_SECRET}&#34;;
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_CONSUMER_SECURITY_PROTOCOL=SASL_SSL
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_CONSUMER_SSL_ENDPOINT_IDENTIFICATION_ALGORITHM=https
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_CONSUMER_SASL_MECHANISM=PLAIN
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_CONSUMER_SASL_JAAS_CONFIG=org.apache.kafka.common.security.plain.PlainLoginModule required username=&#34;${CCLOUD_API_KEY}&#34; password=&#34;${CCLOUD_API_SECRET}&#34;;
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_PRODUCER_SECURITY_PROTOCOL=SASL_SSL
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_PRODUCER_SSL_ENDPOINT_IDENTIFICATION_ALGORITHM=https
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_PRODUCER_SASL_MECHANISM=PLAIN
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">CONNECT_PRODUCER_SASL_JAAS_CONFIG=org.apache.kafka.common.security.plain.PlainLoginModule required username=&#34;${CCLOUD_API_KEY}&#34; password=&#34;${CCLOUD_API_SECRET}&#34;;
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">EOF</span></span></span></code></pre></div>
</div>
<div class="paragraph">
<p>Now, finally, we can launch the container, using the <code>gcloud beta compute instances create-with-container</code> option. The options I built out using the GCP web UI and then before launching clicked the magic button</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/2019/11/equiv.png" alt="equiv"/>
</div>
</div>
<div class="paragraph">
<p>It‚Äôs fairly standard list of parameters, including <code>container-image</code> to refer to the docker image, <code>container-env-file</code> to point to the environment file that we built above‚Äîand then <code>container-command</code> and <code>container-arg</code> to run custom commands, which:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>Install the connector plugin</p>
</li>
<li>
<p>Launch the Kafka Connect worker process</p>
</li>
<li>
<p>Wait for the worker to be ready</p>
</li>
<li>
<p>Submit a connector configuration</p>
</li>
</ol>
</div>
<div class="paragraph">
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>gcloud beta compute <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>	--project<span style="color:#666">=</span>devx-testing instances create-with-container rmoff-connect-mqtt-<span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">epoch</span><span style="color:#b68;font-weight:bold">}</span> <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>	--machine-type<span style="color:#666">=</span>n1-standard-1 <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>	--subnet<span style="color:#666">=</span>default <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>	--metadata<span style="color:#666">=</span>google-logging-enabled<span style="color:#666">=</span><span style="color:#008000">true</span> <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>	--maintenance-policy<span style="color:#666">=</span>MIGRATE <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>	--image<span style="color:#666">=</span>cos-stable-77-12371-114-0 <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>	--image-project<span style="color:#666">=</span>cos-cloud <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>    --no-scopes <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>    --no-service-account <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>	--boot-disk-size<span style="color:#666">=</span>10GB <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>	--boot-disk-type<span style="color:#666">=</span>pd-standard <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>	--boot-disk-device-name<span style="color:#666">=</span>rmoff-connect-mqtt-<span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">epoch</span><span style="color:#b68;font-weight:bold">}</span> <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>	--container-restart-policy<span style="color:#666">=</span>always <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>	--labels<span style="color:#666">=</span>container-vm<span style="color:#666">=</span>cos-stable-77-12371-114-0 <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>	--container-image<span style="color:#666">=</span>confluentinc/cp-kafka-connect:<span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">CONFLUENTPLATFORM_VERSION</span><span style="color:#b68;font-weight:bold">}</span> <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>    --container-env-file<span style="color:#666">=</span><span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">PROPERTIES_FILE</span><span style="color:#b68;font-weight:bold">}</span> <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>	--container-command<span style="color:#666">=</span>bash <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>	--container-arg<span style="color:#666">=</span>-c <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>	--container-arg<span style="color:#666">=</span><span style="color:#ba2121">&#39;set -x
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">        echo &#34;Installing connector plugins&#34; 
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">        confluent-hub install --no-prompt confluentinc/kafka-connect-mqtt:1.2.3
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">        #
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">        echo &#34;Launching Kafka Connect worker&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">        /etc/confluent/docker/run &amp; 
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">        #
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">        echo &#34;Waiting for Kafka Connect to start listening on localhost:8083 ‚è≥&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">        while : ; do
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            curl_status=$(curl -s -o /dev/null -w %{http_code} http://localhost:8083/connectors)
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            echo -e $(date) &#34; Kafka Connect listener HTTP state: &#34; $curl_status &#34; (waiting for 200)&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            if [ $curl_status -eq 200 ] ; then
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            break
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            fi
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            sleep 5 
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">        done
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">        #
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">        echo -e &#34;\n--\n+&gt; Creating Kafka Connect MQTT source&#34;
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">        curl -s -X PUT -H  &#34;Content-Type:application/json&#34; http://localhost:8083/connectors/source-mqtt/config \
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            -d &#39;</span><span style="color:#ba2121">&#34;&#39;&#34;</span><span style="color:#ba2121">&#39;{  
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            &#34;connector.class&#34; : &#34;io.confluent.connect.mqtt.MqttSourceConnector&#34;, 
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            &#34;mqtt.server.uri&#34; : &#34;&#39;</span><span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">MQTT_URL</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#ba2121">&#39;&#34;, 
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            &#34;mqtt.password&#34; : &#34;&#39;</span><span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">MQTT_PASSWORD</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#ba2121">&#39;&#34;, 
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            &#34;mqtt.username&#34; : &#34;&#39;</span><span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">MQTT_USERNAME</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#ba2121">&#39;&#34;, 
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            &#34;mqtt.topics&#34; : &#34;owntracks/#&#34;, 
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            &#34;kafka.topic&#34; : &#34;data_mqtt&#34;, 
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            &#34;key.converter&#34;: &#34;org.apache.kafka.connect.storage.StringConverter&#34;, 
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            &#34;value.converter&#34;: &#34;org.apache.kafka.connect.converters.ByteArrayConverter&#34;, 
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            &#34;tasks.max&#34; : &#34;1&#34;, 
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            &#34;confluent.topic.bootstrap.servers&#34; : &#34;&#39;</span><span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">CCLOUD_BROKER_HOST</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#ba2121">&#39;:9092&#34;, 
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            &#34;confluent.topic.sasl.jaas.config&#34; : &#34;org.apache.kafka.common.security.plain.PlainLoginModule required username=\&#34;&#39;</span><span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">CCLOUD_API_KEY</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#ba2121">&#39;\&#34; password=\&#34;&#39;</span><span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">CCLOUD_API_SECRET</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#ba2121">&#39;\&#34;;&#34;, 
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            &#34;confluent.topic.security.protocol&#34;: &#34;SASL_SSL&#34;, 
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            &#34;confluent.topic.ssl.endpoint.identification.algorithm&#34;: &#34;https&#34;, 
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            &#34;confluent.topic.sasl.mechanism&#34;: &#34;PLAIN&#34; 
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">            }&#39;</span><span style="color:#ba2121">&#34;&#39;&#34;</span><span style="color:#ba2121">&#39;
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">        #    
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">        sleep infinity&#39;</span></span></span></code></pre></div>
</div>
<div class="paragraph">
<p>The bash script that‚Äôs embedded as an argument to <code>bash -c</code> is mostly as you‚Äôd run it natively, except some funky quoting to deal with single quotes within the command (that enclose the <code>-d</code> value of <code>curl</code>)‚Äîthese are done with <code>&#39;&#34;&#39;&#34;&#39;</code> which breaks down to:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>&#39;</code> close the string</p>
</li>
<li>
<p><code>&#34;&#39;&#34;</code> quote a single quote</p>
</li>
<li>
<p><code>&#39;</code> open the string</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_gotchas">Gotchas&nbsp;<a class="headline-hash" href="#_gotchas">üîó</a> </h2>
<div class="sectionbody">
<div class="paragraph">
<p>One problem that I hit a problem was where the VM was created but my container within was not. By looking at the serial port output from bootup using:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>gcloud compute instances get-serial-port-output rmoff-connect-mqtt-1573561087</pre>
</div>
</div>
<div class="paragraph">
<p>I could see the last entry was:</p>
</div>
<div class="literalblock">
<div class="content">
<pre>[   12.759163] IPv6: ADDRCONF(NETDEV_UP): docker0: link is not ready</pre>
</div>
</div>
<div class="paragraph">
<p>Turns out I‚Äôd set <code>--no-address</code> when creating the VM and this caused the problem.</p>
</div>
<div class="paragraph">
<p>To fix it, I just omitted this configuration which meant that the default allocation of an ephemeral IP address happened, and Docker started up nicely.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_my_question_to_you">My question to you&nbsp;<a class="headline-hash" href="#_my_question_to_you">üîó</a> </h2>
<div class="sectionbody">
<div class="paragraph">
<p>Is this an abomination? Am I struggling to do it in an elegant way because I‚Äôm just using the wrong technology? All I want to do is spin up a Connect worker using config and settings that I‚Äôve built locally, following the philosophy of cattle-not-pets. Yes I can build a cloud VM and config Connect manually, but with all the context switching that I do I want something I can get working, check in to git, and come back to a month later and run without having to think about any of it.</p>
</div>
<div class="paragraph">
<p>Should I be learning k8s, or is that over-engineering it? My gut feel is that it would be because I don‚Äôt need the orchestration and management bells and whistles of k8s‚Äîbut perhaps they‚Äôre just an added benefit and I should take the leap? What about other options? I gave Terraform a <em>very</em> quick look but I‚Äôd prefer something closer to my local Docker builds‚Äîand I‚Äôm tied to Docker because it‚Äôs the standard platform on which a lot of developers are accepting of for trying demos and new technology. The more non-standard pieces, the higher the friction‚Äîwe‚Äôve all seen those demos that have a laundry list of pre-reqs to use, and we‚Äôve all thought‚Ä¶sod it ;)</p>
</div>
<div class="paragraph">
<p>So‚Äîtell me if I‚Äôm wrong - <em>do</em> <code>@</code> me!
I‚Äôm <strong><a href="https://twitter.com/rmoff/">@rmoff</a> on Twitter</strong></p>
</div>
</div>
</div>
	<hr>
	<div class="giscus-container">
		<script src="https://giscus.app/client.js"
				data-repo="rmoff/rmoff-blog"
				data-repo-id="MDEwOlJlcG9zaXRvcnkxNTE3NDg2MTE="
				data-category="Announcements"
				data-category-id="DIC_kwDOCQuAA84CvP5T"
				data-mapping="pathname"
				data-strict="1"
				data-reactions-enabled="1"
				data-emit-metadata="0"
				data-input-position="bottom"
				data-theme="light"
				data-lang="en"
				crossorigin="anonymous"
				async>
		</script>
	</div>
</article>
      </main>
    
      
      <div class="docs-toc">
        <ul class="nav toc-top">
          <li><a href="#" id="back_to_top" class="docs-toc-title">On this page</a></li>
        </ul>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#_the_script">The script</a></li>
    <li><a href="#_gotchas">Gotchas</a></li>
    <li><a href="#_my_question_to_you">My question to you</a></li>
  </ul>
</nav>
      </div>
      
    
    </div>
  </div>
</div>


		</main>

		

		
		<footer class="site-footer hide-print" role="contentinfo">
			<span>&copy; 2026 </span>
		</footer>
		

		
	</body>
</html>
