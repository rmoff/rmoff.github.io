<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>rmoff&#39;s random ramblings</title>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="https://rmoff.net/index.xml">
		<link rel="canonical" href="https://rmoff.net/">
		
		
		
		<meta name="generator" content="Hugo 0.75.1" />

		
		

		
		<link rel="stylesheet" href="https://rmoff.net/css/tachyons.min.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/story.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/descartes.css" />
		
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
		<link href="https://fonts.googleapis.com/css?family=Quattrocento+Sans:400,400i,700,700i|Quattrocento:400,700|Spectral:400,400i,700,700i&amp;subset=latin-ext" rel="stylesheet">
		

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		
		<script src="https://rmoff.net/js/story.js"></script>

	</head>
	<body class="ma0 bg-white  page-kind-home is-page-false ">
		
		<header class="cover bg-top" style="background-image: url('https://rmoff.net/img/default-header-img.jpg'); background-position: center;">
			<div class="bg-black-30 bb bt">

				<nav class="hide-print sans-serif  border-box pa3 ph5-l">
					<a href="https://rmoff.net" title="Home">
						<img src="https://rmoff.net/img/logo.jpg" class="w2 h2 br-100" alt="rmoff&#39;s random ramblings" />
					</a>
					<div class="fr h2 pv2 tr">
						<a class="link f5 ml2 dim near-white" href="https://talks.rmoff.net/bio">about</a>
						<a class="link f5 ml2 dim near-white" href="https://talks.rmoff.net">talks</a>
						<a class="link f5 ml2 dim near-white" href="https://www.youtube.com/c/rmoff"><i class="fab fa-youtube-square"></i></a>
						<a class="link f5 ml2 dim near-white" href="https://twitter.com/rmoff/"><i class="fab fa-twitter-square"></i></a>
						<a class="link f5 ml2 dim near-white" href="https://github.com/rmoff/"><i class="fab fa-github-square"></i></a>
						<a class="link f5 ml2 dim near-white" href="https://www.linkedin.com/in/robinmoffatt/"><i class="fab fa-linkedin"></i></a>
						<a class="link f5 ml2 dim near-white fas fa-rss-square" href="https://rmoff.net/index.xml" title="RSS Feed"></a>
						<a class="link f5 ml2 dim near-white fas fa-search" href="https://rmoff.net/search/" role="search" title="Search"></a>
					</div>
				</nav>

				<div id="hdr" class="tc-l pv4-ns pv5-l pv2 ph3 ph4-ns">
					<h1 class="near-white mt1-ns f2 fw3 mb0 mt0 lh-title">rmoff&rsquo;s random ramblings</h1>
					<h2 class="near-white mt3-l mb4-l fw1 f6 f3-l measure-wide-l center lh-copy mt2 mb3">
						
						
							✨ Kafka, ksqlDB, and other random geekery 🤓
						
					</h2>
				</div>

				
				
				
				

			</div>
		</header>
		
		<main role="main">
		
	<div class="pa3 pa4-ns w-100 w-70-ns center">
		<section class="w-100 mw8">
      
      
			<div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/09/IMG_6838.jpeg'); background-position: center;">
					<a href="https://rmoff.net/2020/09/23/a-collection-of-kafka-related-talks/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Sep 23, 2020
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2020/09/23/a-collection-of-kafka-related-talks/" class="color-inherit dim link">📌    🎁 A collection of Kafka-related talks 💝</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>Here’s a collection of Kafka-related talks, <em>just for you.</em></p>
</div>
<div class="paragraph">
<p>Each one has 🍿🎥 a recording, 📔 slides, and 👾 code to go and try out. </p>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2020/09/23/a-collection-of-kafka-related-talks/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

		
      
			<div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/12/smt_day9_thumb.jpg'); background-position: center;">
					<a href="https://rmoff.net/2020/12/18/twelve-days-of-smt-day-9-cast/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Dec 18, 2020
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2020/12/18/twelve-days-of-smt-day-9-cast/" class="color-inherit dim link">🎄 Twelve Days of SMT 🎄 - Day 9: Cast</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>The <a href="https://docs.confluent.io/platform/current/connect/transforms/cast.html"><code>Cast</code></a> Single Message Transform lets you change the data type of fields in a Kafka message, supporting numerics, string, and boolean.</p>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2020/12/18/twelve-days-of-smt-day-9-cast/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

		
      
			<div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/12/smt_day8_thumb.jpg'); background-position: center;">
					<a href="https://rmoff.net/2020/12/17/twelve-days-of-smt-day-8-timestampconverter/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Dec 17, 2020
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2020/12/17/twelve-days-of-smt-day-8-timestampconverter/" class="color-inherit dim link">🎄 Twelve Days of SMT 🎄 - Day 8: TimestampConverter</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>The <a href="https://docs.confluent.io/platform/current/connect/transforms/timestampconverter.html"><code>TimestampConverter</code></a> Single Message Transform lets you work with timestamp fields in Kafka messages. You can convert a string into a native <a href="https://kafka.apache.org/26/javadoc/org/apache/kafka/connect/data/Timestamp.html">Timestamp</a> type (or <a href="https://kafka.apache.org/26/javadoc/org/apache/kafka/connect/data/Date.html">Date</a> or <a href="https://kafka.apache.org/26/javadoc/org/apache/kafka/connect/data/Time.html">Time</a>), as well as Unix epoch - and the same in reverse too.</p>
</div>
<div class="paragraph">
<p>This is really useful to make sure that data ingested into Kafka is correctly stored as a Timestamp (if it is one), and also enables you to write a Timestamp out to a sink connector in a string format that you choose.</p>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2020/12/17/twelve-days-of-smt-day-8-timestampconverter/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

		
      
			<div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/12/smt_day7_thumb.jpg'); background-position: center;">
					<a href="https://rmoff.net/2020/12/16/twelve-days-of-smt-day-7-timestamprouter/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Dec 16, 2020
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2020/12/16/twelve-days-of-smt-day-7-timestamprouter/" class="color-inherit dim link">🎄 Twelve Days of SMT 🎄 - Day 7: TimestampRouter</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>Just like the <a href="/2020/12/11/twelve-days-of-smt-day-4-regexrouter/"><code>RegExRouter</code></a>, the <a href="https://docs.confluent.io/platform/current/connect/transforms/timestamprouter.html"><code>TimeStampRouter</code></a> can be used to modify the topic name of messages as they pass through Kafka Connect. Since the topic name is usually the basis for the naming of the object to which messages are written in a sink connector, this is a great way to achieve time-based partitioning of those objects if required. For example, instead of streaming messages from Kafka to an Elasticsearch index called <code>cars</code>, they can be routed to monthly indices e.g. <code>cars_2020-10</code>, <code>cars_2020-11</code>, <code>cars_2020-12</code>, etc.</p>
</div>
<div class="paragraph">
<p>The <code>TimeStampRouter</code> takes two arguments; the format of the final topic name to generate, and the format of the timestamp to put in the topic name (based on <a href="https://docs.oracle.com/javase/8/docs/api/java/text/SimpleDateFormat.html"><code>SimpleDateFormat</code></a>).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="javascript"><span style="color: #d14">&#34;</span><span style="color: #d14">transforms</span><span style="color: #d14">&#34;</span>                                     <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">addTimestampToTopic</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.addTimestampToTopic.type</span><span style="color: #d14">&#34;</span>            <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">org.apache.kafka.connect.transforms.TimestampRouter</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.addTimestampToTopic.topic.format</span><span style="color: #d14">&#34;</span>    <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">${topic}_${timestamp}</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.addTimestampToTopic.timestamp.format</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">YYYY-MM-dd</span><span style="color: #d14">&#34;</span></code></pre>
</div>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2020/12/16/twelve-days-of-smt-day-7-timestamprouter/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

		
      
			<div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/12/smt_day6_thumb.jpg'); background-position: center;">
					<a href="https://rmoff.net/2020/12/15/twelve-days-of-smt-day-6-insertfield-ii/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Dec 15, 2020
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2020/12/15/twelve-days-of-smt-day-6-insertfield-ii/" class="color-inherit dim link">🎄 Twelve Days of SMT 🎄 - Day 6: InsertField II</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>We kicked off this series by seeing on <a href="/2020/12/08/twelve-days-of-smt-day-1-insertfield-timestamp/">day 1</a> how to use <a href="https://docs.confluent.io/platform/current/connect/transforms/insertfield.html"><code>InsertField</code></a> to add in the timestamp to a message passing through the Kafka Connect sink connector. Today we’ll see how to use the same Single Message Transform to add in a static field value, as well as the name of the Kafka topic, partition, and offset from which the message has been read.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="javascript"><span style="color: #d14">&#34;</span><span style="color: #d14">transforms</span><span style="color: #d14">&#34;</span>                                <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">insertStaticField1</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.insertStaticField1.type</span><span style="color: #d14">&#34;</span>        <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">org.apache.kafka.connect.transforms.InsertField$Value</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.insertStaticField1.static.field</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">sourceSystem</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.insertStaticField1.static.value</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">NeverGonna</span><span style="color: #d14">&#34;</span></code></pre>
</div>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2020/12/15/twelve-days-of-smt-day-6-insertfield-ii/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

		
      
			<div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/12/smt_day5_thumb.jpg'); background-position: center;">
					<a href="https://rmoff.net/2020/12/14/twelve-days-of-smt-day-5-maskfield/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Dec 14, 2020
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2020/12/14/twelve-days-of-smt-day-5-maskfield/" class="color-inherit dim link">🎄 Twelve Days of SMT 🎄 - Day 5: MaskField</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>If you want to mask fields of data as you ingest from a source into Kafka, or write to a sink from Kafka with Kafka Connect, the <a href="https://docs.confluent.io/platform/current/connect/transforms/maskfield.html"><code>MaskField</code></a> Single Message Transform is perfect for you. It retains the fields whilst replacing its value.</p>
</div>
<div class="paragraph">
<p>To use the Single Message Transform you specify the field to mask, and its replacement value. To mask the contents of a field called <code>cc_num</code> you would use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="javascript"><span style="color: #d14">&#34;</span><span style="color: #d14">transforms</span><span style="color: #d14">&#34;</span>                               <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">maskCC</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.maskCC.type</span><span style="color: #d14">&#34;</span>                   <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">org.apache.kafka.connect.transforms.MaskField$Value</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.maskCC.fields</span><span style="color: #d14">&#34;</span>                 <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">cc_num</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.maskCC.replacement</span><span style="color: #d14">&#34;</span>            <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">****-****-****-****</span><span style="color: #d14">&#34;</span></code></pre>
</div>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2020/12/14/twelve-days-of-smt-day-5-maskfield/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

		
      
			<div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/12/smt_day4_thumb.jpg'); background-position: center;">
					<a href="https://rmoff.net/2020/12/11/twelve-days-of-smt-day-4-regexrouter/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Dec 11, 2020
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2020/12/11/twelve-days-of-smt-day-4-regexrouter/" class="color-inherit dim link">🎄 Twelve Days of SMT 🎄 - Day 4: RegExRouter</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>If you want to change the topic name to which a source connector writes, or object name that’s created on a target by a sink connector, the <a href="https://docs.confluent.io/platform/current/connect/transforms/regexrouter.html"><code>RegExRouter</code></a> is exactly what you need.</p>
</div>
<div class="paragraph">
<p>To use the Single Message Transform you specify the pattern in the topic name to match, and its replacement. To drop a prefix of <code>test-</code> from a topic you would use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="javascript"><span style="color: #d14">&#34;</span><span style="color: #d14">transforms</span><span style="color: #d14">&#34;</span>                             <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">dropTopicPrefix</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.dropTopicPrefix.type</span><span style="color: #d14">&#34;</span>        <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">org.apache.kafka.connect.transforms.RegexRouter</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.dropTopicPrefix.regex</span><span style="color: #d14">&#34;</span>       <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">test-(.*)</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.dropTopicPrefix.replacement</span><span style="color: #d14">&#34;</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">$1</span><span style="color: #d14">&#34;</span></code></pre>
</div>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2020/12/11/twelve-days-of-smt-day-4-regexrouter/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

		
      
			<div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/12/smt_day3_thumb.jpg'); background-position: center;">
					<a href="https://rmoff.net/2020/12/10/twelve-days-of-smt-day-3-flatten/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Dec 10, 2020
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2020/12/10/twelve-days-of-smt-day-3-flatten/" class="color-inherit dim link">🎄 Twelve Days of SMT 🎄 - Day 3: Flatten</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>The <a href="https://docs.confluent.io/platform/current/connect/transforms/flatten.html"><code>Flatten</code></a> Single Message Transform (SMT) is useful when you need to collapse a nested message down to a flat structure.</p>
</div>
<div class="paragraph">
<p>To use the Single Message Transform you only need to reference it; there’s no additional configuration required:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="javascript"><span style="color: #d14">&#34;</span><span style="color: #d14">transforms</span><span style="color: #d14">&#34;</span>                    <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">flatten</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.flatten.type</span><span style="color: #d14">&#34;</span>       <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">org.apache.kafka.connect.transforms.Flatten$Value</span><span style="color: #d14">&#34;</span></code></pre>
</div>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2020/12/10/twelve-days-of-smt-day-3-flatten/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

		
      
			<div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/12/smt_day2_thumb.jpg'); background-position: center;">
					<a href="https://rmoff.net/2020/12/09/twelve-days-of-smt-day-2-valuetokey-and-extractfield/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Dec 9, 2020
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2020/12/09/twelve-days-of-smt-day-2-valuetokey-and-extractfield/" class="color-inherit dim link">🎄 Twelve Days of SMT 🎄 - Day 2: ValueToKey and ExtractField</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>Setting the key of a Kafka message is important as it ensures correct logical processing when consumed across multiple partitions, as well as being a requirement when joining to messages in other topics. When using Kafka Connect the connector may already set the key, which is great. If not, you can use these two Single Message Transforms (SMT) to set it as part of the pipeline based on a field in the value part of the message.</p>
</div>
<div class="paragraph">
<p>To use the <a href="https://docs.confluent.io/platform/current/connect/transforms/valuetokey.html"><code>ValueToKey</code></a> Single Message Transform specify the name of the field (<code>id</code>) that you want to copy from the value to the key:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="javascript"><span style="color: #d14">&#34;</span><span style="color: #d14">transforms</span><span style="color: #d14">&#34;</span>                    <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">copyIdToKey</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.copyIdToKey.type</span><span style="color: #d14">&#34;</span>   <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">org.apache.kafka.connect.transforms.ValueToKey</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.copyIdToKey.fields</span><span style="color: #d14">&#34;</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">id</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span></code></pre>
</div>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2020/12/09/twelve-days-of-smt-day-2-valuetokey-and-extractfield/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

		
      
			<div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/12/smt_day1_thumb.jpg'); background-position: center;">
					<a href="https://rmoff.net/2020/12/08/twelve-days-of-smt-day-1-insertfield-timestamp/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Dec 8, 2020
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2020/12/08/twelve-days-of-smt-day-1-insertfield-timestamp/" class="color-inherit dim link">🎄 Twelve Days of SMT 🎄 - Day 1: InsertField (timestamp)</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>You can use the <a href="https://docs.confluent.io/platform/current/connect/transforms/insertfield.html"><code>InsertField</code></a> Single Message Transform (SMT) to add the message timestamp into each message that Kafka Connect sends to a sink.</p>
</div>
<div class="paragraph">
<p>To use the Single Message Transform specify the name of the field (<code>timestamp.field</code>) that you want to add to hold the message timestamp:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="javascript"><span style="color: #d14">&#34;</span><span style="color: #d14">transforms</span><span style="color: #d14">&#34;</span>                         <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">insertTS</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.insertTS.type</span><span style="color: #d14">&#34;</span>           <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">org.apache.kafka.connect.transforms.InsertField$Value</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.insertTS.timestamp.field</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">messageTS</span><span style="color: #d14">&#34;</span></code></pre>
</div>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2020/12/08/twelve-days-of-smt-day-1-insertfield-timestamp/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

		
      
			<div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/12/IMG_7701.jpeg'); background-position: center;">
					<a href="https://rmoff.net/2020/12/03/life-as-a-developer-advocate-nine-months-into-a-pandemic/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Dec 3, 2020
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2020/12/03/life-as-a-developer-advocate-nine-months-into-a-pandemic/" class="color-inherit dim link">Life as a Developer Advocate, nine months into a pandemic</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							Back in March 2020 the western world came to somewhat of a juddering halt, thanks to COVID-19. No-one knew then what would happen, but there was the impression that whilst the next few months were a write-off for sure, maybe things would pick up again later in the year.
 It’s now early December 2020, and nothing is picking up any time soon. Summer provided a respite from the high levels of infection and mortality (in the UK at least), but then numbers spiked again in many places around the world and what was punted down the river back in March is being firmly punted yet again now.
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2020/12/03/life-as-a-developer-advocate-nine-months-into-a-pandemic/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

		
      
			<div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/10/IMG_6653.jpeg'); background-position: center;">
					<a href="https://rmoff.net/2020/12/02/my-workstation-2020/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Dec 2, 2020
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2020/12/02/my-workstation-2020/" class="color-inherit dim link">My Workstation - 2020</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p><em>Is a blog even a blog nowadays if it doesn’t include a &#34;Here is my home office setup&#34;?</em></p>
</div>
<div class="paragraph">
<p>Thanks to conferences all being online, and thus my talks being delivered from my study—and <a href="https://twitter.com/search?q=speakerselfie%20(from%3Armoff)&amp;src=typed_query&amp;f=live">my habit of posting a #SpeakerSelfie</a> each time I do a conference talk—I often get questions about my setup. Plus, I’m kinda pleased with it so I want to show it off too ;-)</p>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2020/12/02/my-workstation-2020/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

		
      
			<div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/img/default-header-img.tn-500x500.jpg'); background-position: center;">
					<a href="https://rmoff.net/2020/11/13/keynote-why-is-replace-fonts-greyed-out/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Nov 13, 2020
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2020/11/13/keynote-why-is-replace-fonts-greyed-out/" class="color-inherit dim link">Keynote - Why is Replace Fonts greyed out?</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>Very short &amp; sweet this post, but Google turned up nothing when I was stuck so hopefully I’ll save someone else some head scratching by sharing this.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/2020/11/keynote01.jpg" alt="keynote01"/>
</div>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2020/11/13/keynote-why-is-replace-fonts-greyed-out/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

		
      
			<div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/11/kafka_tombstone.jpg'); background-position: center;">
					<a href="https://rmoff.net/2020/11/03/kafka-connect-ksqldb-and-kafka-tombstone-messages/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Nov 3, 2020
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2020/11/03/kafka-connect-ksqldb-and-kafka-tombstone-messages/" class="color-inherit dim link">Kafka Connect, ksqlDB, and Kafka Tombstone messages</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>As you may already realise, Kafka is not just a fancy message bus, or a pipe for big data. It’s an event streaming platform! If this is news to you, I’ll wait here whilst you <a href="https://www.confluent.io/learn/kafka-tutorial/">read this</a> or <a href="https://rmoff.dev/kafka101">watch this</a>…</p>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2020/11/03/kafka-connect-ksqldb-and-kafka-tombstone-messages/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

		
      
			<div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/11/DSCF5316.jpeg'); background-position: center;">
					<a href="https://rmoff.net/2020/11/03/streaming-geopoint-data-from-kafka-to-elasticsearch/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Nov 3, 2020
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2020/11/03/streaming-geopoint-data-from-kafka-to-elasticsearch/" class="color-inherit dim link">Streaming Geopoint data from Kafka to Elasticsearch</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>Streaming data from Kafka to Elasticsearch is easy with Kafka Connect - you can see how in this <a href="https://rmoff.dev/kafka-elasticsearch">tutorial</a> and <a href="https://rmoff.dev/kafka-elasticsearch-video">video</a>.</p>
</div>
<div class="paragraph">
<p>One of the things that sometimes causes issues though is how to get location data correctly indexed into Elasticsearch as <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/geo-point.html"><code>geo_point</code></a> fields to enable all that lovely location analysis. Unlike data types like dates and numerics, Elasticsearch’s <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/dynamic-field-mapping.html">Dynamic Field Mapping</a> won’t automagically pick up <code>geo_point</code> data, and so you have to do two things:</p>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2020/11/03/streaming-geopoint-data-from-kafka-to-elasticsearch/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

		
      
			<div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/10/IMG_6941.jpeg'); background-position: center;">
					<a href="https://rmoff.net/2020/10/07/ksqldb-how-to-model-a-variable-number-of-fields-in-a-nested-value-struct/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Oct 7, 2020
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2020/10/07/ksqldb-how-to-model-a-variable-number-of-fields-in-a-nested-value-struct/" class="color-inherit dim link">ksqlDB - How to model a variable number of fields in a nested value (<code>STRUCT</code>)</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>There was a <a href="https://stackoverflow.com/questions/64241285/kafka-topic-with-variable-nested-json-object-as-ksql-db-stream/64242383#64242383">good question on StackOverflow</a> recently in which someone was struggling to find the appropriate ksqlDB DDL to model a source topic in which there was a variable number of fields in a <code>STRUCT</code>.</p>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2020/10/07/ksqldb-how-to-model-a-variable-number-of-fields-in-a-nested-value-struct/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

		
      
			<div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/10/xml-ibmmq-mongodb.gif'); background-position: center;">
					<a href="https://rmoff.net/2020/10/05/streaming-xml-messages-from-ibm-mq-into-kafka-into-mongodb/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Oct 5, 2020
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2020/10/05/streaming-xml-messages-from-ibm-mq-into-kafka-into-mongodb/" class="color-inherit dim link">Streaming XML messages from IBM MQ into Kafka into MongoDB</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>Let’s imagine we have XML data on a queue in IBM MQ, and we want to ingest it into Kafka to then use downstream, perhaps in an application or maybe to stream to a NoSQL store like MongoDB.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This same pattern for ingesting XML will work with other connectors such as <a href="https://www.confluent.io/hub/confluentinc/kafka-connect-jms">JMS</a> and <a href="https://www.confluent.io/hub/confluentinc/kafka-connect-activemq">ActiveMQ</a>.
</td>
</tr>
</tbody></table>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2020/10/05/streaming-xml-messages-from-ibm-mq-into-kafka-into-mongodb/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

		
      
			<div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/09/IMG_6861.jpeg'); background-position: center;">
					<a href="https://rmoff.net/2020/10/01/ingesting-xml-data-into-kafka-option-3-kafka-connect-filepulse-connector/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Oct 1, 2020
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2020/10/01/ingesting-xml-data-into-kafka-option-3-kafka-connect-filepulse-connector/" class="color-inherit dim link">Ingesting XML data into Kafka - Option 3: Kafka Connect FilePulse connector</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>👉 <em><a href="/2020/10/01/ingesting-xml-data-into-kafka-introduction/">Ingesting XML data into Kafka - Introduction</a></em></p>
</div>
<div class="paragraph">
<p>We saw in the <a href="/2020/10/01/ingesting-xml-data-into-kafka-option-1-the-dirty-hack/">first post</a> how to hack together an ingestion pipeline for XML into Kafka using a source such as <code>curl</code> piped through <code>xq</code> to wrangle the XML and stream it into Kafka using <code>kafkacat</code>, optionally using ksqlDB to apply and register a schema for it.</p>
</div>
<div class="paragraph">
<p>The <a href="/2020/10/01/ingesting-xml-data-into-kafka-option-2-kafka-connect-plus-single-message-transform/">second one</a> showed the use of any Kafka Connect source connector plus the <code>kafka-connect-transform-xml</code> Single Message Transformation. Now we’re going to take a look at a source connector from the community that can also be used to ingest XML data into Kafka.</p>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2020/10/01/ingesting-xml-data-into-kafka-option-3-kafka-connect-filepulse-connector/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

		
      
			<div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/09/IMG_6861.jpeg'); background-position: center;">
					<a href="https://rmoff.net/2020/10/01/ingesting-xml-data-into-kafka-option-2-kafka-connect-plus-single-message-transform/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Oct 1, 2020
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2020/10/01/ingesting-xml-data-into-kafka-option-2-kafka-connect-plus-single-message-transform/" class="color-inherit dim link">Ingesting XML data into Kafka - Option 2: Kafka Connect plus Single Message Transform</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>We previously looked at the background to <a href="/2020/10/01/ingesting-xml-data-into-kafka-introduction/">getting XML into Kafka</a>, and potentially <a href="/2020/10/01/ingesting-xml-data-into-kafka-option-1-the-dirty-hack/">how [not] to do it</a>. Now let’s look at the <em>proper</em> way to build a streaming ingestion pipeline for XML into Kafka, using Kafka Connect.</p>
</div>
<div class="paragraph">
<p>If you’re unfamiliar with Kafka Connect, check out this <a href="https://rmoff.dev/what-is-kafka-connect">quick intro to Kafka Connect here</a>. Kafka Connect’s excellent plugable architecture means that we can pair any <strong>source connector</strong> to read XML from wherever we have it (for example, a flat file, or a MQ, or anywhere else), with a <strong>Single Message Transform</strong> to transform the XML into a payload with a schema, and finally a <strong>converter</strong> to serialise the data in a form that we would like to use such as Avro or Protobuf.</p>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2020/10/01/ingesting-xml-data-into-kafka-option-2-kafka-connect-plus-single-message-transform/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

		
      
			<div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/09/IMG_6861.jpeg'); background-position: center;">
					<a href="https://rmoff.net/2020/10/01/ingesting-xml-data-into-kafka-option-1-the-dirty-hack/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Oct 1, 2020
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2020/10/01/ingesting-xml-data-into-kafka-option-1-the-dirty-hack/" class="color-inherit dim link">Ingesting XML data into Kafka - Option 1: The Dirty Hack</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p><em>👉 <a href="/2020/10/01/ingesting-xml-data-into-kafka-introduction/">Ingesting XML data into Kafka - Introduction</a></em></p>
</div>
<div class="paragraph">
<p><strong>What would a blog post on <code>rmoff.net</code> be if it didn’t include the dirty hack option? 😁</strong></p>
</div>
<div class="paragraph">
<p><em>The secret to dirty hacks is that they are often rather effective and when needs must, they can suffice. If you’re prototyping and need to <a href="https://www.urbandictionary.com/define.php?term=JFDI"><strong>JFDI</strong></a>, a dirty hack is just fine. If you’re looking for code to run in Production, then a dirty hack probably is not fine.</em></p>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2020/10/01/ingesting-xml-data-into-kafka-option-1-the-dirty-hack/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

		
		</section>
	</div>

		</main>
		
				<div class="hide-print sans-serif f6 f5-l mt5 ph3 pb6 center nested-copy-line-height lh-copy nested-links mw-100 measure-wide">
		<div class="about-the-author">
		
			<hr>
<p><img src="/images/2018/05/ksldn18-01.jpg" alt="Robin Moffatt"></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <em>Robin Moffatt is a Senior Developer Advocate at Confluent, and an Oracle ACE Director (Alumnus). He likes writing about himself in the third person, eating good breakfasts, and drinking good beer.</em></p>

		
		</div>
		
	</div>

		
		
<footer class="w-100 sans-serif" role="contentinfo">
	<nav class="w-third-l pb3 f6 center db" role="navigation">
<ul class="pagination">
  <li class="page-item">
    <a href="/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
  </li>
  <li class="page-item disabled">
    <a  class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
  </li>
  <li class="page-item active">
    <a class="page-link" href="/">1</a>
  </li>
  <li class="page-item">
    <a class="page-link" href="/page/2/">2</a>
  </li>
  <li class="page-item">
    <a class="page-link" href="/page/3/">3</a>
  </li>
  <li class="page-item disabled">
    <span aria-hidden="true">&nbsp;&hellip;&nbsp;</span>
  </li>
  <li class="page-item">
    <a class="page-link" href="/page/12/">12</a>
  </li>
  <li class="page-item">
    <a href="/page/2/" class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
  </li>
  <li class="page-item">
    <a href="/page/12/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
  </li>
</ul>

</nav>
</footer>

		
		<footer class="hide-print sans-serif f6 fw1 bg-black near-white bottom-0 w-100 pa3" role="contentinfo">
			<p class="w-50 fr tr">
			<a class="no-underline near-white" href="https://github.com/xaprb/story"><img class="dib" title="Made with Hugo and Story" alt="Story logo" src="https://rmoff.net/img/story-logo-white.svg" style="width: 1.5rem; height: 1.5rem" /></a>
			</p>
			<p class="w-50 near-white">
				&copy; 2020 
			</p>
		</footer>
		
	
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-75492960-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

	
	</body>
</html>
