<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8" />

  
  <title>rmoff.net</title>

  
  
  <link href="//cdn.jsdelivr.net" rel="dns-prefetch">
  <link href="//cdnjs.cloudflare.com" rel="dns-prefetch">
  <link href="//at.alicdn.com" rel="dns-prefetch">
  <link href="//fonts.googleapis.com" rel="dns-prefetch">
  <link href="//fonts.gstatic.com" rel="dns-prefetch">
  <link href="///disqus.com" rel="dns-prefetch">
  <link href="//c.disquscdn.com" rel="dns-prefetch">
  
  
  

  

  
  
  

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@gohugoio">
  <meta name="twitter:title" content="rmoff.net">
  
  <meta name="twitter:image" content="/images/avatar.jpg">

  
  <meta property="og:type" content="website">
  <meta property="og:title" content="rmoff.net">
  
  <meta property="og:url" content="https://rmoff.github.io/">
  <meta property="og:image" content="/images/avatar.jpg">




<meta name="generator" content="Hugo 0.52">


<link rel="canonical" href="https://rmoff.github.io/">
<link rel="alternate" type="application/rss+xml" href="https://rmoff.github.io/index.xml" title="rmoff.net">

<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="format-detection" content="telephone=no,email=no,adress=no">
<meta http-equiv="Cache-Control" content="no-transform">


<meta name="robots" content="index,follow">
<meta name="referrer" content="origin-when-cross-origin">







<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="rmoff.net">
<meta name="msapplication-tooltip" content="rmoff.net">
<meta name='msapplication-navbutton-color' content="#5fbf5e">
<meta name="msapplication-TileColor" content="#5fbf5e">
<meta name="msapplication-TileImage" content="/images/tile-image-windows.png">
<link rel="icon" href="/images/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" sizes="192x192" href="/images/touch-icon-android.png">
<link rel="apple-touch-icon" href="/images/touch-icon-apple.png">


<link rel="preload" href="/styles/main.min.css" as="style">
<link rel="preload" href="https://fonts.googleapis.com/css?family=Lobster" as="style">
<link rel="preload" href="/images/avatar.jpg" as="image">
<link rel="preload" href="/images/grey-prism.svg" as="image">


<style>
  body {
    background: rgb(244, 243, 241) url('/images/grey-prism.svg') repeat fixed;
  }
</style>
<link rel="stylesheet" href="/styles/main.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lobster">


<script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.2/dist/medium-zoom.min.js"></script>





  
  
<!--[if lte IE 8]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/videojs-ie8@1.1.2/dist/videojs-ie8.min.js"></script>
<![endif]-->

<!--[if lte IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/eligrey-classlist-js-polyfill@1.2.20180112/classList.min.js"></script>
<![endif]-->


<script src="https://cdn.jsdelivr.net/npm/smooth-scroll@14.2.1/dist/smooth-scroll.polyfills.min.js"></script>


</head>
  <body>
    
    <div class="suspension">
      <a title="Go to top" class="to-top is-hide"><span class="icon icon-up"></span></a>
      
    </div>
    
     <header class="site-header">
  <img class="avatar" src="/images/avatar.jpg" alt="Avatar">
  
  <h1 class="title">rmoff.net</h1>
  
  <p class="subtitle"></p>
  <button class="menu-toggle" type="button">
    <span class="icon icon-menu"></span>
  </button>
  <nav class="site-menu collapsed">
    <h2 class="offscreen">Main Menu</h2>
    <ul class="menu-list">
      
      
      
      
        <li class="menu-item
            
            
            ">
            <a href="/about-me/">about me</a>
          </li>
      
        <li class="menu-item
            
            
            ">
            <a href="/presentations/">presentations</a>
          </li>
      
    </ul>
  </nav>
  <nav class="social-menu collapsed">
    <h2 class="offscreen">Social Networks</h2>
    <ul class="social-list"></ul>
  </nav>
</header>

<section class="main post-list">
  <header class="list-header offscreen">
    <h2 class="list-label">All Posts</h2>
  </header>
  
  
   <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://rmoff.github.io/2018/09/17/accessing-kafka-docker-containers-jmx-from-host/" class="post-link">Accessing Kafka Docker containers&#39; JMX from host</a></h3>
    <p class="post-meta">@Robin Moffatt · Sep 17, 2018 · 2 min read</p>
  </header>
  
  <p class="post-summary">To help future Googlers… with the Confluent docker images for Kafka, KSQL, Kafka Connect, etc, if you want to access JMX metrics from within, you just need to pass two environment variables:
 KSQL_JMX_HOSTNAME - the hostname/IP of the host machine. This is used by the JMX client to connect back into JMX, so must be accessible from the host machine running the JMX client. If you’re just running your JMX client locally on the Docker host, you can set this to 127.</p>
  <footer class="post-footer">
    <a class="read-more" href="https://rmoff.github.io/2018/09/17/accessing-kafka-docker-containers-jmx-from-host/">Read More →</a>
  </footer>
</article>
  <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://rmoff.github.io/2018/09/04/sending-multiline-messages-to-kafka/" class="post-link">Sending multiline messages to Kafka</a></h3>
    <p class="post-meta">@Robin Moffatt · Sep 4, 2018 · 1 min read</p>
  </header>
  
  <p class="post-summary">(SO answer repost)
You can use kafkacat to send messages to Kafka that include line breaks. To do this, use its -D operator to specify a custom message delimiter (in this example /):
kafkacat -b kafka:29092 \ -t test_topic_01 \ -D/ \ -P &lt;&lt;EOF this is a string message with a line break/this is another message with two line breaks! EOF  Note that the delimiter must be a single byte - multi-byte chars will end up getting included in the resulting message See issue #140</p>
  <footer class="post-footer">
    <a class="read-more" href="https://rmoff.github.io/2018/09/04/sending-multiline-messages-to-kafka/">Read More →</a>
  </footer>
</article>
  <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://rmoff.github.io/2018/09/03/window-timestamps-in-ksql-integration-with-elasticsearch/" class="post-link">Window Timestamps in KSQL / Integration with Elasticsearch</a></h3>
    <p class="post-meta">@Robin Moffatt · Sep 3, 2018 · 2 min read</p>
  </header>
  
  <p class="post-summary">KSQL provides the ability to create windowed aggregations. For example, count the number of messages in a 1 minute window, grouped by a particular column:
CREATE TABLE RATINGS_BY_CLUB_STATUS AS \ SELECT CLUB_STATUS, COUNT(*) AS RATING_COUNT \ FROM RATINGS_WITH_CUSTOMER_DATA \ WINDOW TUMBLING (SIZE 1 MINUTES) \ GROUP BY CLUB_STATUS;  How KSQL, and Kafka Streams, stores the window timestamp associated with an aggregate, has recently changed. See #1497 for details.
Whereas previously the Kafka message timestamp (accessible through the KSQL ROWTIME system column) stored the start of the window for which the aggregate had been calculated, this changed in July 2018 to instead be the timestamp of the latest message to update that aggregate value.</p>
  <footer class="post-footer">
    <a class="read-more" href="https://rmoff.github.io/2018/09/03/window-timestamps-in-ksql-integration-with-elasticsearch/">Read More →</a>
  </footer>
</article>
  <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://rmoff.github.io/2018/08/22/converting-from-asciidoc-to-ms-word/" class="post-link">Converting from AsciiDoc to MS Word</a></h3>
    <p class="post-meta">@Robin Moffatt · Aug 22, 2018 · 1 min read</p>
  </header>
  
  <p class="post-summary">Short and sweet this one. I’ve written in the past how I love Markdown but I’ve actually moved on from that and now firmly throw my hat in the AsciiDoc ring. I’ll write another post another time explaining why in more detail, but in short it’s just more powerful whilst still simple and readable without compilation.
So anyway, I use AsciiDoc (ADOC) for all my technical (and often non-technical) writing now, and from there usually dump it out to HTML which I can share with people as needed:</p>
  <footer class="post-footer">
    <a class="read-more" href="https://rmoff.github.io/2018/08/22/converting-from-asciidoc-to-ms-word/">Read More →</a>
  </footer>
</article>
  <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://rmoff.github.io/2018/08/21/where-im-speaking-in-the-rest-of-2018/" class="post-link">Where I&#39;m speaking in the rest of 2018</a></h3>
    <p class="post-meta">@Robin Moffatt · Aug 21, 2018 · 1 min read</p>
  </header>
  
  <p class="post-summary"> There’s lots going on in the next few months :-)
I’m particularly excited to be speaking at several notable conferences for the first time, including JavaZone, USENIX LISA, and Devoxx.
As always, if you’re nearby then hope to see you there, and let me know if you want to meet for a coffee or beer!
September 🇪🇸 Madrid, Spain  6th Sept: Madrid Kafka Meetup  🇳🇴 Oslo, Norway  10th Sept: Oslo Kafka Meetup 11th Sept: JavaZone  🇧🇪 Antwerp/Brussels, Belgium  25th Sept: Brussels Kafka Meetup  🇪🇸 Barcelona, Spain  26th Sept: Barcelona Kafka Meetup  October 🇬🇧 Leeds, UK  4th Oct: The JVM Thing meetup  🇺🇸 Nashville (TN), USA  31st Oct: LISA18  November 🇩🇪 Münich, Germany  7th Nov: W-JAX  🇧🇪 Antwerp, Belgium  13th Nov: Devoxx Belgium  🇵🇱 Krakow, Poland  26th Nov: CoreDump  December 🇬🇧 Liverpool, UK  4th Dec: UKOUG TECH 18  🇩🇪 Frankfurt, Germany  10th Dec: Apache Kafka Meetup 11th Dec: IT Days  </p>
  <footer class="post-footer">
    <a class="read-more" href="https://rmoff.github.io/2018/08/21/where-im-speaking-in-the-rest-of-2018/">Read More →</a>
  </footer>
</article>
  <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://rmoff.github.io/2018/08/02/kafka-listeners-explained/" class="post-link">Kafka Listeners - Explained</a></h3>
    <p class="post-meta">@Robin Moffatt · Aug 2, 2018 · 11 min read</p>
  </header>
  
  <p class="post-summary">This question comes up on StackOverflow and such places a lot, so here’s something to try and help.
tl;dr : You need to set advertised.listeners (or KAFKA_ADVERTISED_LISTENERS if you’re using Docker images) to the external address (host/IP) so that clients can correctly connect to it. Otherwise they’ll try to connect to the internal host address–and if that’s not reachable then problems ensue.
In this post I’ll talk about why this is necessary, and then show how to do it, based on a couple of scenarios - Docker, and AWS.</p>
  <footer class="post-footer">
    <a class="read-more" href="https://rmoff.github.io/2018/08/02/kafka-listeners-explained/">Read More →</a>
  </footer>
</article>
  <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://rmoff.github.io/2018/06/20/syntax-highlighting-code-for-presentation-slides/" class="post-link">Syntax highlighting code for presentation slides</a></h3>
    <p class="post-meta">@Robin Moffatt · Jun 20, 2018 · 2 min read</p>
  </header>
  
  <p class="post-summary">So you’ve got a code sample you want to share in a presentation, but whilst it looks beautiful in your text-editor with syntax highlighting, it’s fugly in Keynote? You could screenshot it and paste the image into your slide, but you just know that you’ll want to change that code, and end up re-snapshotting it…what a PITA.
Better to have a nicely syntax-highlighted code snippet that you can paste as formatted text into Keynote and amend from there as needed.</p>
  <footer class="post-footer">
    <a class="read-more" href="https://rmoff.github.io/2018/06/20/syntax-highlighting-code-for-presentation-slides/">Read More →</a>
  </footer>
</article>
  <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://rmoff.github.io/2018/06/17/analysing-network-data-with-apache-kafka-ksql-and-elasticsearch/" class="post-link">Analysing Network Data with Apache Kafka, KSQL, and Elasticsearch</a></h3>
    <p class="post-meta">@Robin Moffatt · Jun 17, 2018 · 4 min read</p>
  </header>
  
  <p class="post-summary">In this article I demonstrated how to use KSQL to filter streams of network event data. As well as filtering, KSQL can be used to easily enrich streams. In this article we’ll see how this enriched data can be used to drive analysis in Elasticsearch and Kibana—and how KSQL again came into use for building some stream processing as a result of the discovery made.
The data came from my home Ubiquiti router, and took two forms:</p>
  <footer class="post-footer">
    <a class="read-more" href="https://rmoff.github.io/2018/06/17/analysing-network-data-with-apache-kafka-ksql-and-elasticsearch/">Read More →</a>
  </footer>
</article>
  <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://rmoff.github.io/2018/06/07/compare-and-apply-a-diff-patch-recursively/" class="post-link">Compare and apply a diff / patch recursively</a></h3>
    <p class="post-meta">@Robin Moffatt · Jun 7, 2018 · 1 min read</p>
  </header>
  
  <p class="post-summary">Hacky way to keep config files in sync when there’s a new version of some software.
Caveat : probably completely wrong, may not pick up config entries added in the new version, etc. But, works for me right here right now ;-)
So let’s say we have two folders:
confluent-4.1.0 confluent-4.1.1  Same structures, different versions. 4.1.0 was set up with our local config in ./etc, that we want to preserve.</p>
  <footer class="post-footer">
    <a class="read-more" href="https://rmoff.github.io/2018/06/07/compare-and-apply-a-diff-patch-recursively/">Read More →</a>
  </footer>
</article>
  <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://rmoff.github.io/2018/05/21/kafka-connect-and-oracle-data-types/" class="post-link">Kafka Connect and Oracle data types</a></h3>
    <p class="post-meta">@Robin Moffatt · May 21, 2018 · 4 min read</p>
  </header>
  
  <p class="post-summary">The Kafka Connect JDBC Connector by default does not cope so well with:
 NUMBER columns with no defined precision/scale. You may end up with apparent junk (bytes) in the output, or just errors. TIMESTAMP WITH LOCAL TIME ZONE. Throws JDBC type -102 not currently supported warning in the log.  Read more about NUMBER data type in the Oracle docs.
tl;dr : How do I make it work? There are several options:</p>
  <footer class="post-footer">
    <a class="read-more" href="https://rmoff.github.io/2018/05/21/kafka-connect-and-oracle-data-types/">Read More →</a>
  </footer>
</article>
 
   
  <footer class="list-footer">
    <nav class="pagination">
      <h3 class="offscreen">Pagination</h3>
      
      <a class="pagination-previous" href="/"
        >← Newer Posts</a
      >
       
      <a class="pagination-next" href="/page/3/"
        >Older Posts →</a
      >
      
    </nav>
  </footer>
  
</section>



<footer class="site-footer">
  <p>© 2017-2018 rmoff.net</p>
  <p>Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> with theme <a href="https://github.com/laozhu/hugo-nuo" target="_blank">Nuo</a>.</p>
  
</footer>








<script src="/scripts/index.min.js"></script>






 
  </body>
</html>
