<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link rel="preload" as="image" href="https://rmoff.net/images/2020/10/IMG_6943.jpeg" >
		
		<title>Streaming XML messages from IBM MQ into Kafka into MongoDB</title>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="https://rmoff.net/index.xml">
		<link rel="canonical" href="https://rmoff.net/2020/10/05/streaming-xml-messages-from-ibm-mq-into-kafka-into-mongodb/">
		
		

		
		<meta property="og:title" content="Streaming XML messages from IBM MQ into Kafka into MongoDB" />
		<meta property="og:type" content="article" />
		<meta property="og:image" content="https://rmoff.net/images/2020/10/IMG_6943.jpeg" />
		<meta property="og:description" content="" />
		<meta property="og:url" content="https://rmoff.net/2020/10/05/streaming-xml-messages-from-ibm-mq-into-kafka-into-mongodb/" />
		<meta property="og:site_name" content="Streaming XML messages from IBM MQ into Kafka into MongoDB" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:site" content="@" />


		
		<style>
			html { background-color: #FAF8F5; color: #2D2926; }
			body { opacity: 0; transition: opacity 0.1s ease; }
			body.loaded { opacity: 1; }
			.site-header { height: 60px; background-color: #FAF8F5; border-bottom: 1px solid #E8421E; }
		</style>

		
		
		<link rel="stylesheet" href="https://rmoff.net/css/redesign.css" />
		
		<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,600;12..96,700;12..96,800&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@400;500;600&display=swap">
		<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,600;12..96,700;12..96,800&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@400;500;600&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
		<noscript><link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,600;12..96,700;12..96,800&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@400;500;600&display=swap" rel="stylesheet"></noscript>
		

		
		<script src="/js/copy-code.js"></script>
		

		
		<script>
			!function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init capture register register_once register_for_session unregister unregister_for_session getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey getNextSurveyStep identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty createPersonProfile opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing debug".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
            posthog.init('phc_93NEP79Ju4xqXYWXnoLbr4HMW0Iaepj1BGOVoEXYX6P',{api_host:'https://eu.i.posthog.com', person_profiles: 'identified_only'})
		</script>

		
		<script src="https://rmoff.net/js/story.js"></script>
		<script src="https://rmoff.net/js/toc.js"></script>
		<script src="https://rmoff.net/js/medium-mirror.js"></script>
	</head>
	<body class="ma0 section-post page-kind-page is-page-true ">
		<script>document.body.classList.add('loaded');</script>

		<header class="site-header hide-print">
	<div class="site-header-inner">
		<a href="https://rmoff.net/" class="site-title">rmoff's random ramblings</a>
		<nav class="site-nav">
			<a href="/categories/interesting-links/" class="nav-il"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg> Interesting Links</a>
			<span class="nav-sep"></span>
			<a href="/categories/"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg> Categories</a>
			<a href="https://rmoff.net/search/"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg> Search</a>
			<a href="https://rmoff.net/index.xml"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9"/><path d="M4 4a16 16 0 0 1 16 16"/><circle cx="5" cy="19" r="1"/></svg> RSS</a>
			<div class="nav-social">
				<a href="https://www.linkedin.com/in/robinmoffatt/" title="linkedin"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg></a>
				<a href="https://twitter.com/rmoff/" title="twitter"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
				<a href="https://bsky.app/profile/rmoff.net" title="bluesky"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 568 501" fill="currentColor"><path d="M123.121 33.664C188.241 82.553 258.281 181.68 284 234.873c25.719-53.192 95.759-152.32 160.879-201.21C491.866-1.611 568-28.906 568 57.947c0 17.346-9.945 145.713-15.778 166.555-20.275 72.453-94.155 90.933-159.875 79.748C507.222 323.8 536.444 388.56 473.333 453.32c-119.86 122.992-172.272-30.859-185.702-70.281-2.462-7.227-3.614-10.608-3.631-7.733-.017-2.875-1.169.506-3.631 7.733-13.43 39.422-65.842 193.273-185.702 70.281-63.111-64.76-33.89-129.52 80.986-149.071-65.72 11.185-139.6-7.295-159.875-79.748C10.945 203.659 1 75.291 1 57.946 1-28.906 76.135-1.612 123.121 33.664z"/></svg></a>
				<a href="https://www.youtube.com/c/rmoff" title="youtube"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></a>
				<a href="https://talks.rmoff.net" title="talks"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="0"/><line x1="12" y1="17" x2="12" y2="22"/><line x1="8" y1="22" x2="16" y2="22"/><polyline points="7 8 12 12 17 8"/></svg></a>
				<a href="https://github.com/rmoff/" title="github"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a>
			</div>
		</nav>
		<button class="nav-toggle" onclick="document.querySelector('.mobile-nav').classList.toggle('open')" aria-label="Menu">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
		</button>
	</div>
	<nav class="mobile-nav">
		<a href="https://rmoff.net/">Home</a>
		<a href="/categories/">Categories</a>
		<a href="/categories/interesting-links/">Interesting Links</a>
		<a href="https://rmoff.net/search/">Search</a>
		<a href="https://rmoff.net/index.xml">RSS</a>
		<a href="https://www.linkedin.com/in/robinmoffatt/">linkedin</a>
		<a href="https://twitter.com/rmoff/">twitter</a>
		<a href="https://bsky.app/profile/rmoff.net">bluesky</a>
		<a href="https://www.youtube.com/c/rmoff">youtube</a>
		<a href="https://talks.rmoff.net">talks</a>
		<a href="https://github.com/rmoff/">github</a>
	</nav>
</header>


		<main role="main">
		

<div class="article-hero" style="background-image: url('https://rmoff.net/images/2020/10/IMG_6943.jpeg');">
	<div class="article-hero-overlay">
		<div class="article-hero-content">
			<h1>Streaming XML messages from IBM MQ into Kafka into MongoDB</h1>
			<p class="article-hero-meta">
				
					<time datetime="2020-10-05T10:09:41&#43;01:00">05 Oct 2020</time>
					<span class="display-print">by </span>
					 &middot; <a href="https://rmoff.net/categories/xml">XML</a>, <a href="https://rmoff.net/categories/kafka">Kafka</a>, <a href="https://rmoff.net/categories/kafka-connect">Kafka Connect</a>, <a href="https://rmoff.net/categories/single-message-transform">Single Message Transform</a>, <a href="https://rmoff.net/categories/mongodb">MongoDB</a>, <a href="https://rmoff.net/categories/ibm-mq">IBM MQ</a>
					<span class="display-print">at https://rmoff.net/2020/10/05/streaming-xml-messages-from-ibm-mq-into-kafka-into-mongodb/</span>
				
			</p>
		</div>
	</div>
</div>


<details class="toc-mobile">
	<summary>Table of Contents</summary>
	<nav id="TableOfContents">
  <ul>
    <li><a href="#_loading_some_test_data_onto_ibm_mq">Loading some test data onto IBM MQ</a></li>
    <li><a href="#_streaming_from_ibm_mq_to_kafka_and_translating_the_xml_messages">Streaming from IBM MQ to Kafka and translating the XML messages</a></li>
    <li><a href="#_streaming_the_data_from_kafka_to_mongodb">Streaming the data from Kafka to MongoDB</a></li>
    <li><a href="#_what_if_my_datas_not_in_xml_what_if_we_want_other_fields_from_the_payload">What if my data‚Äôs not in XML? What if we want other fields from the payload?</a></li>
  </ul>
</nav>
</details>

<div class="container-fluid docs">
	<div class="row">
		<main class="docs-content" role="main">

<article class="article" data-pagefind-body>
	<span data-pagefind-filter="category" style="display:none">XML</span><span data-pagefind-filter="category" style="display:none">Kafka</span><span data-pagefind-filter="category" style="display:none">Kafka Connect</span><span data-pagefind-filter="category" style="display:none">Single Message Transform</span><span data-pagefind-filter="category" style="display:none">MongoDB</span><span data-pagefind-filter="category" style="display:none">IBM MQ</span>
	<img data-pagefind-meta="image[src]" src="https://rmoff.net/images/2020/10/IMG_6943.jpeg" style="display:none" alt="">
	<div class="paragraph">
<p>Let‚Äôs imagine we have XML data on a queue in IBM MQ, and we want to ingest it into Kafka to then use downstream, perhaps in an application or maybe to stream to a NoSQL store like MongoDB.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
This same pattern for ingesting XML will work with other connectors such as <a href="https://www.confluent.io/hub/confluentinc/kafka-connect-jms">JMS</a> and <a href="https://www.confluent.io/hub/confluentinc/kafka-connect-activemq">ActiveMQ</a>.
</td>
</tr>
</tbody></table>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/2020/10/xml-ibmmq-mongodb.gif" alt="Streaming XML messages from IBM MQ through Apache Kafka into MongoDB"/>
</div>
</div>
<div class="paragraph">
<p>I‚Äôve got a <a href="https://github.com/confluentinc/demo-scene/blob/master/xml-to-kafka/docker-compose.yml">Docker Compose</a> stack running that includes:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>IBM MQ</p>
</li>
<li>
<p>Apache Kafka (deployed as Confluent Platform to include the all-important Schema Registry)</p>
</li>
<li>
<p>MongoDB</p>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="_loading_some_test_data_onto_ibm_mq">Loading some test data onto IBM MQ&nbsp;<a class="headline-hash" href="#_loading_some_test_data_onto_ibm_mq">üîó</a> </h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let‚Äôs load some messages onto the queue from an XML file:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #f8f8f2;background-color: #49483e"><code data-lang="bash">docker <span style="color: #f8f8f2">exec</span> <span style="color: #f92672">--interactive</span> ibmmq <span style="color: #ae81ff">\</span>
  /opt/mqm/samp/bin/amqsput DEV.QUEUE.1 QM1 &lt; data/note.xml</code></pre>
</div>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/2020/10/ibmmq.jpg" alt="ibmmq"/>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_streaming_from_ibm_mq_to_kafka_and_translating_the_xml_messages">Streaming from IBM MQ to Kafka and translating the XML messages&nbsp;<a class="headline-hash" href="#_streaming_from_ibm_mq_to_kafka_and_translating_the_xml_messages">üîó</a> </h2>
<div class="sectionbody">
<div class="paragraph">
<p>Now we can ingest this into Kafka using the <a href="/2020/09/11/what-is-kafka-connect/">Kafka Connect</a> with the <a href="https://www.confluent.io/hub/confluentinc/kafka-connect-ibmmq">IbmMQSourceConnector</a> plugin and <a href="https://www.confluent.io/hub/jcustenborder/kafka-connect-transform-xml">XML Transformation</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #f8f8f2;background-color: #49483e"><code data-lang="javascript"><span style="color: #f8f8f2;background-color: #49483e">curl</span> <span style="color: #f92672;font-weight: bold">-</span><span style="color: #f8f8f2;background-color: #49483e">i</span> <span style="color: #f92672;font-weight: bold">-</span><span style="color: #f8f8f2;background-color: #49483e">X</span> <span style="color: #f8f8f2;background-color: #49483e">PUT</span> <span style="color: #f92672;font-weight: bold">-</span><span style="color: #f8f8f2;background-color: #49483e">H</span>  <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Content-Type:application/json</span><span style="color: #e6db74">&#34;</span> <span style="color: #f92672;font-weight: bold">\</span>
    <span style="color: #f8f8f2;background-color: #49483e">http</span><span style="color: #f8f8f2;background-color: #49483e">:</span><span style="color: #75715e;font-style: italic">//localhost:8083/connectors/source-ibmmq-note-01/config \</span>
    <span style="color: #f92672;font-weight: bold">-</span><span style="color: #f8f8f2;background-color: #49483e">d</span> <span style="color: #e6db74">&#39;</span><span style="color: #e6db74">{
    &#34;connector.class&#34;: &#34;io.confluent.connect.ibm.mq.IbmMQSourceConnector&#34;,
    &#34;kafka.topic&#34;:&#34;ibmmq-note-01&#34;,
    &#34;mq.hostname&#34;:&#34;ibmmq&#34;,
    &#34;mq.port&#34;:&#34;1414&#34;,
    &#34;mq.queue.manager&#34;:&#34;QM1&#34;,
    &#34;mq.transport.type&#34;:&#34;client&#34;,
    &#34;mq.channel&#34;:&#34;DEV.APP.SVRCONN&#34;,
    &#34;mq.username&#34;:&#34;app&#34;,
    &#34;mq.password&#34;:&#34;password123&#34;,
    &#34;jms.destination.name&#34;:&#34;DEV.QUEUE.1&#34;,
    &#34;jms.destination.type&#34;:&#34;queue&#34;,
    &#34;confluent.license&#34;:&#34;&#34;,
    &#34;confluent.topic.bootstrap.servers&#34;:&#34;broker:29092&#34;,
    &#34;confluent.topic.replication.factor&#34;:&#34;1&#34;,
    &#34;transforms&#34;: &#34;extractPayload,xml&#34;,
    &#34;transforms.extractPayload.type&#34;: &#34;org.apache.kafka.connect.transforms.ExtractField$Value&#34;,
    &#34;transforms.extractPayload.field&#34;: &#34;text&#34;,
    &#34;transforms.xml.type&#34;: &#34;com.github.jcustenborder.kafka.connect.transform.xml.FromXml$Value&#34;,
    &#34;transforms.xml.schema.path&#34;: &#34;file:///data/note.xsd&#34;,
    &#34;value.converter&#34;: &#34;io.confluent.connect.avro.AvroConverter&#34;,
    &#34;value.converter.schema.registry.url&#34;:&#34;http://schema-registry:8081&#34;
    }</span><span style="color: #e6db74">&#39;</span></code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<code>ExtractField</code> is needed otherwise the XML transform will fail with <code>java.lang.UnsupportedOperationException: STRUCT is not a supported type.</code> since it will be trying to operate on the entire payload from IBM MQ which includes fields other than the XML that we‚Äôre interested in.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>The resulting Kafka topic holds the value of the <code>text</code> field in the messages, serialised in Avro:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #f8f8f2;background-color: #49483e"><code data-lang="bash">docker <span style="color: #f8f8f2">exec </span>kafkacat <span style="color: #ae81ff">\</span>
    kafkacat                            <span style="color: #ae81ff">\</span>
      <span style="color: #f92672">-b</span> broker:29092                   <span style="color: #ae81ff">\</span>
      <span style="color: #f92672">-r</span> http://schema-registry:8081    <span style="color: #ae81ff">\</span>
      <span style="color: #f92672">-s</span> <span style="color: #f8f8f2">key</span><span style="color: #f92672;font-weight: bold">=</span>s <span style="color: #f92672">-s</span> <span style="color: #f8f8f2">value</span><span style="color: #f92672;font-weight: bold">=</span>avro            <span style="color: #ae81ff">\</span>
      <span style="color: #f92672">-t</span> ibmmq-note-01                  <span style="color: #ae81ff">\</span>
      <span style="color: #f92672">-C</span> <span style="color: #f92672">-o</span> beginning <span style="color: #f92672">-u</span> <span style="color: #f92672">-q</span> <span style="color: #f92672">-J</span> | <span style="color: #ae81ff">\</span>
    jq <span style="color: #f92672">-c</span> <span style="color: #e6db74">&#39;.payload&#39;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #f8f8f2;background-color: #49483e"><code data-lang="javascript"><span style="color: #f8f8f2;background-color: #49483e">{</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Note</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:{</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">to</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Tove</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">from</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Jani</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">heading</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Reminder 01</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">body</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Don&#39;t forget me this weekend!</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">}}</span>
<span style="color: #f8f8f2;background-color: #49483e">{</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Note</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:{</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">to</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Jani</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">from</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Tove</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">heading</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Reminder 02</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">body</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Of course I won&#39;t!</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">}}</span>
<span style="color: #960050;background-color: #1e0010">‚Ä¶</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>To understand more about the concepts around getting XML data into Kafka <a href="/2020/10/01/ingesting-xml-data-into-kafka-introduction/">see here</a>, and I‚Äôve written about the specifics of Kafka Connect and the XML transformation <a href="/2020/10/01/ingesting-xml-data-into-kafka-option-2-kafka-connect-plus-single-message-transform/">here</a>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_streaming_the_data_from_kafka_to_mongodb">Streaming the data from Kafka to MongoDB&nbsp;<a class="headline-hash" href="#_streaming_the_data_from_kafka_to_mongodb">üîó</a> </h2>
<div class="sectionbody">
<div class="paragraph">
<p>We can then add another Kafka Connect connector to the pipeline, using the <a href="https://www.confluent.io/hub/mongodb/kafka-connect-mongodb">official plugin for Kafka Connect from MongoDB</a>, which will stream data straight from a Kafka topic into MongoDB:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #f8f8f2;background-color: #49483e"><code data-lang="bash">curl <span style="color: #f92672">-i</span> <span style="color: #f92672">-X</span> PUT <span style="color: #f92672">-H</span>  <span style="color: #e6db74">&#34;Content-Type:application/json&#34;</span> <span style="color: #ae81ff">\</span>
    http://localhost:8083/connectors/sink-mongodb-note-01/config <span style="color: #ae81ff">\</span>
    <span style="color: #f92672">-d</span> <span style="color: #e6db74">&#39;{
    &#34;connector.class&#34;: &#34;com.mongodb.kafka.connect.MongoSinkConnector&#34;,
    &#34;topics&#34;:&#34;ibmmq-note-01&#34;,
    &#34;connection.uri&#34;:&#34;mongodb://mongodb:27017&#34;,
    &#34;database&#34;:&#34;rmoff&#34;,
    &#34;collection&#34;:&#34;notes&#34;,
    &#34;value.converter&#34;: &#34;io.confluent.connect.avro.AvroConverter&#34;,
    &#34;value.converter.schema.registry.url&#34;:&#34;http://schema-registry:8081&#34;
    }&#39;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Check out the data in MongoDB:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #f8f8f2;background-color: #49483e"><code data-lang="bash">docker <span style="color: #f8f8f2">exec</span> <span style="color: #f92672">--interactive</span> mongodb mongo localhost:27017 <span style="color: #f92672;font-weight: bold">&lt;&lt;</span><span style="color: #66d9ef">EOF</span><span style="color: #e6db74">
use rmoff
db.notes.find()
EOF</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #f8f8f2;background-color: #49483e"><code data-lang="bash">MongoDB shell version v4.4.1
connecting to: mongodb://localhost:27017/test?compressors<span style="color: #f92672;font-weight: bold">=</span>disabled&amp;gssapiServiceName<span style="color: #f92672;font-weight: bold">=</span>mongodb
Implicit session: session <span style="color: #f92672;font-weight: bold">{</span> <span style="color: #e6db74">&#34;id&#34;</span> : UUID<span style="color: #f92672;font-weight: bold">(</span><span style="color: #e6db74">&#34;9aae83c4-0e25-43a9-aca5-7278d366423b&#34;</span><span style="color: #f92672;font-weight: bold">)</span> <span style="color: #f92672;font-weight: bold">}</span>
MongoDB server version: 4.4.1
switched to db rmoff
<span style="color: #f92672;font-weight: bold">{</span> <span style="color: #e6db74">&#34;_id&#34;</span> : ObjectId<span style="color: #f92672;font-weight: bold">(</span><span style="color: #e6db74">&#34;5f77b64eee00df1cc80135a1&#34;</span><span style="color: #f92672;font-weight: bold">)</span>, <span style="color: #e6db74">&#34;to&#34;</span> : <span style="color: #e6db74">&#34;Tove&#34;</span>, <span style="color: #e6db74">&#34;from&#34;</span> : <span style="color: #e6db74">&#34;Jani&#34;</span>, <span style="color: #e6db74">&#34;heading&#34;</span> : <span style="color: #e6db74">&#34;Reminder 01&#34;</span>, <span style="color: #e6db74">&#34;body&#34;</span> : <span style="color: #e6db74">&#34;Don&#39;t forget me this weekend!&#34;</span> <span style="color: #f92672;font-weight: bold">}</span>
<span style="color: #f92672;font-weight: bold">{</span> <span style="color: #e6db74">&#34;_id&#34;</span> : ObjectId<span style="color: #f92672;font-weight: bold">(</span><span style="color: #e6db74">&#34;5f77b64eee00df1cc80135a2&#34;</span><span style="color: #f92672;font-weight: bold">)</span>, <span style="color: #e6db74">&#34;to&#34;</span> : <span style="color: #e6db74">&#34;Jani&#34;</span>, <span style="color: #e6db74">&#34;from&#34;</span> : <span style="color: #e6db74">&#34;Tove&#34;</span>, <span style="color: #e6db74">&#34;heading&#34;</span> : <span style="color: #e6db74">&#34;Reminder 02&#34;</span>, <span style="color: #e6db74">&#34;body&#34;</span> : <span style="color: #e6db74">&#34;Of course I won&#39;t!&#34;</span> <span style="color: #f92672;font-weight: bold">}</span>
<span style="color: #f92672;font-weight: bold">{</span> <span style="color: #e6db74">&#34;_id&#34;</span> : ObjectId<span style="color: #f92672;font-weight: bold">(</span><span style="color: #e6db74">&#34;5f77b64eee00df1cc80135a3&#34;</span><span style="color: #f92672;font-weight: bold">)</span>, <span style="color: #e6db74">&#34;to&#34;</span> : <span style="color: #e6db74">&#34;Tove&#34;</span>, <span style="color: #e6db74">&#34;from&#34;</span> : <span style="color: #e6db74">&#34;Jani&#34;</span>, <span style="color: #e6db74">&#34;heading&#34;</span> : <span style="color: #e6db74">&#34;Reminder 03&#34;</span>, <span style="color: #e6db74">&#34;body&#34;</span> : <span style="color: #e6db74">&#34;Where are you?&#34;</span> <span style="color: #f92672;font-weight: bold">}</span>
<span style="color: #f92672;font-weight: bold">{</span> <span style="color: #e6db74">&#34;_id&#34;</span> : ObjectId<span style="color: #f92672;font-weight: bold">(</span><span style="color: #e6db74">&#34;5f77b64eee00df1cc80135a4&#34;</span><span style="color: #f92672;font-weight: bold">)</span>, <span style="color: #e6db74">&#34;to&#34;</span> : <span style="color: #e6db74">&#34;Jani&#34;</span>, <span style="color: #e6db74">&#34;from&#34;</span> : <span style="color: #e6db74">&#34;Tove&#34;</span>, <span style="color: #e6db74">&#34;heading&#34;</span> : <span style="color: #e6db74">&#34;Reminder 04&#34;</span>, <span style="color: #e6db74">&#34;body&#34;</span> : <span style="color: #e6db74">&#34;I forgot √∞¬ü¬§¬∑√¢¬Ä¬ç√¢¬ô¬Ç√Ø¬∏¬è&#34;</span> <span style="color: #f92672;font-weight: bold">}</span>
bye</code></pre>
</div>
</div>
<div class="paragraph">
<p>Let‚Äôs check that this is actually streaming, by sending another record to the MQ:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #f8f8f2;background-color: #49483e"><code data-lang="bash"><span style="color: #f8f8f2">echo</span> <span style="color: #e6db74">&#34;&lt;note&gt; &lt;to&gt;Tove&lt;/to&gt; &lt;from&gt;Jani&lt;/from&gt; &lt;heading&gt;Reminder 05&lt;/heading&gt; &lt;body&gt;Srsly?&lt;/body&gt; &lt;/note&gt;&#34;</span> | docker <span style="color: #f8f8f2">exec</span> <span style="color: #f92672">--interactive</span> ibmmq /opt/mqm/samp/bin/amqsput DEV.QUEUE.1 QM1</code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #f8f8f2;background-color: #49483e"><code data-lang="bash">Sample AMQSPUT0 start
target queue is DEV.QUEUE.1
Sample AMQSPUT0 end</code></pre>
</div>
</div>
<div class="paragraph">
<p>And, behold, the new record in MongoDB:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #f8f8f2;background-color: #49483e"><code data-lang="bash">docker <span style="color: #f8f8f2">exec</span> <span style="color: #f92672">--interactive</span> mongodb mongo localhost:27017 <span style="color: #f92672;font-weight: bold">&lt;&lt;</span><span style="color: #66d9ef">EOF</span><span style="color: #e6db74">
use rmoff
db.notes.find()
EOF</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #f8f8f2;background-color: #49483e"><code data-lang="javascript"><span style="color: #f8f8f2;background-color: #49483e">MongoDB</span> <span style="color: #f8f8f2;background-color: #49483e">shell</span> <span style="color: #f8f8f2;background-color: #49483e">version</span> <span style="color: #f8f8f2;background-color: #49483e">v4</span><span style="color: #f8f8f2;background-color: #49483e">.</span><span style="color: #ae81ff">4.1</span>
<span style="color: #f8f8f2;background-color: #49483e">connecting</span> <span style="color: #f8f8f2;background-color: #49483e">to</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #f8f8f2;background-color: #49483e">mongodb</span><span style="color: #f8f8f2;background-color: #49483e">:</span><span style="color: #75715e;font-style: italic">//localhost:27017/test?compressors=disabled&amp;gssapiServiceName=mongodb</span>
<span style="color: #f8f8f2;background-color: #49483e">Implicit</span> <span style="color: #f8f8f2;background-color: #49483e">session</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #f8f8f2;background-color: #49483e">session</span> <span style="color: #f8f8f2;background-color: #49483e">{</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">id</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #f8f8f2;background-color: #49483e">UUID</span><span style="color: #f8f8f2;background-color: #49483e">(</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">2641e93e-9c5d-4270-8f64-e52295a60309</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">)</span> <span style="color: #f8f8f2;background-color: #49483e">}</span>
<span style="color: #f8f8f2;background-color: #49483e">MongoDB</span> <span style="color: #f8f8f2;background-color: #49483e">server</span> <span style="color: #f8f8f2;background-color: #49483e">version</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #ae81ff">4.4</span><span style="color: #f8f8f2;background-color: #49483e">.</span><span style="color: #ae81ff">1</span>
<span style="color: #f8f8f2;background-color: #49483e">switched</span> <span style="color: #f8f8f2;background-color: #49483e">to</span> <span style="color: #f8f8f2;background-color: #49483e">db</span> <span style="color: #f8f8f2;background-color: #49483e">rmoff</span>
<span style="color: #f8f8f2;background-color: #49483e">{</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">_id</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #f8f8f2;background-color: #49483e">ObjectId</span><span style="color: #f8f8f2;background-color: #49483e">(</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">5f77b64eee00df1cc80135a1</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">),</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">to</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Tove</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">from</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Jani</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">heading</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Reminder 01</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">body</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Don&#39;t forget me this weekend!</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">}</span>
<span style="color: #f8f8f2;background-color: #49483e">{</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">_id</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #f8f8f2;background-color: #49483e">ObjectId</span><span style="color: #f8f8f2;background-color: #49483e">(</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">5f77b64eee00df1cc80135a2</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">),</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">to</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Jani</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">from</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Tove</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">heading</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Reminder 02</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">body</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Of course I won&#39;t!</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">}</span>
<span style="color: #f8f8f2;background-color: #49483e">{</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">_id</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #f8f8f2;background-color: #49483e">ObjectId</span><span style="color: #f8f8f2;background-color: #49483e">(</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">5f77b64eee00df1cc80135a3</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">),</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">to</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Tove</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">from</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Jani</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">heading</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Reminder 03</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">body</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Where are you?</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">}</span>
<span style="color: #f8f8f2;background-color: #49483e">{</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">_id</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #f8f8f2;background-color: #49483e">ObjectId</span><span style="color: #f8f8f2;background-color: #49483e">(</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">5f77b64eee00df1cc80135a4</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">),</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">to</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Jani</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">from</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Tove</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">heading</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Reminder 04</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">body</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">I forgot √∞¬ü¬§¬∑√¢¬Ä¬ç√¢¬ô¬Ç√Ø¬∏¬è</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">}</span>
<span style="color: #f8f8f2;background-color: #49483e">{</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">_id</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #f8f8f2;background-color: #49483e">ObjectId</span><span style="color: #f8f8f2;background-color: #49483e">(</span><span style="color: #e6db74">&#34;</span><span style="color: #e6db74">5f77b77cee00df1cc80135a6</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">),</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">to</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Tove</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">from</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Jani</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">heading</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Reminder 05</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">body</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Srsly?</span><span style="color: #e6db74">&#34;</span> <span style="color: #f8f8f2;background-color: #49483e">}</span>
<span style="color: #f8f8f2;background-color: #49483e">bye</span></code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_what_if_my_datas_not_in_xml_what_if_we_want_other_fields_from_the_payload">What if my data‚Äôs not in XML? What if we want other fields from the payload?&nbsp;<a class="headline-hash" href="#_what_if_my_datas_not_in_xml_what_if_we_want_other_fields_from_the_payload">üîó</a> </h2>
<div class="sectionbody">
<div class="paragraph">
<p>In the example above we‚Äôre taking data from the source system (IBM MQ) and Kafka Connect is applying a schema to the field called <code>text</code> within it (the XML transformation does this, based on the supplied XSD). When it‚Äôs written to Kafka it‚Äôs serialised using the selected converter which since it‚Äôs Avro stores the schema in the Schema Registry. This is a Good Way of doing things, since we retain the schema for use by any consumer. We could use Protobuf or JSON Schema here too if we wanted. If this doesn‚Äôt all make sense to you then check out <a href="/2020/10/01/ingesting-xml-data-into-kafka-introduction/">Schemas, Schmeeeemas / Why not just JSON?</a>.</p>
</div>
<div class="paragraph">
<p>But the full payload that comes through from IBM MQ looks like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #f8f8f2;background-color: #49483e"><code>messageID=ID:414d5120514d3120202020202020202060e67a5f06352924
messageType=text
timestamp=1601893142430
deliveryMode=1
redelivered=false
expiration=0
priority=0
properties={JMS_IBM_Format=Struct{propertyType=string,string=MQSTR   },
            JMS_IBM_PutDate=Struct{propertyType=string,string=20201005},
            JMS_IBM_Character_Set=Struct{propertyType=string,string=ISO-8859-1},
            JMSXDeliveryCount=Struct{propertyType=integer,integer=1},
            JMS_IBM_MsgType=Struct{propertyType=integer,integer=8},
            JMSXUserID=Struct{propertyType=string,string=mqm         },
            JMS_IBM_Encoding=Struct{propertyType=integer,integer=546},
            JMS_IBM_PutTime=Struct{propertyType=string,string=10190243},
            JMSXAppID=Struct{propertyType=string,string=amqsput                     },
            JMS_IBM_PutApplType=Struct{propertyType=integer,integer=6}}
text=&lt;note&gt; &lt;to&gt;Jani&lt;/to&gt; &lt;from&gt;Tove&lt;/from&gt; &lt;heading&gt;Reminder 02&lt;/heading&gt; &lt;body&gt;Of course I won&#39;t!&lt;/body&gt; &lt;/note&gt;</code></pre>
</div>
</div>
<div class="paragraph">
<p>If we want to retain some or all of these fields, we‚Äôre going to have to approach things a different way. As things stand, there is no Single Message Transform that I‚Äôm aware of that can take <em>both</em> the non-XML fields <em>and</em> the XML field and wrangle them into a single structured schema (which is the ideal outcome, or perhaps putting the non-XML fields into the Kafka message header). By default the <a href="https://docs.confluent.io/current/connect/kafka-connect-ibmmq/index.html">IBM MQ Source Connector</a> will write the full payload to a <a href="https://docs.confluent.io/current/connect/kafka-connect-ibmmq/index.html#io-confluent-connect-jms-value">schema</a>. This means that you still use a schema-supporting serialisation method, but the <code>text</code> payload field remains unparsed.</p>
</div>
<div class="paragraph">
<p>Here‚Äôs an example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #f8f8f2;background-color: #49483e"><code data-lang="bash">curl <span style="color: #f92672">-i</span> <span style="color: #f92672">-X</span> PUT <span style="color: #f92672">-H</span>  <span style="color: #e6db74">&#34;Content-Type:application/json&#34;</span> <span style="color: #ae81ff">\</span>
    http://localhost:8083/connectors/source-ibmmq-note-03/config <span style="color: #ae81ff">\</span>
    <span style="color: #f92672">-d</span> <span style="color: #e6db74">&#39;{
    &#34;connector.class&#34;: &#34;io.confluent.connect.ibm.mq.IbmMQSourceConnector&#34;,
    &#34;kafka.topic&#34;:&#34;ibmmq-note-03&#34;,
    &#34;mq.hostname&#34;:&#34;ibmmq&#34;,
    &#34;mq.port&#34;:&#34;1414&#34;,
    &#34;mq.queue.manager&#34;:&#34;QM1&#34;,
    &#34;mq.transport.type&#34;:&#34;client&#34;,
    &#34;mq.channel&#34;:&#34;DEV.APP.SVRCONN&#34;,
    &#34;mq.username&#34;:&#34;app&#34;,
    &#34;mq.password&#34;:&#34;password123&#34;,
    &#34;jms.destination.name&#34;:&#34;DEV.QUEUE.1&#34;,
    &#34;jms.destination.type&#34;:&#34;queue&#34;,
    &#34;confluent.license&#34;:&#34;&#34;,
    &#34;confluent.topic.bootstrap.servers&#34;:&#34;broker:29092&#34;,
    &#34;confluent.topic.replication.factor&#34;:&#34;1&#34;,
    &#34;value.converter&#34;: &#34;io.confluent.connect.avro.AvroConverter&#34;,
    &#34;value.converter.schema.registry.url&#34;:&#34;http://schema-registry:8081&#34;
    }&#39;</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Now the full IBM MQ message is written to a Kafka topic, serialised with a schema. We can deserialise it with something like kafkacat:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #f8f8f2;background-color: #49483e"><code data-lang="bash">kafkacat                                <span style="color: #ae81ff">\</span>
      <span style="color: #f92672">-b</span> broker:29092                   <span style="color: #ae81ff">\</span>
      <span style="color: #f92672">-r</span> http://schema-registry:8081    <span style="color: #ae81ff">\</span>
      <span style="color: #f92672">-s</span> <span style="color: #f8f8f2">key</span><span style="color: #f92672;font-weight: bold">=</span>s <span style="color: #f92672">-s</span> <span style="color: #f8f8f2">value</span><span style="color: #f92672;font-weight: bold">=</span>avro            <span style="color: #ae81ff">\</span>
      <span style="color: #f92672">-t</span> ibmmq-note-03                  <span style="color: #ae81ff">\</span>
      <span style="color: #f92672">-C</span> <span style="color: #f92672">-c1</span> <span style="color: #f92672">-o</span> beginning <span style="color: #f92672">-u</span> <span style="color: #f92672">-q</span> <span style="color: #f92672">-J</span> | <span style="color: #ae81ff">\</span>
    jq  <span style="color: #e6db74">&#39;.&#39;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #f8f8f2;background-color: #49483e"><code data-lang="javascript"><span style="color: #f8f8f2;background-color: #49483e">{</span>
  <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">topic</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">ibmmq-note-03</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
  <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">partition</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
  <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">offset</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #ae81ff">0</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
  <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">tstype</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">create</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
  <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">ts</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #ae81ff">1601894073400</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
  <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">broker</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
  <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">key</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">Struct{messageID=ID:414d5120514d3120202020202020202060e67a5f033a2924}</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
  <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">payload</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #f8f8f2;background-color: #49483e">{</span>
    <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">messageID</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">ID:414d5120514d3120202020202020202060e67a5f033a2924</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
    <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">messageType</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">text</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
    <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">timestamp</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #ae81ff">1601894073400</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
    <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">deliveryMode</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #ae81ff">1</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
    <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">properties</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #f8f8f2;background-color: #49483e">{</span>
      <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">JMS_IBM_Format</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #f8f8f2;background-color: #49483e">{</span>
        <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">propertyType</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">string</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
        <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">boolean</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #66d9ef;font-weight: bold">null</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
        <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">byte</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #66d9ef;font-weight: bold">null</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
        <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">short</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #66d9ef;font-weight: bold">null</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
        <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">integer</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #66d9ef;font-weight: bold">null</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
        <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">long</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #66d9ef;font-weight: bold">null</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
        <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">float</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #66d9ef;font-weight: bold">null</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
        <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">double</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #66d9ef;font-weight: bold">null</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
        <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">string</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #f8f8f2;background-color: #49483e">{</span>
          <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">string</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">MQSTR   </span><span style="color: #e6db74">&#34;</span>
        <span style="color: #f8f8f2;background-color: #49483e">}</span>
      <span style="color: #f8f8f2;background-color: #49483e">},</span>
    <span style="color: #960050;background-color: #1e0010">‚Ä¶</span>
    <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">map</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #66d9ef;font-weight: bold">null</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
    <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">text</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #f8f8f2;background-color: #49483e">{</span>
      <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">string</span><span style="color: #e6db74">&#34;</span><span style="color: #f8f8f2;background-color: #49483e">:</span> <span style="color: #e6db74">&#34;</span><span style="color: #e6db74">&lt;note&gt; &lt;to&gt;Tove&lt;/to&gt; &lt;from&gt;Jani&lt;/from&gt; &lt;heading&gt;Reminder 01&lt;/heading&gt; &lt;body&gt;Don&#39;t forget me this weekend!&lt;/body&gt; &lt;/note&gt;</span><span style="color: #e6db74">&#34;</span>
    <span style="color: #f8f8f2;background-color: #49483e">}</span>
  <span style="color: #f8f8f2;background-color: #49483e">}</span>
<span style="color: #f8f8f2;background-color: #49483e">}</span></code></pre>
</div>
</div>
<div class="paragraph">
<p>Observe that the <code>text</code> field is just a string, holding [what happens to be] XML.</p>
</div>
<div class="paragraph">
<p>You can use ksqlDB to work with the data, to an extent - although there‚Äôs currently no <a href="https://github.com/confluentinc/ksql/issues/6357">support for handing the XML</a>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #f8f8f2;background-color: #49483e"><code data-lang="sql"><span style="color: #66d9ef;font-weight: bold">SELECT</span> <span style="color: #f8f8f2">&#34;PROPERTIES&#34;</span><span style="color: #f8f8f2;background-color: #49483e">[</span><span style="color: #e6db74">&#39;JMSXAppID&#39;</span><span style="color: #f8f8f2;background-color: #49483e">]</span><span style="color: #f92672;font-weight: bold">-&gt;</span><span style="color: #f8f8f2;background-color: #49483e">STRING</span> <span style="color: #66d9ef;font-weight: bold">as</span> <span style="color: #f8f8f2;background-color: #49483e">JMSXAppID</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
       <span style="color: #f8f8f2">&#34;PROPERTIES&#34;</span><span style="color: #f8f8f2;background-color: #49483e">[</span><span style="color: #e6db74">&#39;JMS_IBM_PutTime&#39;</span><span style="color: #f8f8f2;background-color: #49483e">]</span><span style="color: #f92672;font-weight: bold">-&gt;</span><span style="color: #f8f8f2;background-color: #49483e">STRING</span> <span style="color: #66d9ef;font-weight: bold">as</span> <span style="color: #f8f8f2;background-color: #49483e">JMS_IBM_PutTime</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
       <span style="color: #f8f8f2">&#34;PROPERTIES&#34;</span><span style="color: #f8f8f2;background-color: #49483e">[</span><span style="color: #e6db74">&#39;JMSXDeliveryCount&#39;</span><span style="color: #f8f8f2;background-color: #49483e">]</span><span style="color: #f92672;font-weight: bold">-&gt;</span><span style="color: #f8f8f2">INTEGER</span> <span style="color: #66d9ef;font-weight: bold">as</span> <span style="color: #f8f8f2;background-color: #49483e">JMSXDeliveryCount</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
       <span style="color: #f8f8f2">&#34;PROPERTIES&#34;</span><span style="color: #f8f8f2;background-color: #49483e">[</span><span style="color: #e6db74">&#39;JMSXUserID&#39;</span><span style="color: #f8f8f2;background-color: #49483e">]</span><span style="color: #f92672;font-weight: bold">-&gt;</span><span style="color: #f8f8f2;background-color: #49483e">STRING</span> <span style="color: #66d9ef;font-weight: bold">as</span> <span style="color: #f8f8f2;background-color: #49483e">JMSXUserID</span><span style="color: #f8f8f2;background-color: #49483e">,</span>
       <span style="color: #f8f8f2">text</span>
  <span style="color: #66d9ef;font-weight: bold">FROM</span> <span style="color: #f8f8f2;background-color: #49483e">IBMMQ_SOURCE</span>
  <span style="color: #f8f8f2;background-color: #49483e">EMIT</span> <span style="color: #f8f8f2;background-color: #49483e">CHANGES</span><span style="color: #f8f8f2;background-color: #49483e">;</span></code></pre>
</div>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="color: #f8f8f2;background-color: #49483e"><code data-lang="bash">+-----------+-----------------+-------------------+------------+------------------------------------+
|JMSXAPPID  |JMS_IBM_PUTTIME  |JMSXDELIVERYCOUNT  |JMSXUSERID  |TEXT                                |
+-----------+-----------------+-------------------+------------+------------------------------------+
|amqsput    |10302905         |1                  |mqm         |&lt;note&gt; &lt;to&gt;Jani&lt;/to&gt; &lt;from&gt;Tove&lt;/fro|
|           |                 |                   |            |m&gt; &lt;heading&gt;Reminder 02&lt;/heading&gt; &lt;b|
|           |                 |                   |            |ody&gt;Of course I won<span style="color: #e6db74">&#39;t!&lt;/body&gt; &lt;/note|
|           |                 |                   |            |&gt;                                   |
|amqsput    |10302905         |1                  |mqm         |&lt;note&gt; &lt;to&gt;Tove&lt;/to&gt; &lt;from&gt;Jani&lt;/fro|
|           |                 |                   |            |m&gt; &lt;heading&gt;Reminder 03&lt;/heading&gt; &lt;b|
|           |                 |                   |            |ody&gt;Where are you?&lt;/body&gt; &lt;/note&gt;   |</span></code></pre>
</div>
</div>
</div>
</div>
	<hr>
	<div class="giscus-container">
		<script src="https://giscus.app/client.js"
				data-repo="rmoff/rmoff-blog"
				data-repo-id="MDEwOlJlcG9zaXRvcnkxNTE3NDg2MTE="
				data-category="Announcements"
				data-category-id="DIC_kwDOCQuAA84CvP5T"
				data-mapping="pathname"
				data-strict="1"
				data-reactions-enabled="1"
				data-emit-metadata="0"
				data-input-position="bottom"
				data-theme="light"
				data-lang="en"
				crossorigin="anonymous"
				async>
		</script>
	</div>
</article>
      </main>
    
      
      <div class="docs-toc">
        <ul class="nav toc-top">
          <li><a href="#" id="back_to_top" class="docs-toc-title">On this page</a></li>
        </ul>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#_loading_some_test_data_onto_ibm_mq">Loading some test data onto IBM MQ</a></li>
    <li><a href="#_streaming_from_ibm_mq_to_kafka_and_translating_the_xml_messages">Streaming from IBM MQ to Kafka and translating the XML messages</a></li>
    <li><a href="#_streaming_the_data_from_kafka_to_mongodb">Streaming the data from Kafka to MongoDB</a></li>
    <li><a href="#_what_if_my_datas_not_in_xml_what_if_we_want_other_fields_from_the_payload">What if my data‚Äôs not in XML? What if we want other fields from the payload?</a></li>
  </ul>
</nav>
      </div>
      
    
    </div>
  </div>
</div>


		</main>

		

		
		<footer class="site-footer hide-print" role="contentinfo">
			<span>&copy; 2026 </span>
		</footer>
		

		
	</body>
</html>
