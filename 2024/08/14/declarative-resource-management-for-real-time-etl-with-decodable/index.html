<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link rel="preconnect" href="https://cdnjs.cloudflare.com">
		<link rel="preconnect" href="https://cdn.jsdelivr.net">
		<link rel="preload" as="image" href="https://rmoff.net/images/2024/08/declarative-resource-management.webp" >
		
		<title>Declarative Resource Management for Real-time ETL with Decodable</title>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="https://rmoff.net/index.xml">
		<link rel="canonical" href="https://rmoff.net/2024/08/14/declarative-resource-management-for-real-time-etl-with-decodable/">
		
		
		
		

		
		<meta property="og:title" content="Declarative Resource Management for Real-time ETL with Decodable" />
		<meta property="og:type" content="article" />
		<meta property="og:image" content="https://rmoff.net/images/2024/08/declarative-resource-management.webp" />
		<meta property="og:description" content="" />
		<meta property="og:url" content="https://rmoff.net/2024/08/14/declarative-resource-management-for-real-time-etl-with-decodable/" />
		<meta property="og:site_name" content="Declarative Resource Management for Real-time ETL with Decodable" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:site" content="@" />


		
		<link rel="stylesheet" href="https://rmoff.net/css/tachyons.min.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/story.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/descartes.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/toc.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/retro-cards.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/custom.css" />
		
		
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" media="print" onload="this.media='all'">
		<noscript><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"></noscript>
		
		<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Domine:wght@400;500;600;700&family=Quattrocento+Sans:ital,wght@0,400;0,700;1,400;1,700&family=Quattrocento:wght@400;700&family=Spectral:ital,wght@0,400;0,700;1,400;1,700&display=swap">
		<link href="https://fonts.googleapis.com/css2?family=Domine:wght@400;500;600;700&family=Quattrocento+Sans:ital,wght@0,400;0,700;1,400;1,700&family=Quattrocento:wght@400;700&family=Spectral:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
		<noscript><link href="https://fonts.googleapis.com/css2?family=Domine:wght@400;500;600;700&family=Quattrocento+Sans:ital,wght@0,400;0,700;1,400;1,700&family=Quattrocento:wght@400;700&family=Spectral:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet"></noscript>
		
		
		<script>
			!function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init capture register register_once register_for_session unregister unregister_for_session getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey getNextSurveyStep identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty createPersonProfile opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing debug".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
            posthog.init('phc_93NEP79Ju4xqXYWXnoLbr4HMW0Iaepj1BGOVoEXYX6P',{api_host:'https://eu.i.posthog.com', person_profiles: 'identified_only' 
                })
		</script>
		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		
		<script src="https://rmoff.net/js/story.js"></script>
		<script src="https://rmoff.net/js/toc.js"></script>
		<script src="https://rmoff.net/js/medium-mirror.js"></script>

	</head>
	<body class="ma0 bg-white section-post page-kind-page is-page-true ">
		
		
		<header class="cover bg-top header-wrapper" style="background-image: url('https://rmoff.net/images/2024/08/declarative-resource-management.webp'); background-position: center;">
			<div class="bg-black-30 bb bt">

				
				
				
				<div class="glass-nav hide-print">
					<nav class="sans-serif border-box pa3 ph5-l">
						<a href="https://rmoff.net/" title="Home">
							<img
								src="https://rmoff.net/img/logo.jpg"
								class="w2 h2 br-100"
								alt="rmoff&#39;s random ramblings"
							/>
						</a>
						<div class="fr h2 pv2 tr">
							<a class="icon-link-small" href="https://bsky.app/profile/rmoff.net"><i class="fa-brands fa-bluesky"></i></a>
							<a class="icon-link-small" href="https://twitter.com/rmoff/"><i class="fa-brands fa-x-twitter"></i></a>
							<a class="icon-link-small" href="https://github.com/rmoff/"><i class="fab fa-github-square"></i></a>
							<a class="icon-link-small" href="https://talks.rmoff.net"><i class="fa-solid fa-chalkboard"></i></a>
							<a class="icon-link-small" href="https://www.youtube.com/c/rmoff"><i class="fab fa-youtube-square"></i></a>
							<a class="icon-link-small" href="https://www.linkedin.com/in/robinmoffatt/"><i class="fab fa-linkedin"></i></a>
							<a class="icon-link-small" href="https://rmoff.net/index.xml" title="RSS Feed"><i class="fas fa-rss"></i></a>
							<a class="icon-link-small" href="https://rmoff.net/search/" title="Search"><i class="fas fa-search"></i></a>
						</div>
					</nav>
				</div>
				

				
				
				<div id="hdr" class="tc-l pv3-ns pv4-l pv2 ph3 ph4-ns">
					<div class="title-box">
						<h1 class="near-white f2 fw3 mb2 mt0 lh-title">
							<span class="terminal-title">Declarative Resource Management for Real-time ETL with Decodable<span class="terminal-cursor"></span></span>
						</h1>
						<p class="title-subtitle">
							
								Published
								<time datetime="2024-08-14T00:00:00Z">Aug 14, 2024</time>
								<span class="display-print">by </span>
								 in <a href="https://rmoff.net/categories/decodable">Decodable</a>
								<span class="display-print">at https://rmoff.net/2024/08/14/declarative-resource-management-for-real-time-etl-with-decodable/</span>
							
						</p>
					</div>
				</div>
				

				
				
				
				<div class="w-100 cf hide-print">
					<a class="fr f6 ma0 pa2 link white-50 dim fas fa-camera" href="https://bsky.app/profile/rmoff.net" title="Photo Credit"></a>
				</div>
				
				

			</div>
		</header>
		
		<main role="main">
		
<div class="container-fluid docs">
  <div class="row">
    <main class="docs-content" role="main">

<article class="article" data-pagefind-body>
	<img data-pagefind-meta="image[src]" src="https://rmoff.net/images/2024/08/declarative-resource-management.webp" style="display:none" alt="">
	<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This post originally appeared on the <a href="https://www.decodable.co/blog/declarative-resource-management">Decodable blog</a>.
</td>
</tr>
</tbody></table>
</div>
<div class="paragraph">
<p>So you‚Äôve built your first real-time ETL pipeline with Decodable: congratulations!
Now what?</p>
</div>
<div class="paragraph">
<p>Well now comes the bit that those cool kids over in the SRE world like to call ‚ÄúGitOps,‚Äù ‚ÄúInfrastructure as Code‚Äù (IaC), or will talk about ‚Äúshift left.‚Äù In more formalised terms, it‚Äôs about being a grown-up and adopting good practices of Software Development Lifecycle (SDLC).
This is all about taking what you‚Äôve built and handling it as we would with any other software artifact, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>putting it in source control</p>
</li>
<li>
<p>optionally, continuous integration (CI) to the main development environment</p>
</li>
<li>
<p>optionally, continuous deployment (CD) to production</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This is where declarative resource management comes in.
A core part of Decodable CLIs capabilities, it takes the approach of <em>declaring</em> in a YAML document the resources that should be present, and Decodable figures out how to make it so.
Contrast this to <em>imperatively</em>, in which you are responsible for specifying each resource and orchestrating the order of deployment.</p>
</div>
<div class="paragraph">
<p>For example, to create a sink connection, you‚Äôd need the stream from which it reads to exist first.
In a declarative world, you create a YAML document that specifies the stream and the sink, and Decodable figures out the rest.
Done imperatively, you wouldn‚Äôt be able to create the sink until the stream existed‚Äîwhich if you‚Äôre doing this by hand may be fine, but as soon as you start to try and script it the dependencies start to get complicated pretty quickly.</p>
</div>
<div class="paragraph">
<p>So as we‚Äôre going to see, declarative resource management enables you to tightly integrate Decodable with industry best-practice IaC/GitOps strategies.
It also has further uses, including:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Bulk administration tasks‚Äîsuch as removing all connections that match a particular pattern, perhaps that connect to a server that‚Äôs been decommissioned.</p>
</li>
<li>
<p>Replicating resources from one Decodable environment to another. This could be to template parallel sandbox environments for multiple developers, or to manually deploy changes to an environment if full CI/CD isn‚Äôt in place.</p>
</li>
<li>
<p>Ad-hoc development‚Äîsome developers will simply prefer to interact with Decodable declaratively rather than imperatively.</p>
</li>
</ul>
</div>
<div class="sect1">
<h2 id="_what_does_declarative_resource_management_look_like">What does declarative resource management look like?&nbsp;<a class="headline-hash" href="#_what_does_declarative_resource_management_look_like">üîó</a> </h2>
<div class="sectionbody">
<div class="paragraph">
<p>Let‚Äôs say we‚Äôd like to create a connection.
Since we‚Äôre thinking <em>declaratively</em> instead of <em>imperatively</em> we create a YAML file that defines the <em>state</em> that we‚Äôd like our Decodable account to be in:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">---
kind: connection
metadata:
    name: datagen-envoy-01
    description: &#34;An example of how neat declarative resource management is :)&#34;
spec_version: v1
spec:
    connector: datagen
    type: source
    stream_name: envoy
    schema_v2:
        fields:
            - kind: physical
              name: message
              type: STRING
        constraints: {}
    properties:
        delay: &#34;1000&#34;
        format: json
        data.type: envoy
---
kind: stream
metadata:
    name: envoy
spec_version: v1
spec:
    schema_v2:
        fields:
            - kind: physical
              name: message
              type: STRING</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we <em>apply</em> this resource definition:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">$ decodable apply datagen01.yaml
---
kind: stream
name: envoy
id: bc1934c6
result: unchanged
---
kind: connection
name: datagen-envoy-01
id: a2c30b8c
result: created</code></pre>
</div>
</div>
<div class="paragraph">
<p>And thus it is so:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">‚ùØ decodable connection list
id        name                               connector     type    state    create time           update time
a2c30b8c  datagen-envoy-01                   datagen       source  STOPPED  2024-07-25T09:24:32Z  2024-07-25T09:24:32Z</code></pre>
</div>
</div>
<div class="paragraph">
<p>We can see the same thing through the Web UI, if you prefer:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/2024/08/6717dbf782a396e17c578916_6702ad654ba82bb734df7cb6_66b6977a2d7c79ba6e261574_AD_4nXcdWIPXxHmaJLI6Gqg3qjCEjskB0sDknv-lplvcUouJIQtXa6OfbN88_x8RFAEAWv52hUxtRUWsf6MSWI4tMqJAJtZCMJIgtJFuOqa4U3BbFKRByiN8tshvLNeOKPGCwUQq7tBh-zpOPoieiogvcu2be4JH.webp" alt="6717dbf782a396e17c578916 6702ad654ba82bb734df7cb6 66b6977a2d7c79ba6e261574 AD 4nXcdWIPXxHmaJLI6Gqg3qjCEjskB0sDknv lplvcUouJIQtXa6OfbN88 x8RFAEAWv52hUxtRUWsf6MSWI4tMqJAJtZCMJIgtJFuOqa4U3BbFKRByiN8tshvLNeOKPGCwUQq7tBh zpOPoieiogvcu2be4JH"/>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_you_say_tomato_i_say_potato">üçÖ You say tomato, I say potato? ü•î&nbsp;<a class="headline-hash" href="#_you_say_tomato_i_say_potato">üîó</a> </h2>
<div class="sectionbody">
<div class="paragraph">
<p>So now contrast the above to the imperative approach.
Here we tell Decodable <em>what to do</em>.
From the CLI this would be to run a <code>decodable connection create [‚Ä¶]</code> command.
Pretty much the same thing?
Well, no.
Because when we run this we see the problem straight away:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">$ decodable connection create \
      --name datagen-envoy-01 \
      --type source           \
      --connector datagen     \
      --prop delay=500        \
      --prop format=json      \
      --prop data.type=envoy  \
      --field message=&#34;STRING&#34;
Error: 409: Resource name [datagen-envoy-01] is already in use by another resource of the same type</code></pre>
</div>
</div>
<div class="paragraph">
<p>Because we‚Äôve said <em>do this thing</em>, the Decodable CLI has gone and created the connection.
Or rather, tried to‚Äîand failed, because it exists already (since we already created it above).</p>
</div>
<div class="paragraph">
<p>If this was part of a deployment script we‚Äôd now have a failure to deal with.
Did we expect the connection to exist?
Are we trying to update it and need to delete it first?
What if it‚Äôs already running?
All of this would fall to us to figure out and code around for the different eventualities.
Instead, by working declaratively, we‚Äôre instead saying <em>we want this thing to be in this state</em> and Decodable then figures out how to make it so.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/2024/08/66b6977a82c940b3869f3cd6_AD_4nXcbDVOcQk0EQS2hTmZJ812klCZ9-ULxKNUREIBOpKaZTCmfw2fg74q3FHGUUfXZ02GX0f-QDqbAdiwWGp4g0EUnQ0rLYunmsM0eFOg4afxOLGNsFZkKbPo2oO-vyrSGTqNDLl7rXTOp-l0RfA1PFHy4boAU.gif" alt="66b6977a82c940b3869f3cd6 AD 4nXcbDVOcQk0EQS2hTmZJ812klCZ9 ULxKNUREIBOpKaZTCmfw2fg74q3FHGUUfXZ02GX0f QDqbAdiwWGp4g0EUnQ0rLYunmsM0eFOg4afxOLGNsFZkKbPo2oO vyrSGTqNDLl7rXTOp l0RfA1PFHy4boAU"/>
</div>
</div>
<div class="paragraph">
<p>This may seem somewhat contrived for a single connection‚Äîbut you‚Äôll very quickly see how it becomes not just beneficial, but <em>essential</em>.</p>
</div>
<div class="paragraph">
<p>A good example of this difference is making a change to an existing connection.
The connection that we created uses a  <a href="https://docs.decodable.co/connect/source/data-generator.html">datagen connector</a> , with configuration telling it to simulate  <a href="https://www.envoyproxy.io/docs/envoy/latest/configuration/observability/access_log/usage#default-format-string">Envoy access logs</a>  generated every 500 milliseconds._
_Let‚Äôs say we want to change that interval to 1000 milliseconds.</p>
</div>
<div class="paragraph">
<p>Done declaratively, we update the value for delay in our <code>datagen01.yaml</code> file.
Since we just dealing with text files, we can even just express this as a diff:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">@@ -15,6 +15,6 @@ spec:
type: STRING
constraints: {}
properties:
- delay: &#34;500&#34;
+ delay: &#34;1000&#34;
format: json
data.type: envoy</code></pre>
</div>
</div>
<div class="paragraph">
<p>and then we <em>apply</em> the file again, just as before:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">$ decodable apply connection01.yaml
---
kind: stream
name: envoy
id: bc1934c6
result: unchanged
---
kind: connection
name: datagen-envoy-01
id: a2c30b8c
result: updated</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note that it‚Äôs exactly the same command that we ran before.</p>
</div>
<div class="paragraph">
<p>If we want to do this imperatively, we need to do this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell"># See if the connection already exists
$ decodable connection list | grep datagen-envoy-01
a2c30b8c  datagen-envoy-01                   datagen       source  STOPPED  2024-07-25T09:24:32Z  2024-07-25T09:43:24Z

# Get the id of the connection
$ id=$(decodable connection list | grep datagen-envoy-01 | cut -d &#39; &#39; -f 1) &amp;&amp; echo $id
a2c30b8c

# Delete the connection
$ decodable connection delete $id
Deleted connection a2c30b8c

# Recreate the connection with the changed interval value
$ decodable connection create \
      --name datagen-envoy-01 \
      --type source           \
      --connector datagen     \
      --prop delay=1000       \
      --prop format=json      \
      --prop data.type=envoy  \
      --field message=&#34;STRING&#34;
Created connection datagen-envoy-01 (4c7c2c7d)</code></pre>
</div>
</div>
<div class="paragraph">
<p>‚Ä¶and that‚Äôs before we get onto any kind of error handling, logic branching (we‚Äôre assuming that the connection does exist, but if it doesn‚Äôt we need to skip the deletion, etc), execution control (for example, we can‚Äôt delete a running connection, so we‚Äôd have to stop it first).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_storing_decodable_resources_in_source_control">Storing Decodable resources in source control&nbsp;<a class="headline-hash" href="#_storing_decodable_resources_in_source_control">üîó</a> </h2>
<div class="sectionbody">
<div class="paragraph">
<p>You may have spotted that the YAML file we created above to define the connection is perfectly suited to storing in source control.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/2024/08/6717dbfe82a396e17c5789c5_6702ad654ba82bb734df7cbd_66b6977bfe009ba065241c30_AD_4nXdkT4xf1jkf13GHfJMauqnDY5euzxJKZ9OH3z-2yRJPAv_W0yaVVSTQBtjUurIp5AUQtcQce8fZYx390ryIumH0oMbt-6tm_6A34lo2Luf_ZbX78IQb_wkktVVmkV2dzSy196thksqLR85modAb3tuwVFs.webp" alt="6717dbfe82a396e17c5789c5 6702ad654ba82bb734df7cbd 66b6977bfe009ba065241c30 AD 4nXdkT4xf1jkf13GHfJMauqnDY5euzxJKZ9OH3z 2yRJPAv W0yaVVSTQBtjUurIp5AUQtcQce8fZYx390ryIumH0oMbt 6tm 6A34lo2Luf ZbX78IQb wkktVVmkV2dzSy196thksqLR85modAb3tuwVFs"/>
</div>
</div>
<div class="paragraph">
<p>Just as any software engineer worth their salt these days wouldn‚Äôt dream of not storing their code in a source control tool such as git, the same should be true in the world of data engineering.
The definition of pipelines and connections is our version of ‚Äòcode‚Äô, and being able to store it in source control is important.
It‚Äôs part of a broader adoption of Infrastructure as Code (IaC), with popular examples including Terraform, and Kubernetes‚Äô <code>kubectl</code> tool.</p>
</div>
<div class="paragraph">
<p>How you curate your resources is a matter of personal preference and organizational standards.
You might decide that the connection and its stream are one logical unit and store it as such (as shown in the example above):</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">git add datagen01.yaml
git commit -m &#34;Datagen connection for envoy, plus envoy stream&#34;</code></pre>
</div>
</div>
<div class="paragraph">
<p>You could alternatively split resources into individual files, which would make a git diff easier to read particularly with a larger number of objects:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">git add c_datagen-envoy-01.yaml
git commit -m &#34;Datagen envoy connection&#34;
git add s_envoy.yaml
git commit -m &#34;Envoy stream&#34;</code></pre>
</div>
</div>
<div class="paragraph">
<p>Or put different resources in their own folders:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">$ tree .
.
‚îú‚îÄ‚îÄ connection
|   ‚îî‚îÄ‚îÄ c_datagen-envoy-01.yaml
‚îî‚îÄ‚îÄ stream
    ‚îî‚îÄ‚îÄ s_envoy.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>The Decodable CLI will take one or more yaml files as input, so however you arrange them, the declarative resource management remains the same in use:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell"># Individual resource files
decodable apply c_datagen-envoy-01.yaml s_envoy.yaml
# Resource folders
decodable apply connection/* stream/*</code></pre>
</div>
</div>
<div class="paragraph">
<p><strong>Resources in Decodable</strong></p>
</div>
<div class="paragraph">
<p>If you‚Äôre used to using Decodable through the web interface you may not have come across the concept of <em>resource types</em> before, or given them much thought.
When working with declarative resource management in Decodable it‚Äôs important to understand the four resource types and how they interact:
* Streams - unbounded series of data, similar in concept to a topic in Apache Kafka
* Connections - source or sink for getting data from and to external systems
* these write to, or read from, streams
* read secrets for authentication to external systems</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Pipelines - transform data. Can be written in SQL or as Flink jobs (known as Custom Pipelines)</p>
</li>
<li>
<p>these write to, or read from, streams</p>
</li>
<li>
<p>Secrets - hold sensitive values such as passwords</p>
</li>
<li>
<p>used in connections (and also available to Custom Pipelines through the  <a href="https://docs.decodable.co/api/pipeline-sdk.html">Decodable SDK</a> )</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_handling_secrets">Handling secrets&nbsp;<a class="headline-hash" href="#_handling_secrets">üîó</a> </h2>
<div class="sectionbody">
<div class="paragraph">
<p>There‚Äôs one important part that we‚Äôve not covered yet that‚Äôs going to be relevant here, and that‚Äôs how <strong>secrets</strong> are dealt with.
These are used to store authentication details that are used by connections and pipelines.
Secrets are useful for two key reasons: they avoid having to hard-code sensitive information, and they enable seamless movement between environments since the authentication details will (hopefully) be different.</p>
</div>
<div class="paragraph">
<p>Secrets are a resource  <a href="https://docs.decodable.co/declarative/definitions.html#secret">defined in YAML</a>  just like a connection, but they have a special way of specifying their value.
You can provide the value as a reference to an environment variable, or the contents of a file.
You can also hardcode it‚Ä¶but you almost certainly don‚Äôt want to do that!</p>
</div>
<div class="paragraph">
<p>Here‚Äôs an example of a snippet of a connection resource definition referencing a secret:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">---
kind: connection
metadata:
    name: customers-source
spec_version: v1
spec:
    connector: postgres-cdc
    type: source
    properties:
        hostname: my-pg-host.acme-corp.com
        username: etl_ro_user
        password: etl-ro-secret
[‚Ä¶]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Whilst <code>etl_ro_user</code> is the literal value of the user that will authenticate to Postgres (in this example), <code>etl-ro-secret</code> is a reference to a secret of that name.
Its definition might look like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">---
kind: secret
metadata:
    name: etl-ro-secret
spec_version: v1
spec:
    value_env_var: ETL_PW</code></pre>
</div>
</div>
<div class="paragraph">
<p>When this is used, the Decodable CLI will fetch the value of the environment variable <code>ETL_PW</code> and set this as the secret in Decodable.
Here‚Äôs what it looks like in action:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell"># With no environment variable set, the apply command will fail
$ echo $ETL_PW

$ decodable apply etl-ro-secret.yaml
Error: secret [etl-ro-secret] has spec.value_env_var [ETL_PW] but that environment variable is not set

# Set a value for the environment variable
$ export ETL_PW=hunter2
$ decodable apply etl-ro-secret.yaml
---
kind: secret
name: etl-ro-secret
id: 3554ef3b
result: created
‚Ä¢ Wrote plaintext values for secret IDs: [3554ef3b]</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_cicd">CI/CD&nbsp;<a class="headline-hash" href="#_cicd">üîó</a> </h2>
<div class="sectionbody">
<div class="paragraph">
<p>With our code in source control, the next step on our GitOps journey is to automate its deployment.
The Decodable CLI can be  <a href="https://docs.decodable.co/cli/integrate-with-github-actions.html">run as part of a GitHub Actions workflow</a> .
Common patterns that you might look to adopt here would be:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Staging/Integration</strong>: Commit the resource YAML files in a feature branch. When you merge this into the shared development branch of your repository a workflow runs to deploy the resulting set of resources to a shared development or staging environment for integration/smoke testing.</p>
</li>
<li>
<p><strong>Production release</strong> When you merge into the production branch, a workflow runs to update the production Decodable environment to reflect the resources defined in the production branch of source control.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/2024/08/6717dbfb82a396e17c578988_6702ad654ba82bb734df7cc0_66b6977a6fd0942d524b096c_AD_4nXfxMY8MlckBYPL9bTE_mxX4tmAAZGrcImlW98282PyJpwE56mpYpFbFjty7cIHKTzv8Ks0Mdyn_U14PIKTL8SiwRL1jdqqEhiV61cApz5j_HJWgv_8eLFY8kAtOmBkwOzxQH3fGiIOfqStoRceT6ZA3KsWv.webp" alt="6717dbfb82a396e17c578988 6702ad654ba82bb734df7cc0 66b6977a6fd0942d524b096c AD 4nXfxMY8MlckBYPL9bTE mxX4tmAAZGrcImlW98282PyJpwE56mpYpFbFjty7cIHKTzv8Ks0Mdyn U14PIKTL8SiwRL1jdqqEhiV61cApz5j HJWgv 8eLFY8kAtOmBkwOzxQH3fGiIOfqStoRceT6ZA3KsWv"/>
</div>
</div>
<div class="paragraph">
<p>A workflow for deployment to production might look something like this:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-yaml" data-lang="yaml">name: Deploy Decodable resources
on:
  push:
    branches:
      - main
    paths:
      - &#39;decodable/**&#39; # only trigger if changes have been made under the decodable folder
jobs:
  apply_decodable_resources:
    name: Apply Decodable Resources
    runs-on: ubuntu-22.04
    steps:
      - name: Install dependencies
        run: |
          apt-get update &amp;&amp; apt-get install -y curl
      - name: Generate the authentication token for Decodable CLI
        env:
          DECODABLE_CLI_CLIENT_ID:     ${{ secrets.DECODABLE_CLI_CLIENT_ID }}
          DECODABLE_CLI_CLIENT_SECRET: ${{ secrets.DECODABLE_CLI_CLIENT_SECRET }}
        # See https://docs.decodable.co/cli/integrate-with-github-actions.html
        run: ./store-auth.sh
      - name: Checkout repository
        id: checkout_repo
        uses: actions/checkout@v4
      - name: Install Decodable CLI
        run: |
          curl https://releases.decodable.co/decodable-cli/linux/amd64/decodable-cli-linux-amd64-1.17.0.tar.gz -O
          tar xf decodable-cli-linux-amd64-1.17.0.tar.gz
          mv decodable-cli-linux-amd64-1.17.0/bin/decodable /usr/local/bin/
      - name: Apply all the resources under the decodable folder
        env:
          ETL_PW: ${{ secrets.ETL_PW }}
        run: |
          find ./decodable -type f \( -name &#34;*.yml&#34; -o -name &#34;*.yaml&#34; \) -print0 | \
          xargs -0 decodable apply</code></pre>
</div>
</div>
<div class="paragraph">
<p>This uses the approach  <a href="https://docs.decodable.co/cli/integrate-with-github-actions.html">described in the documentation</a>  to configure authentication for your Decodable account, and then invokes <code>decodable apply</code> with every YAML file under <code>./decodable</code> as an argument.
The value for secrets (just one shown here, called <code>ETL_PW</code>) is set via an environment variable from a  <a href="https://docs.github.com/en/actions/security-guides/using-secrets-in-github-actions">GitHub secret</a> .</p>
</div>
<div class="paragraph">
<p>The excellent thing about declarative resource management is that if nothing has changed in the resource definition then no change will be made to the resource on Decodable.
This means that you can pass the whole set of resource definitions without worry about them getting dropped and recreated, because they‚Äôre simply left alone unless there is a change to make.
For example:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">$ find declarative -type f \( -name &#34;*.yml&#34; -o -name &#34;*.yaml&#34; \) -print0 | \
    xargs -0 decodable apply
---
kind: stream
name: envoy
id: bc1934c6
result: created
---
kind: connection
name: datagen-envoy-01
id: 4c7c2c7d
result: created
---
kind: secret
name: etl-ro-secret
id: 3554ef3b
result: created</code></pre>
</div>
</div>
<div class="paragraph">
<p>It‚Äôs also worth pointing out that the execution intent is also part of the resource definition.
What‚Äôs that mean?
It means that the execution state of a connection or pipeline‚Äîwhether it should be active, and the task size and count to run the job if so‚Äîis dictated through the declarative process.
After applying a set of YAML files, resources that were running and should be will still be running.
Those that aren‚Äôt that should be, perhaps if they‚Äôve just been created, will then be run.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_creating_yaml_files">Creating YAML files&nbsp;<a class="headline-hash" href="#_creating_yaml_files">üîó</a> </h2>
<div class="sectionbody">
<div class="paragraph">
<p>So far, I‚Äôve shown you a lot of existing YAML files and how these can be used to declare the resources that should exist on the target Decodable account.
But how are these YAML files created?</p>
</div>
<div class="paragraph">
<p>One option is to lovingly craft them by hand, following the  <a href="https://docs.decodable.co/declarative/definitions.html">documented spec</a> .
That‚Äôs fine if writing raw YAML is your thing.
Quite possibly though, you‚Äôll want to get the definition of <em>existing</em> resources on your Decodable account.
This could be so that you can then modify it to suit the definition of a new resource (and it‚Äôs quicker than writing it from scratch).
But this is also a great way to quickly get a dump of some, or all, your resources in a form that you can then put into source control (like we saw above).</p>
</div>
<div class="paragraph">
<p>+</p>
</div>
<div class="paragraph">
<p>+
This then provides a very efficient workflow of creating new resources: you first can define new connections and pipelines using the web UI, exploring and defining all their options, and then export them as a declarative resource, so you can put them into revision control, apply them in other environments, etc.</p>
</div>
<div class="paragraph">
<p>At its simplest invocation, the <code>decodable query</code> command returns <em>all</em> information about <em>all</em> resources:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">$ decodable query
---
kind: connection
metadata:
    name: datagen-envoy-01
    description: An example of how neat declarative resource management is :)
spec_version: v1
spec:
    connector: datagen
    type: source
    stream_name: envoy
    schema_v2:
        fields:
            - kind: physical
              name: message
              type: STRING
        constraints: {}
    properties:
        delay: &#34;1000&#34;
        format: json
        data.type: envoy
status:
    create_time: 2024-07-25T09:48:37.663+00:00
    update_time: 2024-07-25T13:49:48.482+00:00
    target_state: STOPPED
    actual_state: STOPPED
    requested_tasks: 1
    actual_tasks: 0
---
kind: connection
metadata:
    name: iceberg-basket_agg
    description: &#34;&#34;
spec_version: v1
[‚Ä¶]</code></pre>
</div>
</div>
<div class="paragraph">
<p>You‚Äôll notice a <code>status</code> field there‚Äîuseful for runtime details, but not if we‚Äôre putting it into source control.
The query command provides an option specifically for this: <code>--export:</code></p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">$ decodable query --export
---
kind: connection
metadata:
    name: datagen-envoy-01
    description: An example of how neat declarative resource management is :)
spec_version: v1
spec:
    connector: datagen
    type: source
    stream_name: envoy
    schema_v2:
        fields:
            - kind: physical
              name: message
              type: STRING
        constraints: {}
    properties:
        delay: &#34;1000&#34;
        format: json
        data.type: envoy
---
kind: connection
metadata:
    name: iceberg-basket_agg
    description: &#34;&#34;
spec_version: v1
[‚Ä¶]</code></pre>
</div>
</div>
<div class="paragraph">
<p>Since it‚Äôs YAML that‚Äôs output, you can just redirect this into a target file, and then you have a file ready to be run with <code>decodable apply</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">decodable query --export &gt; decodable-resources.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>What about if you don‚Äôt want all of the resources returned by the query?
A rich set of  <a href="https://docs.decodable.co/declarative/query.html#filter_examples">filter options</a>  is available, such as <code>--name</code>, <code>--kind</code>, and more:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">decodable query --name datagen-envoy-01
---
kind: connection
metadata:
    name: datagen-envoy-01
    description: An example of how neat declarative resource management is :)
spec_version: v1
spec:
    connector: datagen
    type: source
    stream_name: envoy
    schema_v2:
        fields:
            - kind: physical
              name: message
              type: STRING
        constraints: {}
    properties:
        delay: &#34;1000&#34;
        format: json
        data.type: envoy
status:
    create_time: 2024-07-25T09:48:37.663+00:00
    update_time: 2024-07-25T13:49:48.482+00:00
    target_state: STOPPED
    actual_state: STOPPED
    requested_tasks: 1
    actual_tasks: 0</code></pre>
</div>
</div>
<div class="paragraph">
<p>You can also do some  <a href="https://docs.decodable.co/declarative/query.html#yq">neat stuff using yq</a>  to post-process the YAML, giving you even more flexibility.
Here‚Äôs an example of getting the resource definitions for all connections that use the Kafka connector:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">decodable query --export --kind connection | \
    yq eval-all &#39;select(.spec.connector==&#34;kafka&#34;)&#39;</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_copying_resources_between_environments">Copying resources between environments&nbsp;<a class="headline-hash" href="#_copying_resources_between_environments">üîó</a> </h2>
<div class="sectionbody">
<div class="paragraph">
<p>It might have occurred to you by now that if the <code>decodable query</code> command returns YAML that‚Äôs consumable by <code>decodable apply</code>, this could be a nice way to copy resources between environments‚Äîand you‚Äôd be right!</p>
</div>
<div class="paragraph">
<p>You can configure  <a href="https://docs.decodable.co/cli/tips-and-tricks.html#using_multiple_profiles">multiple profiles</a>  in the Decodable CLI.
For each one, make sure you run a <code>decodable login</code>.
Let‚Äôs imagine my default profile is for my development environment, and I want to copy across some resources to the staging environment.
First up, I‚Äôll make sure I‚Äôm authentication to it:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">decodable login --profile staging</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now I can copy resources from my default profile to the staging one:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">decodable query --name datagen-envoy-01,envoy --export | \
    decodable apply - --profile staging
---
kind: stream
name: envoy
id: a0567f3e
result: created
---
kind: connection
name: datagen-envoy-01
id: cdf9dfb2
result: created</code></pre>
</div>
</div>
<div class="paragraph">
<p>Note the use of the ‚Äì to tell the apply command to read from <code>stdin</code>.
Now I have the connection and stream in my staging environment:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">decodable query --metadata-only --profile staging
---
kind: stream
metadata:
    name: envoy
---
kind: connection
metadata:
    name: datagen-envoy-01
    description: An example of how neat declarative resource management is :)</code></pre>
</div>
</div>
<div class="paragraph">
<p>Of course, it‚Äôd probably be better practice to write the resource YAML to a file that‚Äôs getting committed to source control, and from <em>there</em> applied to the target Decodable environment.
But for quick ad-hoc resource migration, this works just great.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_templating_resources">Templating Resources&nbsp;<a class="headline-hash" href="#_templating_resources">üîó</a> </h2>
<div class="sectionbody">
<div class="paragraph">
<p>Another advantage of declarative resource management in Decodable is that it makes it easy to use templating to apply many resources of similar but slightly varying definitions.
For example, you might have multiple Postgres databases which are logically identical but split across geographical locations.
You want to set up each one as a connection in Decodable.</p>
</div>
<div class="paragraph">
<p>One option is you copy and paste 98% of the same content each time and hard code a set of files that are almost-but-not-quite the same:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/2024/08/6717dc0082a396e17c578a15_6702ad654ba82bb734df7cc4_66b6977a628a4cd7eedf3bb9_AD_4nXcCLoHiWqS2pEZEjWo0CjlxUlKDU7969Rfn0OOy-Y7OB4DFUCxOz7f3V660o7fxwNComFXaZKEY-2Jy5yfINEOcWeqT-skz0wtdwwSyohEADk574zrjLRpMvq5gnBrO75GRfKDr2dSAHprgKDPs34qWyYH5.webp" alt="6717dc0082a396e17c578a15 6702ad654ba82bb734df7cc4 66b6977a628a4cd7eedf3bb9 AD 4nXcCLoHiWqS2pEZEjWo0CjlxUlKDU7969Rfn0OOy Y7OB4DFUCxOz7f3V660o7fxwNComFXaZKEY 2Jy5yfINEOcWeqT skz0wtdwwSyohEADk574zrjLRpMvq5gnBrO75GRfKDr2dSAHprgKDPs34qWyYH5"/>
</div>
</div>
<div class="paragraph">
<p>You now have a bunch of files to manage, all of which need updating if something changes.</p>
</div>
<div class="paragraph">
<p>The better option here is to template it and generate the YAML dynamically.
Tools that are commonly used for this include  <a href="https://jsonnet.org/">jsonnet</a>  and  <a href="https://kustomize.io/">kustomize</a> .
Here‚Äôs an example with jsonnet.
First we create the template connection in a function called <code>makeConnection</code>:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">local makeConnection(location) = {
 kind: &#34;connection&#34;,
 metadata: {
   name: &#34;pg-customers-source-&#34; + location,
   description: &#34;&#34;,
 },
 spec_version: &#34;v1&#34;,
 spec: {
   connector: &#34;postgres-cdc&#34;,
   type: &#34;source&#34;,
   stream_mappings: [
     {
       stream_name: &#34;customers&#34;,
       external_resource_specifier: {
         &#34;database-name&#34;: &#34;pg&#34;,
         &#34;schema-name&#34;: &#34;inventory&#34;,
         &#34;table-name&#34;: &#34;customers&#34;,
       },
     },
   ],
   properties: {
     hostname: &#34;location-&#34; + location + &#34;.acme-corp.com&#34;,
     password: &#34;location-&#34; + location + &#34;-pg-secret&#34;,
     port: &#34;5432&#34;,
     &#34;database-name&#34;: &#34;pg&#34;,
     &#34;decoding.plugin.name&#34;: &#34;pgoutput&#34;,
     username: &#34;etl-ro&#34;,
   },
 },
};</code></pre>
</div>
</div>
<div class="paragraph">
<p>and then in the same file invoke that function for the list of locations for which we want to create connections:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-json" data-lang="json">local locations = [
 &#34;london&#34;,
 &#34;leeds&#34;,
 &#34;leamington-spa&#34;,
 &#34;llandudno&#34;
];

std.manifestYamlStream([
 makeConnection(location)
 for location in locations
])</code></pre>
</div>
</div>
<div class="paragraph">
<p>Now we invoke jsonnet and pass the output through <code>yq</code> to format it as YAML:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">jsonnet -S store-connections.jsonnet | yq -P &gt; connections.yaml</code></pre>
</div>
</div>
<div class="paragraph">
<p>With that we have a file of connection resource definitions that we can use with <code>decodable apply</code>, in this case four different connections, one for each location, using a different hostname and connection name for each:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-shell" data-lang="shell">$ grep -E &#34;\sname|hostname&#34; connections.yaml


  name: pg-customers-source-london
    hostname: location-london.acme-corp.com
  name: pg-customers-source-leeds
    hostname: location-leeds.acme-corp.com
  name: pg-customers-source-leamington-spa
    hostname: location-leamington-spa.acme-corp.com
  name: pg-customers-source-llandudno
    hostname: location-llandudno.acme-corp.com</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_get_started_today">Get started today!&nbsp;<a class="headline-hash" href="#_get_started_today">üîó</a> </h2>
<div class="sectionbody">
<div class="paragraph">
<p>Declarative resource management in Decodable is, as you‚Äôve seen above, fantastically powerful.
Not only does it enable SDLC best-practices such as source control and GitOps, but comes with numerous other uses such as ad-hoc resource management, migration between environments, and even deleting resources.</p>
</div>
<div class="paragraph">
<p>You can find full details in  <a href="https://docs.decodable.co/declarative/overview.html">the documentation</a> .
<a href="https://app.decodable.co/-/accounts/create">Sign up with Decodable</a>  for free today to give it a try.</p>
</div>
</div>
</div>
	<hr>
	<div style="background-color: rgba(204, 234, 255, 0.25); margin-bottom:50px;margin-top:50px;padding: 20px; border-width: 2px; border-style: solid; border-color: darkorange;">
	
		<script src="https://giscus.app/client.js"
				data-repo="rmoff/rmoff-blog"
				data-repo-id="MDEwOlJlcG9zaXRvcnkxNTE3NDg2MTE="
				data-category="Announcements"
				data-category-id="DIC_kwDOCQuAA84CvP5T"
				data-mapping="pathname"
				data-strict="1"
				data-reactions-enabled="1"
				data-emit-metadata="0"
				data-input-position="bottom"
				data-theme="light"
				data-lang="en"
				crossorigin="anonymous"
				async>
		</script>
		
	</div>
		
				<div class="hide-print sans-serif f6 f5-l mt5 ph3 pb6 center nested-copy-line-height lh-copy nested-links mw-100 measure-wide" data-pagefind-ignore>
		<div class="about-the-author">
		
			
			
				
					<hr>
<p><img src="/images/2018/05/ksldn18-01.jpg" alt="Robin Moffatt"></p>
<p><a href="https://bsky.app/profile/rmoff.net"><b class="fa-brands fa-bluesky"></b></a>  <em>Robin Moffatt works on the DevRel team at Confluent. He likes writing about himself in the third person, eating good breakfasts, and drinking good beer.</em></p>

				
			
		
		</div>
		
	</div>

		

</article>
      </main>
    
      
      <div class="docs-toc">
        <ul class="nav toc-top">
          <li><a href="#" id="back_to_top" class="docs-toc-title">Contents</a></li>
        </ul>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#_what_does_declarative_resource_management_look_like">What does declarative resource management look like?</a></li>
    <li><a href="#_you_say_tomato_i_say_potato">üçÖ You say tomato, I say potato? ü•î</a></li>
    <li><a href="#_storing_decodable_resources_in_source_control">Storing Decodable resources in source control</a></li>
    <li><a href="#_handling_secrets">Handling secrets</a></li>
    <li><a href="#_cicd">CI/CD</a></li>
    <li><a href="#_creating_yaml_files">Creating YAML files</a></li>
    <li><a href="#_copying_resources_between_environments">Copying resources between environments</a></li>
    <li><a href="#_templating_resources">Templating Resources</a></li>
    <li><a href="#_get_started_today">Get started today!</a></li>
  </ul>
</nav>
      </div>
      
      <div class="toc-mobile-label">TABLE OF CONTENTS</div>
      
    
    </div>
  </div>
</div>


		</main>
		
		
		<footer class="hide-print sans-serif f6 fw1 bg-black near-white bottom-0 w-100 pa3" role="contentinfo">
			<p class="w-50 fr tr">
			<a class="no-underline near-white" href="https://github.com/xaprb/story"><img class="dib" title="Made with Hugo and Story" alt="Story logo" src="https://rmoff.net/img/story-logo-white.svg" style="width: 1.5rem; height: 1.5rem" /></a>
			</p>
			<p class="w-50 near-white">
				&copy; 2026 
			</p>
		</footer>
		
	</body>
</html>
