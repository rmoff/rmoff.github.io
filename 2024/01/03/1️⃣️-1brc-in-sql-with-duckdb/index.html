<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>1️⃣🐝🏎️🦆 (1BRC in SQL with DuckDB)</title>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="https://rmoff.net/index.xml">
		<link rel="canonical" href="https://rmoff.net/2024/01/03/1%EF%B8%8F%E2%83%A3%EF%B8%8F-1brc-in-sql-with-duckdb/">
		
		
		
		
		
		<meta property="og:title" content="1️⃣🐝🏎️🦆 (1BRC in SQL with DuckDB)" />
		<meta property="og:type" content="article" />
		<meta property="og:image" content="https://rmoff.net/images/2024/01/h_IMG_6977.webp" />
		<meta property="og:description" content="" />
		<meta property="og:url" content="https://rmoff.net/2024/01/03/1%EF%B8%8F%E2%83%A3%EF%B8%8F-1brc-in-sql-with-duckdb/" />
		<meta property="og:site_name" content="1️⃣🐝🏎️🦆 (1BRC in SQL with DuckDB)" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:site" content="@" />


		
		<link rel="stylesheet" href="https://rmoff.net/css/tachyons.min.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/story.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/descartes.css" />
		
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
		<link href="https://fonts.googleapis.com/css?family=Quattrocento+Sans:400,400i,700,700i|Quattrocento:400,700|Spectral:400,400i,700,700i&amp;subset=latin-ext" rel="stylesheet">
		

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		
		<script src="https://rmoff.net/js/story.js"></script>

	</head>
	<body class="ma0 bg-white section-post page-kind-page is-page-true ">
		
		<header class="cover bg-top" style="background-image: url('https://rmoff.net/images/2024/01/h_IMG_6977.webp'); background-position: center;">
			<div class="bg-black-30 bb bt">

				<nav class="hide-print sans-serif  border-box pa3 ph5-l">
					<a href="https://rmoff.net" title="Home">
						<img src="https://rmoff.net/img/logo.jpg" class="w2 h2 br-100" alt="rmoff&#39;s random ramblings" />
					</a>
					<div class="fr h2 pv2 tr">
						<a class="link f5 ml2 dim near-white" href="https://talks.rmoff.net/bio">about</a>
						<a class="link f5 ml2 dim near-white" href="https://talks.rmoff.net">talks</a>
						<a class="link f5 ml2 dim near-white" href="https://www.youtube.com/c/rmoff"><i class="fab fa-youtube-square"></i></a>
						<a class="link f5 ml2 dim near-white" href="https://data-folks.masto.host/@rmoff"><i class="fab fa-mastodon"></i></a>
						<a class="link f5 ml2 dim near-white" href="https://twitter.com/rmoff/"><i class="fab fa-twitter-square"></i></a>
						<a class="link f5 ml2 dim near-white" href="https://github.com/rmoff/"><i class="fab fa-github-square"></i></a>
						<a class="link f5 ml2 dim near-white" href="https://www.linkedin.com/in/robinmoffatt/"><i class="fab fa-linkedin"></i></a>
						<a class="link f5 ml2 dim near-white fas fa-rss-square" href="https://rmoff.net/index.xml" title="RSS Feed"></a>
						<a class="link f5 ml2 dim near-white fas fa-search" href="https://rmoff.net/search/" role="search" title="Search"></a>
					</div>
				</nav>

				<div id="hdr" class="tc-l pv4-ns pv5-l pv2 ph3 ph4-ns">
					<h1 class="near-white mt1-ns f2 fw3 mb0 mt0 lh-title">1️⃣🐝🏎️🦆 (1BRC in SQL with DuckDB)</h1>
					<h2 class="near-white mt3-l mb4-l fw1 f6 f3-l measure-wide-l center lh-copy mt2 mb3">
						
						
							
								Published
								<time datetime="2024-01-03T12:12:32Z">Jan 3, 2024</time>
								<span class="display-print">by </span>
								 in <a href="https://rmoff.net/categories/duckdb" class="no-underline category near-white dim">DuckDB</a>, <a href="https://rmoff.net/categories/1brc" class="no-underline category near-white dim">1BRC</a>
								<span class="display-print">at https://rmoff.net/2024/01/03/1%EF%B8%8F%E2%83%A3%EF%B8%8F-1brc-in-sql-with-duckdb/</span>
							
						
					</h2>
				</div>

				
				
				
				<div class="w-100 cf hide-print">
					<a class="fr f6 ma0 pa2 link white-50 dim fas fa-camera" href="https://twitter.com/rmoff/" title="Photo Credit"></a>
				</div>
				
				

			</div>
		</header>
		
		<main role="main">
		
<article class="center bg-white br-3 pv1 ph4 lh-copy f5 nested-links mw8">
	<p><strong>Why should the Java folk have all the fun?!</strong></p>
<p>My friend and colleague <a href="https://twitter.com/gunnarmorling/">Gunnar Morling</a> <a href="https://www.morling.dev/blog/one-billion-row-challenge/">launched a fun challenge</a> this week: how fast can you aggregate and summarise a billion rows of data? Cunningly named The One Billion Row Challenge (1BRC for short), it&rsquo;s aimed at Java coders to look at new features in the language and optimisation techniques.</p>
<p>Not being a Java coder myself, and seeing how the challenge has already unofficially spread to other communities <a href="https://www.reddit.com/r/rust/comments/18ws370/optimizing_a_one_billion_row_challenge_in_rust/">including Rust and Python</a> I thought I&rsquo;d join in the fun using what I know best: SQL.</p>
<h2 id="setup">Setup&nbsp;<a class="headline-hash" href="#setup">🔗</a> </h2>
<p><em>I&rsquo;m running this on my M1 Macbook.</em></p>
<ol>
<li>
<p>Fork <a href="https://github.com/gunnarmorling/1brc">the repository</a> and clone it locally</p>
</li>
<li>
<p>Make sure you&rsquo;ve got Java 21 (whether coding in it or not, you need it for generating the billion rows of data). I use <a href="https://sdkman.io/jdks">sdkman</a> because it&rsquo;s easy enough for even someone like me to use ;)</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ sdk install java 21.0.1-zulu
</span></span><span style="display:flex;"><span>$ sdk use java 21.0.1-zulu
</span></span></code></pre></div></li>
<li>
<p>Build the test data generator</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ./mvnw clean verify
</span></span></code></pre></div></li>
<li>
<p>Generate the test data—you can start smaller if you want by using a value other than 1B :)</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ./create_measurements.sh <span style="color:#666">1000000000</span>
</span></span></code></pre></div><p>This will take several minutes to run. Once done you&rsquo;ll have a 13G file to work with:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ ls -hl measurements.txt
</span></span><span style="display:flex;"><span>-rw-r--r--@ <span style="color:#666">1</span> rmoff  staff    13G  <span style="color:#666">3</span> Jan 11:36 measurements.txt
</span></span></code></pre></div></li>
<li>
<p>Make sure you&rsquo;ve got DuckDB installed - <code>brew install duckdb</code> is your friend if not.</p>
</li>
</ol>
<h2 id="load-the-data-into-duckdb">Load the data into DuckDB&nbsp;<a class="headline-hash" href="#load-the-data-into-duckdb">🔗</a> </h2>
<p>I&rsquo;ll start by showing you the steps that I went through to put this together, and then how to run it all in one go.</p>
<p>The first thing I did was read the CSV file into a DuckDB table. This is in-memory; whilst you can save it as a native DuckDB database I didn&rsquo;t since the reading of the CSV file is part of the timed challenge.</p>
<p>To get the CSV file into DuckDB I used the <a href="https://duckdb.org/docs/data/csv/overview"><code>read_csv_auto</code></a> function. Let&rsquo;s check that this works as expected:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="">🟡◗</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span><span style="color:#666">*</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>READ_CSV_AUTO(<span style="color:#ba2121">&#39;measurements.txt&#39;</span>)<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">LIMIT</span><span style="color:#bbb"> </span><span style="color:#666">5</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">┌──────────────────┬─────────┐</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb">     </span>column0<span style="color:#bbb">      </span><span style="">│</span><span style="color:#bbb"> </span>column1<span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb">     </span><span style="color:#008000">varchar</span><span style="color:#bbb">      </span><span style="">│</span><span style="color:#bbb"> </span>double<span style="color:#bbb">  </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">├──────────────────┼─────────┤</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Lodwar<span style="color:#bbb">           </span><span style="">│</span><span style="color:#bbb">    </span><span style="color:#666">44</span>.<span style="color:#666">8</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Lhasa<span style="color:#bbb">            </span><span style="">│</span><span style="color:#bbb">     </span><span style="color:#666">2</span>.<span style="color:#666">6</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Sokoto<span style="color:#bbb">           </span><span style="">│</span><span style="color:#bbb">    </span><span style="color:#666">18</span>.<span style="color:#666">2</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Moncton<span style="color:#bbb">          </span><span style="">│</span><span style="color:#bbb">    </span><span style="color:#666">-</span><span style="color:#666">6</span>.<span style="color:#666">2</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Lake<span style="color:#bbb"> </span>Havasu<span style="color:#bbb"> </span>City<span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">    </span><span style="color:#666">16</span>.<span style="color:#666">5</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">└──────────────────┴─────────┘</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>Note that DuckDB infers the datatypes correctly. We can provide some column names and be explicit about the data types by using the <code>columns</code> parameter of <code>READ_CSV</code>:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="">🟡◗</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span><span style="color:#666">*</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>READ_CSV(<span style="color:#ba2121">&#39;measurements.txt&#39;</span>,<span style="color:#bbb"> </span>header<span style="color:#666">=</span><span style="color:#008000;font-weight:bold">false</span>,<span style="color:#bbb"> </span>columns<span style="color:#666">=</span><span style="color:#bbb"> </span><span style="">{</span><span style="color:#ba2121">&#39;station_name&#39;</span>:<span style="color:#ba2121">&#39;VARCHAR&#39;</span>,<span style="color:#ba2121">&#39;measurement&#39;</span>:<span style="color:#ba2121">&#39;double&#39;</span><span style="">}</span>,<span style="color:#bbb"> </span>delim<span style="color:#666">=</span><span style="color:#ba2121">&#39;;&#39;</span>)<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">LIMIT</span><span style="color:#bbb"> </span><span style="color:#666">5</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">┌──────────────────┬─────────────┐</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb">   </span>station_name<span style="color:#bbb">   </span><span style="">│</span><span style="color:#bbb"> </span>measurement<span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb">     </span><span style="color:#008000">varchar</span><span style="color:#bbb">      </span><span style="">│</span><span style="color:#bbb">   </span>double<span style="color:#bbb">    </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">├──────────────────┼─────────────┤</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Lodwar<span style="color:#bbb">           </span><span style="">│</span><span style="color:#bbb">        </span><span style="color:#666">44</span>.<span style="color:#666">8</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Lhasa<span style="color:#bbb">            </span><span style="">│</span><span style="color:#bbb">         </span><span style="color:#666">2</span>.<span style="color:#666">6</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Sokoto<span style="color:#bbb">           </span><span style="">│</span><span style="color:#bbb">        </span><span style="color:#666">18</span>.<span style="color:#666">2</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Moncton<span style="color:#bbb">          </span><span style="">│</span><span style="color:#bbb">        </span><span style="color:#666">-</span><span style="color:#666">6</span>.<span style="color:#666">2</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Lake<span style="color:#bbb"> </span>Havasu<span style="color:#bbb"> </span>City<span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">        </span><span style="color:#666">16</span>.<span style="color:#666">5</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">└──────────────────┴─────────────┘</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>Let&rsquo;s get this loaded into a table so that we can work with it more easily:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="">🟡◗</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">CREATE</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">OR</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">REPLACE</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">TABLE</span><span style="color:#bbb"> </span>measurements<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#008000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span><span style="color:#666">*</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>READ_CSV(<span style="color:#ba2121">&#39;measurements.txt&#39;</span>,<span style="color:#bbb"> </span>header<span style="color:#666">=</span><span style="color:#008000;font-weight:bold">false</span>,<span style="color:#bbb"> </span>columns<span style="color:#666">=</span><span style="color:#bbb"> </span><span style="">{</span><span style="color:#ba2121">&#39;station_name&#39;</span>:<span style="color:#ba2121">&#39;VARCHAR&#39;</span>,<span style="color:#ba2121">&#39;measurement&#39;</span>:<span style="color:#ba2121">&#39;double&#39;</span><span style="">}</span>,<span style="color:#bbb"> </span>delim<span style="color:#666">=</span><span style="color:#ba2121">&#39;;&#39;</span>)<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">LIMIT</span><span style="color:#bbb"> </span><span style="color:#666">2048</span>;<span style="color:#bbb">
</span></span></span></code></pre></div><p><strong>NOTE</strong> I am still using <a href="https://duckdb.org/docs/sql/query_syntax/limit"><code>LIMIT</code></a> so that we don&rsquo;t jump into the 1B rows just yet whilst we figure things out. There&rsquo;s also <a href="https://duckdb.org/docs/sql/samples"><code>SAMPLE</code></a> but this reads the whole file first—nicer for accurate samples, but not so helpful when we just want <em>any</em> data so long as it&rsquo;s quick.</p>
<h2 id="perform-the-calculations">Perform the calculations&nbsp;<a class="headline-hash" href="#perform-the-calculations">🔗</a> </h2>
<p>Aggregates are the bread-and-butter of SQL, and are driven by the <a href="https://duckdb.org/docs/sql/query_syntax/groupby"><code>GROUP BY</code></a> clause:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="">🟡◗</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span>station_name,<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">           </span><span style="color:#008000;font-weight:bold">MIN</span>(measurement),<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">           </span><span style="color:#008000;font-weight:bold">AVG</span>(measurement),<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">           </span><span style="color:#008000;font-weight:bold">MAX</span>(measurement)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#008000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>measurements<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#008000;font-weight:bold">GROUP</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">BY</span><span style="color:#bbb"> </span>station_name<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#008000;font-weight:bold">LIMIT</span><span style="color:#bbb"> </span><span style="color:#666">5</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">┌──────────────┬──────────────────┬────────────────────┬──────────────────┐</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>station_name<span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">min</span>(measurement)<span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">  </span><span style="color:#008000;font-weight:bold">avg</span>(measurement)<span style="color:#bbb">  </span><span style="">│</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">max</span>(measurement)<span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb">   </span><span style="color:#008000">varchar</span><span style="color:#bbb">    </span><span style="">│</span><span style="color:#bbb">      </span>double<span style="color:#bbb">      </span><span style="">│</span><span style="color:#bbb">       </span>double<span style="color:#bbb">       </span><span style="">│</span><span style="color:#bbb">      </span>double<span style="color:#bbb">      </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">├──────────────┼──────────────────┼────────────────────┼──────────────────┤</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Lodwar<span style="color:#bbb">       </span><span style="">│</span><span style="color:#bbb">             </span><span style="color:#666">16</span>.<span style="color:#666">9</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb"> </span><span style="color:#666">31</span>.<span style="color:#666">933333333333334</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">             </span><span style="color:#666">44</span>.<span style="color:#666">8</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Chongqing<span style="color:#bbb">    </span><span style="">│</span><span style="color:#bbb">              </span><span style="color:#666">4</span>.<span style="color:#666">7</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">              </span><span style="color:#666">18</span>.<span style="color:#666">85</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">             </span><span style="color:#666">33</span>.<span style="color:#666">0</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Stockholm<span style="color:#bbb">    </span><span style="">│</span><span style="color:#bbb">             </span><span style="color:#666">-</span><span style="color:#666">0</span>.<span style="color:#666">1</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">  </span><span style="color:#666">8</span>.<span style="color:#666">116666666666667</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">             </span><span style="color:#666">18</span>.<span style="color:#666">1</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Zürich<span style="color:#bbb">       </span><span style="">│</span><span style="color:#bbb">              </span><span style="color:#666">8</span>.<span style="color:#666">1</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb"> </span><span style="color:#666">15</span>.<span style="color:#666">633333333333335</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">             </span><span style="color:#666">20</span>.<span style="color:#666">6</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Kampala<span style="color:#bbb">      </span><span style="">│</span><span style="color:#bbb">              </span><span style="color:#666">9</span>.<span style="color:#666">4</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">              </span><span style="color:#666">18</span>.<span style="color:#666">14</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">             </span><span style="color:#666">31</span>.<span style="color:#666">1</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">└──────────────┴──────────────────┴────────────────────┴──────────────────┘</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>Note the precision shown in the average column, and the 1BRC spec does say:</p>
<blockquote>
<p>rounded to one fractional digit</p>
</blockquote>
<p>so let&rsquo;s do this, and at the same time alias the calculated fields to useful names:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="">🟡◗</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span>station_name,<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">           </span><span style="color:#008000;font-weight:bold">MIN</span>(measurement)<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span>min_measurement,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">           </span><span style="color:#008000;font-weight:bold">CAST</span>(<span style="color:#008000;font-weight:bold">AVG</span>(measurement)<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span><span style="color:#008000">DECIMAL</span>(<span style="color:#666">8</span>,<span style="color:#666">1</span>))<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span>mean_measurement,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">           </span><span style="color:#008000;font-weight:bold">MAX</span>(measurement)<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span>max_measurement<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#008000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>measurements<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#008000;font-weight:bold">GROUP</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">BY</span><span style="color:#bbb"> </span>station_name<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#008000;font-weight:bold">LIMIT</span><span style="color:#bbb"> </span><span style="color:#666">5</span>;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">┌──────────────┬─────────────────┬──────────────────┬─────────────────┐</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>station_name<span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb"> </span>min_measurement<span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb"> </span>mean_measurement<span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb"> </span>max_measurement<span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb">   </span><span style="color:#008000">varchar</span><span style="color:#bbb">    </span><span style="">│</span><span style="color:#bbb">     </span>double<span style="color:#bbb">      </span><span style="">│</span><span style="color:#bbb">   </span><span style="color:#008000">decimal</span>(<span style="color:#666">8</span>,<span style="color:#666">1</span>)<span style="color:#bbb">   </span><span style="">│</span><span style="color:#bbb">     </span>double<span style="color:#bbb">      </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">├──────────────┼─────────────────┼──────────────────┼─────────────────┤</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Lhasa<span style="color:#bbb">        </span><span style="">│</span><span style="color:#bbb">            </span><span style="color:#666">-</span><span style="color:#666">1</span>.<span style="color:#666">3</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">             </span><span style="color:#666">11</span>.<span style="color:#666">9</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">            </span><span style="color:#666">31</span>.<span style="color:#666">8</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Alexandria<span style="color:#bbb">   </span><span style="">│</span><span style="color:#bbb">            </span><span style="color:#666">11</span>.<span style="color:#666">0</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">             </span><span style="color:#666">20</span>.<span style="color:#666">0</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">            </span><span style="color:#666">31</span>.<span style="color:#666">6</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Bulawayo<span style="color:#bbb">     </span><span style="">│</span><span style="color:#bbb">            </span><span style="color:#666">17</span>.<span style="color:#666">5</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">             </span><span style="color:#666">24</span>.<span style="color:#666">7</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">            </span><span style="color:#666">32</span>.<span style="color:#666">3</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Guadalajara<span style="color:#bbb">  </span><span style="">│</span><span style="color:#bbb">            </span><span style="color:#666">11</span>.<span style="color:#666">4</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">             </span><span style="color:#666">23</span>.<span style="color:#666">1</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">            </span><span style="color:#666">36</span>.<span style="color:#666">4</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Da<span style="color:#bbb"> </span>Nang<span style="color:#bbb">      </span><span style="">│</span><span style="color:#bbb">            </span><span style="color:#666">15</span>.<span style="color:#666">3</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">             </span><span style="color:#666">26</span>.<span style="color:#666">0</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">            </span><span style="color:#666">39</span>.<span style="color:#666">3</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">└──────────────┴─────────────────┴──────────────────┴─────────────────┘</span><span style="color:#bbb">
</span></span></span></code></pre></div><h2 id="formatting-the-output">Formatting the output&nbsp;<a class="headline-hash" href="#formatting-the-output">🔗</a> </h2>
<p>The 1BRC spec says that the output needs to be</p>
<blockquote>
<ul>
<li>sorted alphabetically by station name</li>
<li>the result values per station in the format &lt;min&gt;/&lt;mean&gt;/&lt;max&gt;</li>
<li>rounded to one fractional digit</li>
</ul>
</blockquote>
<p>With the example given as:</p>
<pre tabindex="0"><code>{Abha=-23.0/18.0/59.2, Abidjan=-16.2/26.0/67.3, Abéché=-10.0/29.4/69.0, Accra=-10.1/26.4/66.4, Addis Ababa=-23.7/16.0/67.0, Adelaide=-27.8/17.3/58.5, ...}
</code></pre><p>We fixed the precision above, but what about emitting a pseudo-Java output like shown? For that we&rsquo;ll jump through a few hoops.</p>
<p>Using the <code>||</code> shorthand for <a href="https://duckdb.org/docs/sql/functions/char"><code>CONCAT</code></a> we can append the <code>=</code> to the station name, and <a href="https://duckdb.org/docs/sql/functions/char"><code>CONCAT_WS</code></a> the measurements separated by a <code>/</code>. To keep things clean I&rsquo;m going to use a <a href="https://duckdb.org/docs/sql/query_syntax/with">common table expressions (CTE)</a>:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="">🟡◗</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">WITH</span><span style="color:#bbb"> </span>src<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span>(<span style="color:#008000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span>station_name,<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#008000;font-weight:bold">MIN</span>(measurement)<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span>min_measurement,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#008000;font-weight:bold">CAST</span>(<span style="color:#008000;font-weight:bold">AVG</span>(measurement)<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span><span style="color:#008000">DECIMAL</span>(<span style="color:#666">8</span>,<span style="color:#666">1</span>))<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span>mean_measurement,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#008000;font-weight:bold">MAX</span>(measurement)<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span>max_measurement<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#008000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>measurements<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#008000;font-weight:bold">GROUP</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">BY</span><span style="color:#bbb"> </span>station_name<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#008000;font-weight:bold">LIMIT</span><span style="color:#bbb"> </span><span style="color:#666">5</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#008000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span>station_name<span style="color:#bbb"> </span><span style="color:#666">||</span><span style="color:#bbb"> </span><span style="color:#ba2121">&#39;=&#39;</span><span style="color:#bbb"> </span><span style="color:#666">||</span><span style="color:#bbb"> </span>CONCAT_WS(<span style="color:#ba2121">&#39;/&#39;</span>,min_measurement,<span style="color:#bbb"> </span>mean_measurement,<span style="color:#bbb"> </span>max_measurement)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#008000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>src;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">┌───────────────────────────────────────────────────────────────────────────────────────────────┐</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>((station_name<span style="color:#bbb"> </span><span style="color:#666">||</span><span style="color:#bbb"> </span><span style="color:#ba2121">&#39;=&#39;</span>)<span style="color:#bbb"> </span><span style="color:#666">||</span><span style="color:#bbb"> </span>concat_ws(<span style="color:#ba2121">&#39;/&#39;</span>,<span style="color:#bbb"> </span>min_measurement,<span style="color:#bbb"> </span>mean_measurement,<span style="color:#bbb"> </span>max_measurement))<span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb">                                            </span><span style="color:#008000">varchar</span><span style="color:#bbb">                                            </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">├───────────────────────────────────────────────────────────────────────────────────────────────┤</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Lodwar<span style="color:#666">=</span><span style="color:#666">16</span>.<span style="color:#666">9</span><span style="color:#666">/</span><span style="color:#666">31</span>.<span style="color:#666">9</span><span style="color:#666">/</span><span style="color:#666">44</span>.<span style="color:#666">8</span><span style="color:#bbb">                                                                         </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Chongqing<span style="color:#666">=</span><span style="color:#666">4</span>.<span style="color:#666">7</span><span style="color:#666">/</span><span style="color:#666">18</span>.<span style="color:#666">9</span><span style="color:#666">/</span><span style="color:#666">33</span>.<span style="color:#666">0</span><span style="color:#bbb">                                                                       </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Stockholm<span style="color:#666">=-</span><span style="color:#666">0</span>.<span style="color:#666">1</span><span style="color:#666">/</span><span style="color:#666">8</span>.<span style="color:#666">1</span><span style="color:#666">/</span><span style="color:#666">18</span>.<span style="color:#666">1</span><span style="color:#bbb">                                                                       </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Zürich<span style="color:#666">=</span><span style="color:#666">8</span>.<span style="color:#666">1</span><span style="color:#666">/</span><span style="color:#666">15</span>.<span style="color:#666">6</span><span style="color:#666">/</span><span style="color:#666">20</span>.<span style="color:#666">6</span><span style="color:#bbb">                                                                          </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>Kampala<span style="color:#666">=</span><span style="color:#666">9</span>.<span style="color:#666">4</span><span style="color:#666">/</span><span style="color:#666">18</span>.<span style="color:#666">1</span><span style="color:#666">/</span><span style="color:#666">31</span>.<span style="color:#666">1</span><span style="color:#bbb">                                                                         </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">└───────────────────────────────────────────────────────────────────────────────────────────────┘</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>Now we can pivot this into a single row, using the <code>LIST</code> function and <code>LIST_SORT</code> to sort it. <em>I&rsquo;m not using <code>ORDER BY</code> for a reason that will become clear shortly.</em></p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="">🟡◗</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">WITH</span><span style="color:#bbb"> </span>src<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span>(<span style="color:#008000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span>station_name,<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#008000;font-weight:bold">MIN</span>(measurement)<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span>min_measurement,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#008000;font-weight:bold">CAST</span>(<span style="color:#008000;font-weight:bold">AVG</span>(measurement)<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span><span style="color:#008000">DECIMAL</span>(<span style="color:#666">8</span>,<span style="color:#666">1</span>))<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span>mean_measurement,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#008000;font-weight:bold">MAX</span>(measurement)<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span>max_measurement<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#008000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>measurements<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#008000;font-weight:bold">GROUP</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">BY</span><span style="color:#bbb"> </span>station_name<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#008000;font-weight:bold">LIMIT</span><span style="color:#bbb"> </span><span style="color:#666">5</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#008000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span>LIST_SORT(LIST(station_name<span style="color:#bbb"> </span><span style="color:#666">||</span><span style="color:#bbb"> </span><span style="color:#ba2121">&#39;=&#39;</span><span style="color:#bbb"> </span><span style="color:#666">||</span><span style="color:#bbb"> </span>CONCAT_WS(<span style="color:#ba2121">&#39;/&#39;</span>,min_measurement,<span style="color:#bbb"> </span>mean_measurement,<span style="color:#bbb"> </span>max_measurement)))<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#008000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>src;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb">     </span>list_sort(list(((station_name<span style="color:#bbb"> </span><span style="color:#666">||</span><span style="color:#bbb"> </span><span style="color:#ba2121">&#39;=&#39;</span>)<span style="color:#bbb"> </span><span style="color:#666">||</span><span style="color:#bbb"> </span>concat_ws(<span style="color:#ba2121">&#39;/&#39;</span>,<span style="color:#bbb"> </span>min_measurement,<span style="color:#bbb"> </span>mean_measurement,<span style="color:#bbb"> </span>max_measurement))))<span style="color:#bbb">     </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb">                                                       </span><span style="color:#008000">varchar</span>[]<span style="color:#bbb">                                                        </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span>[Chongqing<span style="color:#666">=</span><span style="color:#666">4</span>.<span style="color:#666">7</span><span style="color:#666">/</span><span style="color:#666">18</span>.<span style="color:#666">9</span><span style="color:#666">/</span><span style="color:#666">33</span>.<span style="color:#666">0</span>,<span style="color:#bbb"> </span>Kampala<span style="color:#666">=</span><span style="color:#666">9</span>.<span style="color:#666">4</span><span style="color:#666">/</span><span style="color:#666">18</span>.<span style="color:#666">1</span><span style="color:#666">/</span><span style="color:#666">31</span>.<span style="color:#666">1</span>,<span style="color:#bbb"> </span>Lodwar<span style="color:#666">=</span><span style="color:#666">16</span>.<span style="color:#666">9</span><span style="color:#666">/</span><span style="color:#666">31</span>.<span style="color:#666">9</span><span style="color:#666">/</span><span style="color:#666">44</span>.<span style="color:#666">8</span>,<span style="color:#bbb"> </span>Stockholm<span style="color:#666">=-</span><span style="color:#666">0</span>.<span style="color:#666">1</span><span style="color:#666">/</span><span style="color:#666">8</span>.<span style="color:#666">1</span><span style="color:#666">/</span><span style="color:#666">18</span>.<span style="color:#666">1</span>,<span style="color:#bbb"> </span>Zürich<span style="color:#666">=</span><span style="color:#666">8</span>.<span style="color:#666">1</span><span style="color:#666">/</span><span style="color:#666">15</span>.<span style="color:#666">6</span><span style="color:#666">/</span><span style="color:#666">20</span>.<span style="color:#666">6</span>]<span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘</span><span style="color:#bbb">
</span></span></span></code></pre></div><p>Finally, we&rsquo;ll take this <code>LIST</code> (which is synonymous with Postgres&rsquo; <code>ARRAY</code> type) and convert it back to a string for our output using <a href="https://duckdb.org/docs/sql/functions/nested#array_to_string"><code>array_to_string</code></a>. It&rsquo;s this additional function which is why I need to use <code>LIST_SORT</code> rather than <code>ORDER_BY</code>—if I used the latter I&rsquo;d need another CTE to wrap the LIST.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span><span style="">🟡◗</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">WITH</span><span style="color:#bbb"> </span>src<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span>(<span style="color:#008000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span>station_name,<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#008000;font-weight:bold">MIN</span>(measurement)<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span>min_measurement,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#008000;font-weight:bold">CAST</span>(<span style="color:#008000;font-weight:bold">AVG</span>(measurement)<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span><span style="color:#008000">DECIMAL</span>(<span style="color:#666">8</span>,<span style="color:#666">1</span>))<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span>mean_measurement,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#008000;font-weight:bold">MAX</span>(measurement)<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span>max_measurement<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#008000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>measurements<span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#008000;font-weight:bold">GROUP</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">BY</span><span style="color:#bbb"> </span>station_name<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#008000;font-weight:bold">LIMIT</span><span style="color:#bbb"> </span><span style="color:#666">5</span>)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#008000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span><span style="color:#ba2121">&#39;{&#39;</span><span style="color:#bbb"> </span><span style="color:#666">||</span><span style="color:#bbb"> 
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>ARRAY_TO_STRING(LIST_SORT(LIST(station_name<span style="color:#bbb"> </span><span style="color:#666">||</span><span style="color:#bbb"> </span><span style="color:#ba2121">&#39;=&#39;</span><span style="color:#bbb"> </span><span style="color:#666">||</span><span style="color:#bbb"> </span>CONCAT_WS(<span style="color:#ba2121">&#39;/&#39;</span>,min_measurement,<span style="color:#bbb"> </span>mean_measurement,<span style="color:#bbb"> </span>max_measurement))),<span style="color:#ba2121">&#39;, &#39;</span>)<span style="color:#bbb"> </span><span style="color:#666">||</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#ba2121">&#39;}&#39;</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span><span style="color:#ba2121">&#34;1BRC&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#008000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>src;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">┌────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┐</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb">                                                          </span><span style="color:#666">1</span>BRC<span style="color:#bbb">                                                          </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb">                                                        </span><span style="color:#008000">varchar</span><span style="color:#bbb">                                                         </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">├────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┤</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">│</span><span style="color:#bbb"> </span><span style="">{</span>Chongqing<span style="color:#666">=</span><span style="color:#666">4</span>.<span style="color:#666">7</span><span style="color:#666">/</span><span style="color:#666">18</span>.<span style="color:#666">9</span><span style="color:#666">/</span><span style="color:#666">33</span>.<span style="color:#666">0</span>,<span style="color:#bbb"> </span>Kampala<span style="color:#666">=</span><span style="color:#666">9</span>.<span style="color:#666">4</span><span style="color:#666">/</span><span style="color:#666">18</span>.<span style="color:#666">1</span><span style="color:#666">/</span><span style="color:#666">31</span>.<span style="color:#666">1</span>,<span style="color:#bbb"> </span>Lodwar<span style="color:#666">=</span><span style="color:#666">16</span>.<span style="color:#666">9</span><span style="color:#666">/</span><span style="color:#666">31</span>.<span style="color:#666">9</span><span style="color:#666">/</span><span style="color:#666">44</span>.<span style="color:#666">8</span>,<span style="color:#bbb"> </span>Stockholm<span style="color:#666">=-</span><span style="color:#666">0</span>.<span style="color:#666">1</span><span style="color:#666">/</span><span style="color:#666">8</span>.<span style="color:#666">1</span><span style="color:#666">/</span><span style="color:#666">18</span>.<span style="color:#666">1</span>,<span style="color:#bbb"> </span>Zürich<span style="color:#666">=</span><span style="color:#666">8</span>.<span style="color:#666">1</span><span style="color:#666">/</span><span style="color:#666">15</span>.<span style="color:#666">6</span><span style="color:#666">/</span><span style="color:#666">20</span>.<span style="color:#666">6</span><span style="">}</span><span style="color:#bbb"> </span><span style="">│</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="">└────────────────────────────────────────────────────────────────────────────────────────────────────────────────────────┘</span><span style="color:#bbb">
</span></span></span></code></pre></div><h2 id="wrapping-it-all-up-with-some-timings-too">Wrapping it all up (with some timings too)&nbsp;<a class="headline-hash" href="#wrapping-it-all-up-with-some-timings-too">🔗</a> </h2>
<p>Here&rsquo;s the final SQL file, including some useful DuckDB CLI settings</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>.timer<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">on</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>.<span style="color:#008000;font-weight:bold">mode</span><span style="color:#bbb"> </span>ascii<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>.echo<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">on</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#408080;font-style:italic">-- Load the data
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span><span style="color:#008000;font-weight:bold">CREATE</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">OR</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">REPLACE</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">TABLE</span><span style="color:#bbb"> </span>measurements<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">        </span><span style="color:#008000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span><span style="color:#666">*</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>READ_CSV(<span style="color:#ba2121">&#39;measurements.txt&#39;</span>,<span style="color:#bbb"> </span>header<span style="color:#666">=</span><span style="color:#008000;font-weight:bold">false</span>,<span style="color:#bbb"> </span>columns<span style="color:#666">=</span><span style="color:#bbb"> </span><span style="">{</span><span style="color:#ba2121">&#39;station_name&#39;</span>:<span style="color:#ba2121">&#39;VARCHAR&#39;</span>,<span style="color:#ba2121">&#39;measurement&#39;</span>:<span style="color:#ba2121">&#39;double&#39;</span><span style="">}</span>,<span style="color:#bbb"> </span>delim<span style="color:#666">=</span><span style="color:#ba2121">&#39;;&#39;</span>);<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#408080;font-style:italic">-- Run calculations
</span></span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"></span><span style="color:#008000;font-weight:bold">WITH</span><span style="color:#bbb"> </span>src<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span>(<span style="color:#008000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span>station_name,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#008000;font-weight:bold">MIN</span>(measurement)<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span>min_measurement,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#008000;font-weight:bold">CAST</span>(<span style="color:#008000;font-weight:bold">AVG</span>(measurement)<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span><span style="color:#008000">DECIMAL</span>(<span style="color:#666">8</span>,<span style="color:#666">1</span>))<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span>mean_measurement,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">                    </span><span style="color:#008000;font-weight:bold">MAX</span>(measurement)<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span>max_measurement<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#008000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>measurements<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#008000;font-weight:bold">GROUP</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">BY</span><span style="color:#bbb"> </span>station_name)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#008000;font-weight:bold">SELECT</span><span style="color:#bbb"> </span><span style="color:#ba2121">&#39;{&#39;</span><span style="color:#bbb"> </span><span style="color:#666">||</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span>ARRAY_TO_STRING(LIST_SORT(LIST(station_name<span style="color:#bbb"> </span><span style="color:#666">||</span><span style="color:#bbb"> </span><span style="color:#ba2121">&#39;=&#39;</span><span style="color:#bbb"> </span><span style="color:#666">||</span><span style="color:#bbb"> </span>CONCAT_WS(<span style="color:#ba2121">&#39;/&#39;</span>,min_measurement,<span style="color:#bbb"> </span>mean_measurement,<span style="color:#bbb"> </span>max_measurement))),<span style="color:#ba2121">&#39;, &#39;</span>)<span style="color:#bbb"> </span><span style="color:#666">||</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">            </span><span style="color:#ba2121">&#39;}&#39;</span><span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">AS</span><span style="color:#bbb"> </span><span style="color:#ba2121">&#34;1BRC&#34;</span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">    </span><span style="color:#008000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>src;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>.quit<span style="color:#bbb">
</span></span></span></code></pre></div><p>Note that the <code>LIMIT</code> clause has been removed so the full 1B rows will be loaded.</p>
<p>Saving this as 1brc.sql and running it gives this:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ /usr/bin/time -p duckdb -no-stdin -init 1brc.sql
</span></span><span style="display:flex;"><span>-- Loading resources from 1brc.sql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-- Load the data
</span></span><span style="display:flex;"><span>CREATE OR REPLACE TABLE measurements AS
</span></span><span style="display:flex;"><span>        SELECT * FROM READ_CSV<span style="color:#666">(</span><span style="color:#ba2121">&#39;measurements.txt&#39;</span>, <span style="color:#19177c">header</span><span style="color:#666">=</span>false, <span style="color:#19177c">columns</span><span style="color:#666">=</span> <span style="color:#666">{</span><span style="color:#ba2121">&#39;station_name&#39;</span>:<span style="color:#ba2121">&#39;VARCHAR&#39;</span>,<span style="color:#ba2121">&#39;measurement&#39;</span>:<span style="color:#ba2121">&#39;double&#39;</span><span style="color:#666">}</span>, <span style="color:#19177c">delim</span><span style="color:#666">=</span><span style="color:#ba2121">&#39;;&#39;</span><span style="color:#666">)</span>;
</span></span><span style="display:flex;"><span>100% ▕████████████████████████████████████████████████████████████▏
</span></span><span style="display:flex;"><span>Run Time <span style="color:#666">(</span>s<span style="color:#666">)</span>: real 27.481 user 208.918956 sys 5.429126
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>-- Run calculations
</span></span><span style="display:flex;"><span>WITH src AS <span style="color:#666">(</span>SELECT station_name,
</span></span><span style="display:flex;"><span>                    MIN<span style="color:#666">(</span>measurement<span style="color:#666">)</span> AS min_measurement,
</span></span><span style="display:flex;"><span>                    CAST<span style="color:#666">(</span>AVG<span style="color:#666">(</span>measurement<span style="color:#666">)</span> AS DECIMAL<span style="color:#666">(</span>8,1<span style="color:#666">))</span> AS mean_measurement,
</span></span><span style="display:flex;"><span>                    MAX<span style="color:#666">(</span>measurement<span style="color:#666">)</span> AS max_measurement
</span></span><span style="display:flex;"><span>            FROM measurements
</span></span><span style="display:flex;"><span>            GROUP BY station_name<span style="color:#666">)</span>
</span></span><span style="display:flex;"><span>    SELECT <span style="color:#ba2121">&#39;{&#39;</span> <span style="color:#666">||</span>
</span></span><span style="display:flex;"><span>            ARRAY_TO_STRING<span style="color:#666">(</span>LIST_SORT<span style="color:#666">(</span>LIST<span style="color:#666">(</span>station_name <span style="color:#666">||</span> <span style="color:#ba2121">&#39;=&#39;</span> <span style="color:#666">||</span> CONCAT_WS<span style="color:#666">(</span><span style="color:#ba2121">&#39;/&#39;</span>,min_measurement, mean_measurement, max_measurement<span style="color:#666">)))</span>,<span style="color:#ba2121">&#39;, &#39;</span><span style="color:#666">)</span> <span style="color:#666">||</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ba2121">&#39;}&#39;</span> AS <span style="color:#ba2121">&#34;1BRC&#34;</span>
</span></span><span style="display:flex;"><span>    FROM src;
</span></span><span style="display:flex;"><span>100% ▕████████████████████████████████████████████████████████████▏
</span></span><span style="display:flex;"><span>1BRC<span style="color:#666">{</span><span style="color:#19177c">Abha</span><span style="color:#666">=</span>-33.0/18.0/69.2, <span style="color:#19177c">Abidjan</span><span style="color:#666">=</span>-24.4/26.0/75.4, <span style="color:#19177c">Abéché</span><span style="color:#666">=</span>-21.1/29.4/77.1, <span style="color:#19177c">Accra</span><span style="color:#666">=</span>-25.1/26.4/79.0, Addis <span style="color:#19177c">Ababa</span><span style="color:#666">=</span>-33.6/16.0/66.8, <span style="color:#19177c">Adelaide</span><span style="color:#666">=</span>-33.4/17.3/68.5, <span style="color:#19177c">Aden</span><span style="color:#666">=</span>-19.3/29.1/77.9, <span style="color:#19177c">Ahvaz</span><span style="color:#666">=</span>-24.1/25.4/74.0, <span style="color:#19177c">Albuquerque</span><span style="color:#666">=</span>-33.5/14.0/61.8, <span style="color:#19177c">Alexandra</span><span style="color:#666">=</span>-39.7/11.0/63.7, <span style="color:#19177c">Alexandria</span><span style="color:#666">=</span>-30.2/20.0/74.4, <span style="color:#19177c">Algiers</span><span style="color:#666">=</span>-39.2/18.2/68.1, Alice <span style="color:#19177c">Springs</span><span style="color:#666">=</span>-32.5/21.0/67.6, <span style="color:#19177c">Almaty</span><span style="color:#666">=</span>-37.4/10.0/59.0, <span style="color:#19177c">Amsterdam</span><span style="color:#666">=</span>-39.8/10.2/60.6, <span style="color:#19177c">Anadyr</span><span style="color:#666">=</span>-59.6/-6.9/42.6, <span style="color:#19177c">Anchorage</span><span style="color:#666">=</span>-45.3/2.8/53.4, Andorra la <span style="color:#19177c">Vella</span><span style="color:#666">=</span>-41.5/9.8/59.4, <span style="color:#19177c">Ankara</span><span style="color:#666">=</span>-41.1/12.0/60.7, <span style="color:#19177c">Antananarivo</span><span style="color:#666">=</span>-31.3/17.9/69.2, <span style="color:#19177c">Antsiranana</span><span style="color:#666">=</span>-26.0/25.2/74.4, <span style="color:#19177c">Arkhangelsk</span><span style="color:#666">=</span>-45.8/1.3/58.6, <span style="color:#19177c">Ashgabat</span><span style="color:#666">=</span>-34.8/17.1/68.5, <span style="color:#19177c">Asmara</span><span style="color:#666">=</span>-32.4/15.6/65.1, <span style="color:#19177c">Assab</span><span style="color:#666">=</span>-23.4/30.5/81.7, <span style="color:#19177c">Astana</span><span style="color:#666">=</span>-46.4/3.5/52.5, <span style="color:#19177c">Athens</span><span style="color:#666">=</span>-31.6/19.2/68.3, <span style="color:#19177c">Atlanta</span><span style="color:#666">=</span>-33.1/17.0/65.3, <span style="color:#19177c">Auckland</span><span style="color:#666">=</span>-33.6/15.2/62.4, <span style="color:#19177c">Austin</span><span style="color:#666">=</span>-27.3/20.7/67.3, <span style="color:#19177c">Baghdad</span><span style="color:#666">=</span>-29.0/22.8/73.4, <span style="color:#19177c">Baguio</span><span style="color:#666">=</span>-29.6/19.5/69.2, <span style="color:#19177c">Baku</span><span style="color:#666">=</span>-31.6/15.1/63.3, <span style="color:#19177c">Baltimore</span><span style="color:#666">=</span>-37.3/13.1/61.8, <span style="color:#19177c">Bamako</span><span style="color:#666">=</span>-22.4/27.8/78.7, <span style="color:#19177c">Bangkok</span><span style="color:#666">=</span>-25.7/28.6/78.4, <span style="color:#19177c">Bangui</span><span style="color:#666">=</span>-23.0/26.0/75.6, <span style="color:#19177c">Banjul</span><span style="color:#666">=</span>-25.6/26.0/71.7, <span style="color:#19177c">Barcelona</span><span style="color:#666">=</span>-31.3/18.2/65.3, <span style="color:#19177c">Bata</span><span style="color:#666">=</span>-22.5/25.1/80.4, <span style="color:#19177c">Batumi</span><span style="color:#666">=</span>-33.3/14.0/63.0, <span style="color:#19177c">Beijing</span><span style="color:#666">=</span>-34.5/12.9/63.9, <span style="color:#19177c">Beirut</span><span style="color:#666">=</span>-28.6/20.9/70.9, <span style="color:#19177c">Belgrade</span><span style="color:#666">=</span>-36.0/12.5/60.5, Belize <span style="color:#19177c">City</span><span style="color:#666">=</span>-26.4/26.7/75.2, <span style="color:#19177c">Benghazi</span><span style="color:#666">=</span>-33.9/19.9/72.9, <span style="color:#19177c">Bergen</span><span style="color:#666">=</span>-42.5/7.7/54.3, <span style="color:#19177c">Berlin</span><span style="color:#666">=</span>-37.6/10.3/61.3, <span style="color:#19177c">Bilbao</span><span style="color:#666">=</span>-36.5/14.7/65.9, <span style="color:#19177c">Birao</span><span style="color:#666">=</span>-25.7/26.5/76.0, <span style="color:#19177c">Bishkek</span><span style="color:#666">=</span>-38.9/11.3/59.6, <span style="color:#19177c">Bissau</span><span style="color:#666">=</span>-21.0/27.0/75.0, <span style="color:#19177c">Blantyre</span><span style="color:#666">=</span>-26.3/22.2/72.8, <span style="color:#19177c">Bloemfontein</span><span style="color:#666">=</span>-34.3/15.6/65.8, <span style="color:#19177c">Boise</span><span style="color:#666">=</span>-37.2/11.4/59.2, <span style="color:#19177c">Bordeaux</span><span style="color:#666">=</span>-35.1/14.2/64.4, <span style="color:#19177c">Bosaso</span><span style="color:#666">=</span>-21.1/30.0/82.5, <span style="color:#19177c">Boston</span><span style="color:#666">=</span>-42.1/10.9/61.9, <span style="color:#19177c">Bouaké</span><span style="color:#666">=</span>-24.0/26.0/75.9, <span style="color:#19177c">Bratislava</span><span style="color:#666">=</span>-38.7/10.5/62.3, <span style="color:#19177c">Brazzaville</span><span style="color:#666">=</span>-26.6/25.0/71.4, <span style="color:#19177c">Bridgetown</span><span style="color:#666">=</span>-22.3/27.0/79.8, <span style="color:#19177c">Brisbane</span><span style="color:#666">=</span>-30.4/21.4/71.4, <span style="color:#19177c">Brussels</span><span style="color:#666">=</span>-39.1/10.5/60.7, <span style="color:#19177c">Bucharest</span><span style="color:#666">=</span>-39.9/10.8/60.0, <span style="color:#19177c">Budapest</span><span style="color:#666">=</span>-37.8/11.3/63.8, <span style="color:#19177c">Bujumbura</span><span style="color:#666">=</span>-25.6/23.8/86.6, <span style="color:#19177c">Bulawayo</span><span style="color:#666">=</span>-29.9/18.9/71.8, <span style="color:#19177c">Burnie</span><span style="color:#666">=</span>-36.1/13.1/63.2, <span style="color:#19177c">Busan</span><span style="color:#666">=</span>-36.8/15.0/64.3, Cabo San <span style="color:#19177c">Lucas</span><span style="color:#666">=</span>-26.0/23.9/70.9, <span style="color:#19177c">Cairns</span><span style="color:#666">=</span>-23.1/25.0/74.6, <span style="color:#19177c">Cairo</span><span style="color:#666">=</span>-27.2/21.4/71.1, <span style="color:#19177c">Calgary</span><span style="color:#666">=</span>-43.0/4.4/54.6, <span style="color:#19177c">Canberra</span><span style="color:#666">=</span>-34.8/13.1/66.4, Cape <span style="color:#19177c">Town</span><span style="color:#666">=</span>-33.0/16.2/64.1, <span style="color:#19177c">Changsha</span><span style="color:#666">=</span>-34.1/17.4/68.0, <span style="color:#19177c">Charlotte</span><span style="color:#666">=</span>-37.2/16.1/66.0, Chiang <span style="color:#19177c">Mai</span><span style="color:#666">=</span>-22.3/25.8/72.7, <span style="color:#19177c">Chicago</span><span style="color:#666">=</span>-37.6/9.8/63.3, <span style="color:#19177c">Chihuahua</span><span style="color:#666">=</span>-29.6/18.6/72.5, <span style="color:#19177c">Chittagong</span><span style="color:#666">=</span>-23.0/25.9/75.1, <span style="color:#19177c">Chișinău</span><span style="color:#666">=</span>-35.3/10.2/58.3, <span style="color:#19177c">Chongqing</span><span style="color:#666">=</span>-35.9/18.6/70.6, <span style="color:#19177c">Christchurch</span><span style="color:#666">=</span>-40.6/12.2/63.0, City of San <span style="color:#19177c">Marino</span><span style="color:#666">=</span>-44.6/11.8/61.8, <span style="color:#19177c">Colombo</span><span style="color:#666">=</span>-21.7/27.4/74.9, <span style="color:#19177c">Columbus</span><span style="color:#666">=</span>-34.7/11.7/61.1, <span style="color:#19177c">Conakry</span><span style="color:#666">=</span>-25.6/26.4/75.7, <span style="color:#19177c">Copenhagen</span><span style="color:#666">=</span>-40.2/9.1/58.4, <span style="color:#19177c">Cotonou</span><span style="color:#666">=</span>-22.8/27.2/78.5, <span style="color:#19177c">Cracow</span><span style="color:#666">=</span>-42.1/9.3/62.6, Da <span style="color:#19177c">Lat</span><span style="color:#666">=</span>-31.1/17.9/65.7, Da <span style="color:#19177c">Nang</span><span style="color:#666">=</span>-23.9/25.8/73.5, <span style="color:#19177c">Dakar</span><span style="color:#666">=</span>-25.3/24.0/77.6, <span style="color:#19177c">Dallas</span><span style="color:#666">=</span>-33.4/19.0/69.6, <span style="color:#19177c">Damascus</span><span style="color:#666">=</span>-32.4/17.0/66.5, <span style="color:#19177c">Dampier</span><span style="color:#666">=</span>-23.7/26.4/76.5, Dar es <span style="color:#19177c">Salaam</span><span style="color:#666">=</span>-32.1/25.8/72.0, <span style="color:#19177c">Darwin</span><span style="color:#666">=</span>-25.5/27.6/80.6, <span style="color:#19177c">Denpasar</span><span style="color:#666">=</span>-26.2/23.7/71.8, <span style="color:#19177c">Denver</span><span style="color:#666">=</span>-41.5/10.4/59.5, <span style="color:#19177c">Detroit</span><span style="color:#666">=</span>-38.6/10.0/62.4, <span style="color:#19177c">Dhaka</span><span style="color:#666">=</span>-22.8/25.9/76.4, <span style="color:#19177c">Dikson</span><span style="color:#666">=</span>-62.7/-11.1/39.0, <span style="color:#19177c">Dili</span><span style="color:#666">=</span>-26.0/26.6/78.4, <span style="color:#19177c">Djibouti</span><span style="color:#666">=</span>-19.2/29.9/79.6, <span style="color:#19177c">Dodoma</span><span style="color:#666">=</span>-31.6/22.7/71.4, <span style="color:#19177c">Dolisie</span><span style="color:#666">=</span>-28.8/24.0/75.4, <span style="color:#19177c">Douala</span><span style="color:#666">=</span>-21.4/26.7/79.6, <span style="color:#19177c">Dubai</span><span style="color:#666">=</span>-22.8/26.9/75.0, <span style="color:#19177c">Dublin</span><span style="color:#666">=</span>-44.0/9.8/59.5, <span style="color:#19177c">Dunedin</span><span style="color:#666">=</span>-42.7/11.1/64.8, <span style="color:#19177c">Durban</span><span style="color:#666">=</span>-29.8/20.6/67.6, <span style="color:#19177c">Dushanbe</span><span style="color:#666">=</span>-36.0/14.7/64.1, <span style="color:#19177c">Edinburgh</span><span style="color:#666">=</span>-38.0/9.3/60.4, <span style="color:#19177c">Edmonton</span><span style="color:#666">=</span>-45.1/4.2/57.7, El <span style="color:#19177c">Paso</span><span style="color:#666">=</span>-34.0/18.1/65.6, <span style="color:#19177c">Entebbe</span><span style="color:#666">=</span>-28.2/21.0/68.8, <span style="color:#19177c">Erbil</span><span style="color:#666">=</span>-28.7/19.5/68.4, <span style="color:#19177c">Erzurum</span><span style="color:#666">=</span>-59.1/5.1/52.7, <span style="color:#19177c">Fairbanks</span><span style="color:#666">=</span>-53.7/-2.3/49.5, <span style="color:#19177c">Fianarantsoa</span><span style="color:#666">=</span>-29.2/17.9/68.1, Flores,  <span style="color:#19177c">Petén</span><span style="color:#666">=</span>-26.1/26.4/76.1, <span style="color:#19177c">Frankfurt</span><span style="color:#666">=</span>-36.8/10.6/59.0, <span style="color:#19177c">Fresno</span><span style="color:#666">=</span>-35.2/17.9/66.9, <span style="color:#19177c">Fukuoka</span><span style="color:#666">=</span>-30.4/17.0/66.5, <span style="color:#19177c">Gaborone</span><span style="color:#666">=</span>-26.4/21.0/71.1, <span style="color:#19177c">Gabès</span><span style="color:#666">=</span>-31.9/19.5/72.1, <span style="color:#19177c">Gagnoa</span><span style="color:#666">=</span>-21.3/26.0/75.6, <span style="color:#19177c">Gangtok</span><span style="color:#666">=</span>-32.2/15.2/64.0, <span style="color:#19177c">Garissa</span><span style="color:#666">=</span>-20.1/29.3/79.5, <span style="color:#19177c">Garoua</span><span style="color:#666">=</span>-22.2/28.3/81.5, George <span style="color:#19177c">Town</span><span style="color:#666">=</span>-20.6/27.9/76.6, <span style="color:#19177c">Ghanzi</span><span style="color:#666">=</span>-28.2/21.4/70.9, Gjoa <span style="color:#19177c">Haven</span><span style="color:#666">=</span>-65.2/-14.4/35.7, <span style="color:#19177c">Guadalajara</span><span style="color:#666">=</span>-28.3/20.9/79.5, <span style="color:#19177c">Guangzhou</span><span style="color:#666">=</span>-33.5/22.4/73.1, Guatemala <span style="color:#19177c">City</span><span style="color:#666">=</span>-31.2/20.4/71.3, <span style="color:#19177c">Halifax</span><span style="color:#666">=</span>-47.6/7.5/53.9, <span style="color:#19177c">Hamburg</span><span style="color:#666">=</span>-42.7/9.7/60.2, <span style="color:#19177c">Hamilton</span><span style="color:#666">=</span>-36.6/13.8/63.5, Hanga <span style="color:#19177c">Roa</span><span style="color:#666">=</span>-27.6/20.5/69.3, <span style="color:#19177c">Hanoi</span><span style="color:#666">=</span>-24.9/23.6/74.1, <span style="color:#19177c">Harare</span><span style="color:#666">=</span>-33.0/18.4/69.0, <span style="color:#19177c">Harbin</span><span style="color:#666">=</span>-45.9/5.0/55.5, <span style="color:#19177c">Hargeisa</span><span style="color:#666">=</span>-30.0/21.7/72.5, Hat <span style="color:#19177c">Yai</span><span style="color:#666">=</span>-25.0/27.0/79.0, <span style="color:#19177c">Havana</span><span style="color:#666">=</span>-24.8/25.2/75.7, <span style="color:#19177c">Helsinki</span><span style="color:#666">=</span>-43.1/5.9/56.2, <span style="color:#19177c">Heraklion</span><span style="color:#666">=</span>-32.4/18.9/69.0, <span style="color:#19177c">Hiroshima</span><span style="color:#666">=</span>-33.9/16.3/70.1, Ho Chi Minh <span style="color:#19177c">City</span><span style="color:#666">=</span>-24.0/27.4/84.4, <span style="color:#19177c">Hobart</span><span style="color:#666">=</span>-38.7/12.7/63.5, Hong <span style="color:#19177c">Kong</span><span style="color:#666">=</span>-26.6/23.3/72.2, <span style="color:#19177c">Honiara</span><span style="color:#666">=</span>-25.5/26.5/75.4, <span style="color:#19177c">Honolulu</span><span style="color:#666">=</span>-25.8/25.4/73.5, <span style="color:#19177c">Houston</span><span style="color:#666">=</span>-28.6/20.8/69.1, <span style="color:#19177c">Ifrane</span><span style="color:#666">=</span>-36.7/11.4/61.5, <span style="color:#19177c">Indianapolis</span><span style="color:#666">=</span>-37.9/11.8/63.6, <span style="color:#19177c">Iqaluit</span><span style="color:#666">=</span>-57.0/-9.3/41.7, <span style="color:#19177c">Irkutsk</span><span style="color:#666">=</span>-48.5/1.0/48.6, <span style="color:#19177c">Istanbul</span><span style="color:#666">=</span>-33.4/13.9/60.6, <span style="color:#19177c">Jacksonville</span><span style="color:#666">=</span>-28.2/20.3/69.9, <span style="color:#19177c">Jakarta</span><span style="color:#666">=</span>-21.9/26.7/76.4, <span style="color:#19177c">Jayapura</span><span style="color:#666">=</span>-25.0/27.0/75.5, <span style="color:#19177c">Jerusalem</span><span style="color:#666">=</span>-31.2/18.3/67.6, <span style="color:#19177c">Johannesburg</span><span style="color:#666">=</span>-35.3/15.5/66.9, <span style="color:#19177c">Jos</span><span style="color:#666">=</span>-28.9/22.8/71.8, <span style="color:#19177c">Juba</span><span style="color:#666">=</span>-20.9/27.8/79.4, <span style="color:#19177c">Kabul</span><span style="color:#666">=</span>-36.1/12.1/61.8, <span style="color:#19177c">Kampala</span><span style="color:#666">=</span>-28.1/20.0/69.1, <span style="color:#19177c">Kandi</span><span style="color:#666">=</span>-22.0/27.7/76.9, <span style="color:#19177c">Kankan</span><span style="color:#666">=</span>-24.0/26.5/74.6, <span style="color:#19177c">Kano</span><span style="color:#666">=</span>-21.3/26.4/79.3, Kansas <span style="color:#19177c">City</span><span style="color:#666">=</span>-40.6/12.5/62.8, <span style="color:#19177c">Karachi</span><span style="color:#666">=</span>-25.3/26.0/81.8, <span style="color:#19177c">Karonga</span><span style="color:#666">=</span>-22.9/24.4/72.4, <span style="color:#19177c">Kathmandu</span><span style="color:#666">=</span>-32.2/18.3/66.6, <span style="color:#19177c">Khartoum</span><span style="color:#666">=</span>-23.2/29.9/80.7, <span style="color:#19177c">Kingston</span><span style="color:#666">=</span>-20.5/27.4/82.6, <span style="color:#19177c">Kinshasa</span><span style="color:#666">=</span>-25.0/25.3/74.0, <span style="color:#19177c">Kolkata</span><span style="color:#666">=</span>-24.9/26.7/73.9, Kuala <span style="color:#19177c">Lumpur</span><span style="color:#666">=</span>-25.9/27.3/76.2, <span style="color:#19177c">Kumasi</span><span style="color:#666">=</span>-23.1/26.0/74.6, <span style="color:#19177c">Kunming</span><span style="color:#666">=</span>-36.1/15.7/67.9, <span style="color:#19177c">Kuopio</span><span style="color:#666">=</span>-47.0/3.4/56.9, Kuwait <span style="color:#19177c">City</span><span style="color:#666">=</span>-25.8/25.7/74.1, <span style="color:#19177c">Kyiv</span><span style="color:#666">=</span>-40.6/8.4/62.5, <span style="color:#19177c">Kyoto</span><span style="color:#666">=</span>-36.9/15.8/62.4, La <span style="color:#19177c">Ceiba</span><span style="color:#666">=</span>-22.1/26.2/76.5, La <span style="color:#19177c">Paz</span><span style="color:#666">=</span>-27.7/23.7/71.5, <span style="color:#19177c">Lagos</span><span style="color:#666">=</span>-23.9/26.8/76.1, <span style="color:#19177c">Lahore</span><span style="color:#666">=</span>-28.4/24.3/77.3, Lake Havasu <span style="color:#19177c">City</span><span style="color:#666">=</span>-28.0/23.7/77.1, Lake <span style="color:#19177c">Tekapo</span><span style="color:#666">=</span>-37.7/8.7/62.3, Las Palmas de Gran <span style="color:#19177c">Canaria</span><span style="color:#666">=</span>-29.0/21.2/69.9, Las <span style="color:#19177c">Vegas</span><span style="color:#666">=</span>-28.4/20.3/72.0, <span style="color:#19177c">Launceston</span><span style="color:#666">=</span>-36.5/13.1/62.6, <span style="color:#19177c">Lhasa</span><span style="color:#666">=</span>-44.2/7.6/59.7, <span style="color:#19177c">Libreville</span><span style="color:#666">=</span>-22.8/25.9/75.4, <span style="color:#19177c">Lisbon</span><span style="color:#666">=</span>-29.6/17.5/65.5, <span style="color:#19177c">Livingstone</span><span style="color:#666">=</span>-29.2/21.8/70.9, <span style="color:#19177c">Ljubljana</span><span style="color:#666">=</span>-39.0/10.9/59.3, <span style="color:#19177c">Lodwar</span><span style="color:#666">=</span>-24.5/29.3/75.7, <span style="color:#19177c">Lomé</span><span style="color:#666">=</span>-20.2/26.9/75.8, <span style="color:#19177c">London</span><span style="color:#666">=</span>-36.4/11.3/61.3, Los <span style="color:#19177c">Angeles</span><span style="color:#666">=</span>-29.4/18.6/67.7, <span style="color:#19177c">Louisville</span><span style="color:#666">=</span>-36.7/13.9/64.1, <span style="color:#19177c">Luanda</span><span style="color:#666">=</span>-23.9/25.8/73.5, <span style="color:#19177c">Lubumbashi</span><span style="color:#666">=</span>-28.5/20.8/70.1, <span style="color:#19177c">Lusaka</span><span style="color:#666">=</span>-26.5/19.9/71.8, Luxembourg <span style="color:#19177c">City</span><span style="color:#666">=</span>-39.0/9.3/60.7, <span style="color:#19177c">Lviv</span><span style="color:#666">=</span>-42.8/7.8/56.1, <span style="color:#19177c">Lyon</span><span style="color:#666">=</span>-39.8/12.5/63.9, <span style="color:#19177c">Madrid</span><span style="color:#666">=</span>-35.0/15.0/66.5, <span style="color:#19177c">Mahajanga</span><span style="color:#666">=</span>-23.6/26.3/78.7, <span style="color:#19177c">Makassar</span><span style="color:#666">=</span>-23.5/26.7/77.7, <span style="color:#19177c">Makurdi</span><span style="color:#666">=</span>-21.5/26.0/76.8, <span style="color:#19177c">Malabo</span><span style="color:#666">=</span>-21.6/26.3/75.2, <span style="color:#19177c">Malé</span><span style="color:#666">=</span>-23.3/28.0/76.1, <span style="color:#19177c">Managua</span><span style="color:#666">=</span>-20.8/27.3/75.9, <span style="color:#19177c">Manama</span><span style="color:#666">=</span>-24.0/26.5/74.2, <span style="color:#19177c">Mandalay</span><span style="color:#666">=</span>-23.5/28.0/76.8, <span style="color:#19177c">Mango</span><span style="color:#666">=</span>-20.7/28.1/76.8, <span style="color:#19177c">Manila</span><span style="color:#666">=</span>-20.7/28.4/75.6, <span style="color:#19177c">Maputo</span><span style="color:#666">=</span>-29.1/22.8/78.7, <span style="color:#19177c">Marrakesh</span><span style="color:#666">=</span>-29.3/19.6/70.9, <span style="color:#19177c">Marseille</span><span style="color:#666">=</span>-31.0/15.8/66.9, <span style="color:#19177c">Maun</span><span style="color:#666">=</span>-28.9/22.4/69.7, <span style="color:#19177c">Medan</span><span style="color:#666">=</span>-24.2/26.5/76.0, Mek<span style="color:#ba2121">&#39;ele=-29.4/22.7/73.3, Melbourne=-38.3/15.1/66.1, Memphis=-33.5/17.2/67.1, Mexicali=-24.0/23.1/71.9, Mexico City=-32.0/17.5/71.3, Miami=-29.6/24.9/75.9, Milan=-33.2/13.0/60.8, Milwaukee=-40.1/8.9/59.1, Minneapolis=-41.5/7.8/56.3, Minsk=-42.8/6.7/54.2, Mogadishu=-21.8/27.1/76.8, Mombasa=-22.8/26.3/76.9, Monaco=-38.1/16.4/66.9, Moncton=-42.1/6.1/59.2, Monterrey=-27.4/22.3/70.4, Montreal=-41.6/6.8/57.2, Moscow=-46.6/5.8/56.8, Mumbai=-23.1/27.1/76.1, Murmansk=-52.9/0.6/51.2, Muscat=-20.6/28.0/74.0, Mzuzu=-31.0/17.7/66.6, N&#39;</span><span style="color:#19177c">Djamena</span><span style="color:#666">=</span>-21.9/28.3/75.6, <span style="color:#19177c">Naha</span><span style="color:#666">=</span>-26.3/23.1/72.2, <span style="color:#19177c">Nairobi</span><span style="color:#666">=</span>-32.5/17.8/69.6, Nakhon <span style="color:#19177c">Ratchasima</span><span style="color:#666">=</span>-24.9/27.3/75.3, <span style="color:#19177c">Napier</span><span style="color:#666">=</span>-35.8/14.6/64.5, <span style="color:#19177c">Napoli</span><span style="color:#666">=</span>-38.7/15.9/64.9, <span style="color:#19177c">Nashville</span><span style="color:#666">=</span>-34.2/15.4/67.1, <span style="color:#19177c">Nassau</span><span style="color:#666">=</span>-24.2/24.6/71.8, <span style="color:#19177c">Ndola</span><span style="color:#666">=</span>-29.9/20.3/70.9, New <span style="color:#19177c">Delhi</span><span style="color:#666">=</span>-23.3/25.0/77.2, New <span style="color:#19177c">Orleans</span><span style="color:#666">=</span>-29.8/20.7/72.1, New York <span style="color:#19177c">City</span><span style="color:#666">=</span>-35.6/12.9/62.6, <span style="color:#19177c">Ngaoundéré</span><span style="color:#666">=</span>-28.1/22.0/69.9, <span style="color:#19177c">Niamey</span><span style="color:#666">=</span>-20.6/29.3/78.0, <span style="color:#19177c">Nicosia</span><span style="color:#666">=</span>-29.4/19.7/68.2, <span style="color:#19177c">Niigata</span><span style="color:#666">=</span>-36.7/13.9/69.4, <span style="color:#19177c">Nouadhibou</span><span style="color:#666">=</span>-29.9/21.3/73.9, <span style="color:#19177c">Nouakchott</span><span style="color:#666">=</span>-25.6/25.7/73.4, <span style="color:#19177c">Novosibirsk</span><span style="color:#666">=</span>-47.8/1.7/50.6, <span style="color:#19177c">Nuuk</span><span style="color:#666">=</span>-53.1/-1.4/49.1, <span style="color:#19177c">Odesa</span><span style="color:#666">=</span>-39.9/10.7/60.5, <span style="color:#19177c">Odienné</span><span style="color:#666">=</span>-23.3/26.0/76.2, Oklahoma <span style="color:#19177c">City</span><span style="color:#666">=</span>-34.6/15.9/66.9, <span style="color:#19177c">Omaha</span><span style="color:#666">=</span>-38.2/10.6/65.6, <span style="color:#19177c">Oranjestad</span><span style="color:#666">=</span>-22.1/28.1/81.0, <span style="color:#19177c">Oslo</span><span style="color:#666">=</span>-44.5/5.7/54.8, <span style="color:#19177c">Ottawa</span><span style="color:#666">=</span>-44.5/6.6/57.8, <span style="color:#19177c">Ouagadougou</span><span style="color:#666">=</span>-25.9/28.3/81.2, <span style="color:#19177c">Ouahigouya</span><span style="color:#666">=</span>-20.0/28.6/77.4, <span style="color:#19177c">Ouarzazate</span><span style="color:#666">=</span>-30.3/18.9/73.1, <span style="color:#19177c">Oulu</span><span style="color:#666">=</span>-45.4/2.7/54.9, <span style="color:#19177c">Palembang</span><span style="color:#666">=</span>-24.7/27.3/75.9, <span style="color:#19177c">Palermo</span><span style="color:#666">=</span>-30.1/18.5/71.7, Palm <span style="color:#19177c">Springs</span><span style="color:#666">=</span>-26.4/24.5/78.2, Palmerston <span style="color:#19177c">North</span><span style="color:#666">=</span>-37.3/13.2/64.8, Panama <span style="color:#19177c">City</span><span style="color:#666">=</span>-22.3/28.0/75.6, <span style="color:#19177c">Parakou</span><span style="color:#666">=</span>-23.9/26.8/76.2, <span style="color:#19177c">Paris</span><span style="color:#666">=</span>-38.3/12.3/62.7, <span style="color:#19177c">Perth</span><span style="color:#666">=</span>-30.1/18.7/72.0, Petropavlovsk-Kamchatsky<span style="color:#666">=</span>-47.2/1.9/49.2, <span style="color:#19177c">Philadelphia</span><span style="color:#666">=</span>-37.3/13.2/64.6, Phnom <span style="color:#19177c">Penh</span><span style="color:#666">=</span>-18.4/28.3/79.7, <span style="color:#19177c">Phoenix</span><span style="color:#666">=</span>-25.5/23.9/73.4, <span style="color:#19177c">Pittsburgh</span><span style="color:#666">=</span>-35.0/10.8/60.8, <span style="color:#19177c">Podgorica</span><span style="color:#666">=</span>-34.0/15.3/70.7, Pointe-Noire<span style="color:#666">=</span>-25.7/26.1/76.1, <span style="color:#19177c">Pontianak</span><span style="color:#666">=</span>-24.3/27.7/76.5, Port <span style="color:#19177c">Moresby</span><span style="color:#666">=</span>-21.6/26.9/77.9, Port <span style="color:#19177c">Sudan</span><span style="color:#666">=</span>-20.4/28.4/78.1, Port <span style="color:#19177c">Vila</span><span style="color:#666">=</span>-26.1/24.3/74.7, Port-Gentil<span style="color:#666">=</span>-23.9/26.0/76.0, Portland <span style="color:#666">(</span>OR<span style="color:#666">)=</span>-35.6/12.4/59.7, <span style="color:#19177c">Porto</span><span style="color:#666">=</span>-35.5/15.7/63.8, <span style="color:#19177c">Prague</span><span style="color:#666">=</span>-42.2/8.4/61.1, <span style="color:#19177c">Praia</span><span style="color:#666">=</span>-26.0/24.4/75.6, <span style="color:#19177c">Pretoria</span><span style="color:#666">=</span>-29.0/18.2/67.7, <span style="color:#19177c">Pyongyang</span><span style="color:#666">=</span>-42.5/10.8/59.3, <span style="color:#19177c">Rabat</span><span style="color:#666">=</span>-31.2/17.2/68.7, <span style="color:#19177c">Rangpur</span><span style="color:#666">=</span>-21.9/24.4/74.3, <span style="color:#19177c">Reggane</span><span style="color:#666">=</span>-20.3/28.3/79.2, <span style="color:#19177c">Reykjavík</span><span style="color:#666">=</span>-49.4/4.3/53.5, <span style="color:#19177c">Riga</span><span style="color:#666">=</span>-40.5/6.2/57.0, <span style="color:#19177c">Riyadh</span><span style="color:#666">=</span>-23.1/26.0/74.0, <span style="color:#19177c">Rome</span><span style="color:#666">=</span>-31.8/15.2/68.6, <span style="color:#19177c">Roseau</span><span style="color:#666">=</span>-22.8/26.2/76.1, Rostov-on-Don<span style="color:#666">=</span>-41.8/9.9/57.2, <span style="color:#19177c">Sacramento</span><span style="color:#666">=</span>-39.3/16.3/67.2, Saint <span style="color:#19177c">Petersburg</span><span style="color:#666">=</span>-42.6/5.8/56.4, Saint-Pierre<span style="color:#666">=</span>-43.4/5.7/56.2, Salt Lake <span style="color:#19177c">City</span><span style="color:#666">=</span>-35.3/11.6/61.8, San <span style="color:#19177c">Antonio</span><span style="color:#666">=</span>-29.8/20.8/71.2, San <span style="color:#19177c">Diego</span><span style="color:#666">=</span>-31.1/17.8/66.1, San <span style="color:#19177c">Francisco</span><span style="color:#666">=</span>-35.3/14.6/60.4, San <span style="color:#19177c">Jose</span><span style="color:#666">=</span>-33.0/16.4/65.1, San <span style="color:#19177c">José</span><span style="color:#666">=</span>-26.4/22.6/69.7, San <span style="color:#19177c">Juan</span><span style="color:#666">=</span>-20.5/27.2/77.3, San <span style="color:#19177c">Salvador</span><span style="color:#666">=</span>-25.7/23.1/75.1, Sana<span style="color:#ba2121">&#39;a=-30.8/20.0/68.6, Santo Domingo=-23.6/25.9/76.6, Sapporo=-38.9/8.9/61.8, Sarajevo=-45.0/10.1/59.4, Saskatoon=-47.3/3.3/51.5, Seattle=-38.1/11.3/60.6, Seoul=-36.0/12.5/61.2, Seville=-32.2/19.2/73.1, Shanghai=-35.1/16.7/67.0, Singapore=-23.7/27.0/81.9, Skopje=-35.5/12.4/64.3, Sochi=-34.3/14.2/65.2, Sofia=-38.2/10.6/61.6, Sokoto=-23.1/28.0/73.2, Split=-32.7/16.1/62.2, St. John&#39;</span><span style="color:#19177c">s</span><span style="color:#666">=</span>-44.1/5.0/56.4, St. <span style="color:#19177c">Louis</span><span style="color:#666">=</span>-41.2/13.9/64.2, <span style="color:#19177c">Stockholm</span><span style="color:#666">=</span>-45.5/6.6/55.9, <span style="color:#19177c">Surabaya</span><span style="color:#666">=</span>-23.4/27.1/76.1, <span style="color:#19177c">Suva</span><span style="color:#666">=</span>-28.1/25.6/78.8, <span style="color:#19177c">Suwałki</span><span style="color:#666">=</span>-45.4/7.2/62.3, <span style="color:#19177c">Sydney</span><span style="color:#666">=</span>-30.1/17.7/68.8, <span style="color:#19177c">Ségou</span><span style="color:#666">=</span>-23.2/28.0/75.1, <span style="color:#19177c">Tabora</span><span style="color:#666">=</span>-24.7/23.0/73.7, <span style="color:#19177c">Tabriz</span><span style="color:#666">=</span>-36.8/12.6/61.9, <span style="color:#19177c">Taipei</span><span style="color:#666">=</span>-24.6/23.0/74.8, <span style="color:#19177c">Tallinn</span><span style="color:#666">=</span>-42.6/6.4/60.7, <span style="color:#19177c">Tamale</span><span style="color:#666">=</span>-23.3/27.9/77.7, <span style="color:#19177c">Tamanrasset</span><span style="color:#666">=</span>-28.7/21.7/71.7, <span style="color:#19177c">Tampa</span><span style="color:#666">=</span>-34.8/22.9/70.4, <span style="color:#19177c">Tashkent</span><span style="color:#666">=</span>-32.2/14.8/64.3, <span style="color:#19177c">Tauranga</span><span style="color:#666">=</span>-38.9/14.8/66.9, <span style="color:#19177c">Tbilisi</span><span style="color:#666">=</span>-34.6/12.9/66.2, <span style="color:#19177c">Tegucigalpa</span><span style="color:#666">=</span>-27.1/21.7/74.1, <span style="color:#19177c">Tehran</span><span style="color:#666">=</span>-33.5/17.0/73.6, Tel <span style="color:#19177c">Aviv</span><span style="color:#666">=</span>-27.0/20.0/66.8, <span style="color:#19177c">Thessaloniki</span><span style="color:#666">=</span>-36.4/16.0/64.6, <span style="color:#19177c">Thiès</span><span style="color:#666">=</span>-22.4/24.0/74.2, <span style="color:#19177c">Tijuana</span><span style="color:#666">=</span>-29.9/17.8/67.9, <span style="color:#19177c">Timbuktu</span><span style="color:#666">=</span>-20.3/28.0/76.9, <span style="color:#19177c">Tirana</span><span style="color:#666">=</span>-34.2/15.2/68.3, <span style="color:#19177c">Toamasina</span><span style="color:#666">=</span>-25.2/23.4/78.7, <span style="color:#19177c">Tokyo</span><span style="color:#666">=</span>-31.5/15.4/62.2, <span style="color:#19177c">Toliara</span><span style="color:#666">=</span>-24.4/24.1/74.6, <span style="color:#19177c">Toluca</span><span style="color:#666">=</span>-36.5/12.4/60.2, <span style="color:#19177c">Toronto</span><span style="color:#666">=</span>-40.7/9.4/62.7, <span style="color:#19177c">Tripoli</span><span style="color:#666">=</span>-32.3/20.0/67.9, <span style="color:#19177c">Tromsø</span><span style="color:#666">=</span>-44.3/2.9/53.4, <span style="color:#19177c">Tucson</span><span style="color:#666">=</span>-28.7/20.9/73.6, <span style="color:#19177c">Tunis</span><span style="color:#666">=</span>-35.3/18.4/65.9, <span style="color:#19177c">Ulaanbaatar</span><span style="color:#666">=</span>-55.5/-0.4/50.6, <span style="color:#19177c">Upington</span><span style="color:#666">=</span>-29.9/20.4/76.8, <span style="color:#19177c">Vaduz</span><span style="color:#666">=</span>-40.6/10.1/69.8, <span style="color:#19177c">Valencia</span><span style="color:#666">=</span>-33.5/18.3/73.8, <span style="color:#19177c">Valletta</span><span style="color:#666">=</span>-32.2/18.8/70.1, <span style="color:#19177c">Vancouver</span><span style="color:#666">=</span>-38.7/10.4/64.5, <span style="color:#19177c">Veracruz</span><span style="color:#666">=</span>-25.0/25.4/76.1, <span style="color:#19177c">Vienna</span><span style="color:#666">=</span>-39.5/10.4/63.9, <span style="color:#19177c">Vientiane</span><span style="color:#666">=</span>-23.6/25.9/78.1, <span style="color:#19177c">Villahermosa</span><span style="color:#666">=</span>-23.7/27.1/75.1, <span style="color:#19177c">Vilnius</span><span style="color:#666">=</span>-43.7/6.0/56.9, Virginia <span style="color:#19177c">Beach</span><span style="color:#666">=</span>-31.6/15.8/66.6, <span style="color:#19177c">Vladivostok</span><span style="color:#666">=</span>-46.6/4.9/55.3, <span style="color:#19177c">Warsaw</span><span style="color:#666">=</span>-44.5/8.5/55.2, Washington, D.C.<span style="color:#666">=</span>-34.4/14.6/63.7, <span style="color:#19177c">Wau</span><span style="color:#666">=</span>-22.0/27.8/79.3, <span style="color:#19177c">Wellington</span><span style="color:#666">=</span>-36.5/12.9/61.2, <span style="color:#19177c">Whitehorse</span><span style="color:#666">=</span>-49.8/-0.1/48.7, <span style="color:#19177c">Wichita</span><span style="color:#666">=</span>-36.1/13.9/64.1, <span style="color:#19177c">Willemstad</span><span style="color:#666">=</span>-25.4/28.0/79.2, <span style="color:#19177c">Winnipeg</span><span style="color:#666">=</span>-48.1/3.0/56.5, <span style="color:#19177c">Wrocław</span><span style="color:#666">=</span>-39.2/9.6/59.3, Xi<span style="">&#39;</span><span style="color:#19177c">an</span><span style="color:#666">=</span>-38.3/14.1/64.6, <span style="color:#19177c">Yakutsk</span><span style="color:#666">=</span>-57.8/-8.8/40.8, <span style="color:#19177c">Yangon</span><span style="color:#666">=</span>-23.1/27.5/83.6, <span style="color:#19177c">Yaoundé</span><span style="color:#666">=</span>-35.7/23.8/72.9, <span style="color:#19177c">Yellowknife</span><span style="color:#666">=</span>-52.0/-4.3/42.5, <span style="color:#19177c">Yerevan</span><span style="color:#666">=</span>-42.5/12.4/63.4, <span style="color:#19177c">Yinchuan</span><span style="color:#666">=</span>-40.9/9.0/57.6, <span style="color:#19177c">Zagreb</span><span style="color:#666">=</span>-37.9/10.7/58.1, Zanzibar <span style="color:#19177c">City</span><span style="color:#666">=</span>-23.9/26.0/77.2, <span style="color:#19177c">Zürich</span><span style="color:#666">=</span>-39.0/9.3/56.0, <span style="color:#19177c">Ürümqi</span><span style="color:#666">=</span>-39.6/7.4/58.1, <span style="color:#19177c">İzmir</span><span style="color:#666">=</span>-32.8/17.9/67.9<span style="color:#666">}</span>Run Time <span style="color:#666">(</span>s<span style="color:#666">)</span>: real 5.327 user 44.402699 sys 4.063590
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.quit
</span></span><span style="display:flex;"><span>real 33.54
</span></span><span style="display:flex;"><span>user 253.39
</span></span><span style="display:flex;"><span>sys 10.08
</span></span></code></pre></div><p>This gives us the following timings:</p>
<ul>
<li>33.54 seconds elapsed, of which:
<ul>
<li>27.48s reading the file</li>
<li>5.33s calculations</li>
</ul>
</li>
</ul>
<h2 id="optimisations">Optimisations&nbsp;<a class="headline-hash" href="#optimisations">🔗</a> </h2>
<p>If we nest the <code>READ_CSV</code> directly in the CTE (instead of doing a <code>CREATE TABLE</code> with it beforehand) then we shave off some time, taking it down to about 26 seconds:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ /usr/bin/time -p duckdb -no-stdin -init 1brc.opt2.sql
</span></span><span style="display:flex;"><span>-- Loading resources from 1brc.opt2.sql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>WITH src AS <span style="color:#666">(</span>SELECT station_name,
</span></span><span style="display:flex;"><span>                    MIN<span style="color:#666">(</span>measurement<span style="color:#666">)</span> AS min_measurement,
</span></span><span style="display:flex;"><span>                    CAST<span style="color:#666">(</span>AVG<span style="color:#666">(</span>measurement<span style="color:#666">)</span> AS DECIMAL<span style="color:#666">(</span>8,1<span style="color:#666">))</span> AS mean_measurement,
</span></span><span style="display:flex;"><span>                    MAX<span style="color:#666">(</span>measurement<span style="color:#666">)</span> AS max_measurement
</span></span><span style="display:flex;"><span>            FROM READ_CSV<span style="color:#666">(</span><span style="color:#ba2121">&#39;measurements.txt&#39;</span>, <span style="color:#19177c">header</span><span style="color:#666">=</span>false, <span style="color:#19177c">columns</span><span style="color:#666">=</span> <span style="color:#666">{</span><span style="color:#ba2121">&#39;station_name&#39;</span>:<span style="color:#ba2121">&#39;VARCHAR&#39;</span>,<span style="color:#ba2121">&#39;measurement&#39;</span>:<span style="color:#ba2121">&#39;double&#39;</span><span style="color:#666">}</span>, <span style="color:#19177c">delim</span><span style="color:#666">=</span><span style="color:#ba2121">&#39;;&#39;</span><span style="color:#666">)</span>
</span></span><span style="display:flex;"><span>            GROUP BY station_name<span style="color:#666">)</span>
</span></span><span style="display:flex;"><span>    SELECT <span style="color:#ba2121">&#39;{&#39;</span> <span style="color:#666">||</span>
</span></span><span style="display:flex;"><span>            ARRAY_TO_STRING<span style="color:#666">(</span>LIST_SORT<span style="color:#666">(</span>LIST<span style="color:#666">(</span>station_name <span style="color:#666">||</span> <span style="color:#ba2121">&#39;=&#39;</span> <span style="color:#666">||</span> CONCAT_WS<span style="color:#666">(</span><span style="color:#ba2121">&#39;/&#39;</span>,min_measurement, mean_measurement, max_measurement<span style="color:#666">)))</span>,<span style="color:#ba2121">&#39;, &#39;</span><span style="color:#666">)</span> <span style="color:#666">||</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ba2121">&#39;}&#39;</span> AS <span style="color:#ba2121">&#34;1BRC&#34;</span>
</span></span><span style="display:flex;"><span>    FROM src;
</span></span><span style="display:flex;"><span>100% ▕████████████████████████████████████████████████████████████▏
</span></span><span style="display:flex;"><span>1BRC<span style="color:#666">{</span><span style="color:#19177c">Abha</span><span style="color:#666">=</span>-33.0/18.0/69.2, <span style="color:#19177c">Abidjan</span><span style="color:#666">=</span>-24.4/26.0/75.4, <span style="color:#19177c">Abéché</span><span style="color:#666">=</span>-21.1/29.4/77.1, <span style="color:#19177c">Accra</span><span style="color:#666">=</span>-25.1/26.4/79.0, Addis <span style="color:#19177c">Ababa</span><span style="color:#666">=</span>-33.6/16.0/66.8, <span style="color:#19177c">Adelaide</span><span style="color:#666">=</span>-33.4/17.3/68.5, <span style="color:#19177c">Aden</span><span style="color:#666">=</span>-19.3/29.1/77.9, <span style="color:#19177c">Ahvaz</span><span style="color:#666">=</span>-24.1/25.4/74.0, <span style="color:#19177c">Albuquerque</span><span style="color:#666">=</span>-33.5/14.0/61.8, <span style="color:#19177c">Alexandra</span><span style="color:#666">=</span>-39.7/11.0/63.7, <span style="color:#19177c">Alexandria</span><span style="color:#666">=</span>-30.2/20.0/74.4, <span style="color:#19177c">Algiers</span><span style="color:#666">=</span>-39.2/18.2/68.1, Alice <span style="color:#19177c">Springs</span><span style="color:#666">=</span>-32.5/21.0/67.6, <span style="color:#19177c">Almaty</span><span style="color:#666">=</span>-37.4/10.0/59.0, <span style="color:#19177c">Amsterdam</span><span style="color:#666">=</span>-39.8/10.2/60.6, <span style="color:#19177c">Anadyr</span><span style="color:#666">=</span>-59.6/-6.9/42.6, <span style="color:#19177c">Anchorage</span><span style="color:#666">=</span>-45.3/2.8/53.4, Andorra la <span style="color:#19177c">Vella</span><span style="color:#666">=</span>-41.5/9.8/59.4, <span style="color:#19177c">Ankara</span><span style="color:#666">=</span>-41.1/12.0/60.7, <span style="color:#19177c">Antananarivo</span><span style="color:#666">=</span>-31.3/17.9/69.2, <span style="color:#19177c">Antsiranana</span><span style="color:#666">=</span>-26.0/25.2/74.4, <span style="color:#19177c">Arkhangelsk</span><span style="color:#666">=</span>-45.8/1.3/58.6, <span style="color:#19177c">Ashgabat</span><span style="color:#666">=</span>-34.8/17.1/68.5, <span style="color:#19177c">Asmara</span><span style="color:#666">=</span>-32.4/15.6/65.1, <span style="color:#19177c">Assab</span><span style="color:#666">=</span>-23.4/30.5/81.7, <span style="color:#19177c">Astana</span><span style="color:#666">=</span>-46.4/3.5/52.5, <span style="color:#19177c">Athens</span><span style="color:#666">=</span>-31.6/19.2/68.3, <span style="color:#19177c">Atlanta</span><span style="color:#666">=</span>-33.1/17.0/65.3, <span style="color:#19177c">Auckland</span><span style="color:#666">=</span>-33.6/15.2/62.4, <span style="color:#19177c">Austin</span><span style="color:#666">=</span>-27.3/20.7/67.3, <span style="color:#19177c">Baghdad</span><span style="color:#666">=</span>-29.0/22.8/73.4, <span style="color:#19177c">Baguio</span><span style="color:#666">=</span>-29.6/19.5/69.2, <span style="color:#19177c">Baku</span><span style="color:#666">=</span>-31.6/15.1/63.3, <span style="color:#19177c">Baltimore</span><span style="color:#666">=</span>-37.3/13.1/61.8, <span style="color:#19177c">Bamako</span><span style="color:#666">=</span>-22.4/27.8/78.7, <span style="color:#19177c">Bangkok</span><span style="color:#666">=</span>-25.7/28.6/78.4, <span style="color:#19177c">Bangui</span><span style="color:#666">=</span>-23.0/26.0/75.6, <span style="color:#19177c">Banjul</span><span style="color:#666">=</span>-25.6/26.0/71.7, <span style="color:#19177c">Barcelona</span><span style="color:#666">=</span>-31.3/18.2/65.3, <span style="color:#19177c">Bata</span><span style="color:#666">=</span>-22.5/25.1/80.4, <span style="color:#19177c">Batumi</span><span style="color:#666">=</span>-33.3/14.0/63.0, <span style="color:#19177c">Beijing</span><span style="color:#666">=</span>-34.5/12.9/63.9, <span style="color:#19177c">Beirut</span><span style="color:#666">=</span>-28.6/20.9/70.9, <span style="color:#19177c">Belgrade</span><span style="color:#666">=</span>-36.0/12.5/60.5, Belize <span style="color:#19177c">City</span><span style="color:#666">=</span>-26.4/26.7/75.2, <span style="color:#19177c">Benghazi</span><span style="color:#666">=</span>-33.9/19.9/72.9, <span style="color:#19177c">Bergen</span><span style="color:#666">=</span>-42.5/7.7/54.3, <span style="color:#19177c">Berlin</span><span style="color:#666">=</span>-37.6/10.3/61.3, <span style="color:#19177c">Bilbao</span><span style="color:#666">=</span>-36.5/14.7/65.9, <span style="color:#19177c">Birao</span><span style="color:#666">=</span>-25.7/26.5/76.0, <span style="color:#19177c">Bishkek</span><span style="color:#666">=</span>-38.9/11.3/59.6, <span style="color:#19177c">Bissau</span><span style="color:#666">=</span>-21.0/27.0/75.0, <span style="color:#19177c">Blantyre</span><span style="color:#666">=</span>-26.3/22.2/72.8, <span style="color:#19177c">Bloemfontein</span><span style="color:#666">=</span>-34.3/15.6/65.8, <span style="color:#19177c">Boise</span><span style="color:#666">=</span>-37.2/11.4/59.2, <span style="color:#19177c">Bordeaux</span><span style="color:#666">=</span>-35.1/14.2/64.4, <span style="color:#19177c">Bosaso</span><span style="color:#666">=</span>-21.1/30.0/82.5, <span style="color:#19177c">Boston</span><span style="color:#666">=</span>-42.1/10.9/61.9, <span style="color:#19177c">Bouaké</span><span style="color:#666">=</span>-24.0/26.0/75.9, <span style="color:#19177c">Bratislava</span><span style="color:#666">=</span>-38.7/10.5/62.3, <span style="color:#19177c">Brazzaville</span><span style="color:#666">=</span>-26.6/25.0/71.4, <span style="color:#19177c">Bridgetown</span><span style="color:#666">=</span>-22.3/27.0/79.8, <span style="color:#19177c">Brisbane</span><span style="color:#666">=</span>-30.4/21.4/71.4, <span style="color:#19177c">Brussels</span><span style="color:#666">=</span>-39.1/10.5/60.7, <span style="color:#19177c">Bucharest</span><span style="color:#666">=</span>-39.9/10.8/60.0, <span style="color:#19177c">Budapest</span><span style="color:#666">=</span>-37.8/11.3/63.8, <span style="color:#19177c">Bujumbura</span><span style="color:#666">=</span>-25.6/23.8/86.6, <span style="color:#19177c">Bulawayo</span><span style="color:#666">=</span>-29.9/18.9/71.8, <span style="color:#19177c">Burnie</span><span style="color:#666">=</span>-36.1/13.1/63.2, <span style="color:#19177c">Busan</span><span style="color:#666">=</span>-36.8/15.0/64.3, Cabo San <span style="color:#19177c">Lucas</span><span style="color:#666">=</span>-26.0/23.9/70.9, <span style="color:#19177c">Cairns</span><span style="color:#666">=</span>-23.1/25.0/74.6, <span style="color:#19177c">Cairo</span><span style="color:#666">=</span>-27.2/21.4/71.1, <span style="color:#19177c">Calgary</span><span style="color:#666">=</span>-43.0/4.4/54.6, <span style="color:#19177c">Canberra</span><span style="color:#666">=</span>-34.8/13.1/66.4, Cape <span style="color:#19177c">Town</span><span style="color:#666">=</span>-33.0/16.2/64.1, <span style="color:#19177c">Changsha</span><span style="color:#666">=</span>-34.1/17.4/68.0, <span style="color:#19177c">Charlotte</span><span style="color:#666">=</span>-37.2/16.1/66.0, Chiang <span style="color:#19177c">Mai</span><span style="color:#666">=</span>-22.3/25.8/72.7, <span style="color:#19177c">Chicago</span><span style="color:#666">=</span>-37.6/9.8/63.3, <span style="color:#19177c">Chihuahua</span><span style="color:#666">=</span>-29.6/18.6/72.5, <span style="color:#19177c">Chittagong</span><span style="color:#666">=</span>-23.0/25.9/75.1, <span style="color:#19177c">Chișinău</span><span style="color:#666">=</span>-35.3/10.2/58.3, <span style="color:#19177c">Chongqing</span><span style="color:#666">=</span>-35.9/18.6/70.6, <span style="color:#19177c">Christchurch</span><span style="color:#666">=</span>-40.6/12.2/63.0, City of San <span style="color:#19177c">Marino</span><span style="color:#666">=</span>-44.6/11.8/61.8, <span style="color:#19177c">Colombo</span><span style="color:#666">=</span>-21.7/27.4/74.9, <span style="color:#19177c">Columbus</span><span style="color:#666">=</span>-34.7/11.7/61.1, <span style="color:#19177c">Conakry</span><span style="color:#666">=</span>-25.6/26.4/75.7, <span style="color:#19177c">Copenhagen</span><span style="color:#666">=</span>-40.2/9.1/58.4, <span style="color:#19177c">Cotonou</span><span style="color:#666">=</span>-22.8/27.2/78.5, <span style="color:#19177c">Cracow</span><span style="color:#666">=</span>-42.1/9.3/62.6, Da <span style="color:#19177c">Lat</span><span style="color:#666">=</span>-31.1/17.9/65.7, Da <span style="color:#19177c">Nang</span><span style="color:#666">=</span>-23.9/25.8/73.5, <span style="color:#19177c">Dakar</span><span style="color:#666">=</span>-25.3/24.0/77.6, <span style="color:#19177c">Dallas</span><span style="color:#666">=</span>-33.4/19.0/69.6, <span style="color:#19177c">Damascus</span><span style="color:#666">=</span>-32.4/17.0/66.5, <span style="color:#19177c">Dampier</span><span style="color:#666">=</span>-23.7/26.4/76.5, Dar es <span style="color:#19177c">Salaam</span><span style="color:#666">=</span>-32.1/25.8/72.0, <span style="color:#19177c">Darwin</span><span style="color:#666">=</span>-25.5/27.6/80.6, <span style="color:#19177c">Denpasar</span><span style="color:#666">=</span>-26.2/23.7/71.8, <span style="color:#19177c">Denver</span><span style="color:#666">=</span>-41.5/10.4/59.5, <span style="color:#19177c">Detroit</span><span style="color:#666">=</span>-38.6/10.0/62.4, <span style="color:#19177c">Dhaka</span><span style="color:#666">=</span>-22.8/25.9/76.4, <span style="color:#19177c">Dikson</span><span style="color:#666">=</span>-62.7/-11.1/39.0, <span style="color:#19177c">Dili</span><span style="color:#666">=</span>-26.0/26.6/78.4, <span style="color:#19177c">Djibouti</span><span style="color:#666">=</span>-19.2/29.9/79.6, <span style="color:#19177c">Dodoma</span><span style="color:#666">=</span>-31.6/22.7/71.4, <span style="color:#19177c">Dolisie</span><span style="color:#666">=</span>-28.8/24.0/75.4, <span style="color:#19177c">Douala</span><span style="color:#666">=</span>-21.4/26.7/79.6, <span style="color:#19177c">Dubai</span><span style="color:#666">=</span>-22.8/26.9/75.0, <span style="color:#19177c">Dublin</span><span style="color:#666">=</span>-44.0/9.8/59.5, <span style="color:#19177c">Dunedin</span><span style="color:#666">=</span>-42.7/11.1/64.8, <span style="color:#19177c">Durban</span><span style="color:#666">=</span>-29.8/20.6/67.6, <span style="color:#19177c">Dushanbe</span><span style="color:#666">=</span>-36.0/14.7/64.1, <span style="color:#19177c">Edinburgh</span><span style="color:#666">=</span>-38.0/9.3/60.4, <span style="color:#19177c">Edmonton</span><span style="color:#666">=</span>-45.1/4.2/57.7, El <span style="color:#19177c">Paso</span><span style="color:#666">=</span>-34.0/18.1/65.6, <span style="color:#19177c">Entebbe</span><span style="color:#666">=</span>-28.2/21.0/68.8, <span style="color:#19177c">Erbil</span><span style="color:#666">=</span>-28.7/19.5/68.4, <span style="color:#19177c">Erzurum</span><span style="color:#666">=</span>-59.1/5.1/52.7, <span style="color:#19177c">Fairbanks</span><span style="color:#666">=</span>-53.7/-2.3/49.5, <span style="color:#19177c">Fianarantsoa</span><span style="color:#666">=</span>-29.2/17.9/68.1, Flores,  <span style="color:#19177c">Petén</span><span style="color:#666">=</span>-26.1/26.4/76.1, <span style="color:#19177c">Frankfurt</span><span style="color:#666">=</span>-36.8/10.6/59.0, <span style="color:#19177c">Fresno</span><span style="color:#666">=</span>-35.2/17.9/66.9, <span style="color:#19177c">Fukuoka</span><span style="color:#666">=</span>-30.4/17.0/66.5, <span style="color:#19177c">Gaborone</span><span style="color:#666">=</span>-26.4/21.0/71.1, <span style="color:#19177c">Gabès</span><span style="color:#666">=</span>-31.9/19.5/72.1, <span style="color:#19177c">Gagnoa</span><span style="color:#666">=</span>-21.3/26.0/75.6, <span style="color:#19177c">Gangtok</span><span style="color:#666">=</span>-32.2/15.2/64.0, <span style="color:#19177c">Garissa</span><span style="color:#666">=</span>-20.1/29.3/79.5, <span style="color:#19177c">Garoua</span><span style="color:#666">=</span>-22.2/28.3/81.5, George <span style="color:#19177c">Town</span><span style="color:#666">=</span>-20.6/27.9/76.6, <span style="color:#19177c">Ghanzi</span><span style="color:#666">=</span>-28.2/21.4/70.9, Gjoa <span style="color:#19177c">Haven</span><span style="color:#666">=</span>-65.2/-14.4/35.7, <span style="color:#19177c">Guadalajara</span><span style="color:#666">=</span>-28.3/20.9/79.5, <span style="color:#19177c">Guangzhou</span><span style="color:#666">=</span>-33.5/22.4/73.1, Guatemala <span style="color:#19177c">City</span><span style="color:#666">=</span>-31.2/20.4/71.3, <span style="color:#19177c">Halifax</span><span style="color:#666">=</span>-47.6/7.5/53.9, <span style="color:#19177c">Hamburg</span><span style="color:#666">=</span>-42.7/9.7/60.2, <span style="color:#19177c">Hamilton</span><span style="color:#666">=</span>-36.6/13.8/63.5, Hanga <span style="color:#19177c">Roa</span><span style="color:#666">=</span>-27.6/20.5/69.3, <span style="color:#19177c">Hanoi</span><span style="color:#666">=</span>-24.9/23.6/74.1, <span style="color:#19177c">Harare</span><span style="color:#666">=</span>-33.0/18.4/69.0, <span style="color:#19177c">Harbin</span><span style="color:#666">=</span>-45.9/5.0/55.5, <span style="color:#19177c">Hargeisa</span><span style="color:#666">=</span>-30.0/21.7/72.5, Hat <span style="color:#19177c">Yai</span><span style="color:#666">=</span>-25.0/27.0/79.0, <span style="color:#19177c">Havana</span><span style="color:#666">=</span>-24.8/25.2/75.7, <span style="color:#19177c">Helsinki</span><span style="color:#666">=</span>-43.1/5.9/56.2, <span style="color:#19177c">Heraklion</span><span style="color:#666">=</span>-32.4/18.9/69.0, <span style="color:#19177c">Hiroshima</span><span style="color:#666">=</span>-33.9/16.3/70.1, Ho Chi Minh <span style="color:#19177c">City</span><span style="color:#666">=</span>-24.0/27.4/84.4, <span style="color:#19177c">Hobart</span><span style="color:#666">=</span>-38.7/12.7/63.5, Hong <span style="color:#19177c">Kong</span><span style="color:#666">=</span>-26.6/23.3/72.2, <span style="color:#19177c">Honiara</span><span style="color:#666">=</span>-25.5/26.5/75.4, <span style="color:#19177c">Honolulu</span><span style="color:#666">=</span>-25.8/25.4/73.5, <span style="color:#19177c">Houston</span><span style="color:#666">=</span>-28.6/20.8/69.1, <span style="color:#19177c">Ifrane</span><span style="color:#666">=</span>-36.7/11.4/61.5, <span style="color:#19177c">Indianapolis</span><span style="color:#666">=</span>-37.9/11.8/63.6, <span style="color:#19177c">Iqaluit</span><span style="color:#666">=</span>-57.0/-9.3/41.7, <span style="color:#19177c">Irkutsk</span><span style="color:#666">=</span>-48.5/1.0/48.6, <span style="color:#19177c">Istanbul</span><span style="color:#666">=</span>-33.4/13.9/60.6, <span style="color:#19177c">Jacksonville</span><span style="color:#666">=</span>-28.2/20.3/69.9, <span style="color:#19177c">Jakarta</span><span style="color:#666">=</span>-21.9/26.7/76.4, <span style="color:#19177c">Jayapura</span><span style="color:#666">=</span>-25.0/27.0/75.5, <span style="color:#19177c">Jerusalem</span><span style="color:#666">=</span>-31.2/18.3/67.6, <span style="color:#19177c">Johannesburg</span><span style="color:#666">=</span>-35.3/15.5/66.9, <span style="color:#19177c">Jos</span><span style="color:#666">=</span>-28.9/22.8/71.8, <span style="color:#19177c">Juba</span><span style="color:#666">=</span>-20.9/27.8/79.4, <span style="color:#19177c">Kabul</span><span style="color:#666">=</span>-36.1/12.1/61.8, <span style="color:#19177c">Kampala</span><span style="color:#666">=</span>-28.1/20.0/69.1, <span style="color:#19177c">Kandi</span><span style="color:#666">=</span>-22.0/27.7/76.9, <span style="color:#19177c">Kankan</span><span style="color:#666">=</span>-24.0/26.5/74.6, <span style="color:#19177c">Kano</span><span style="color:#666">=</span>-21.3/26.4/79.3, Kansas <span style="color:#19177c">City</span><span style="color:#666">=</span>-40.6/12.5/62.8, <span style="color:#19177c">Karachi</span><span style="color:#666">=</span>-25.3/26.0/81.8, <span style="color:#19177c">Karonga</span><span style="color:#666">=</span>-22.9/24.4/72.4, <span style="color:#19177c">Kathmandu</span><span style="color:#666">=</span>-32.2/18.3/66.6, <span style="color:#19177c">Khartoum</span><span style="color:#666">=</span>-23.2/29.9/80.7, <span style="color:#19177c">Kingston</span><span style="color:#666">=</span>-20.5/27.4/82.6, <span style="color:#19177c">Kinshasa</span><span style="color:#666">=</span>-25.0/25.3/74.0, <span style="color:#19177c">Kolkata</span><span style="color:#666">=</span>-24.9/26.7/73.9, Kuala <span style="color:#19177c">Lumpur</span><span style="color:#666">=</span>-25.9/27.3/76.2, <span style="color:#19177c">Kumasi</span><span style="color:#666">=</span>-23.1/26.0/74.6, <span style="color:#19177c">Kunming</span><span style="color:#666">=</span>-36.1/15.7/67.9, <span style="color:#19177c">Kuopio</span><span style="color:#666">=</span>-47.0/3.4/56.9, Kuwait <span style="color:#19177c">City</span><span style="color:#666">=</span>-25.8/25.7/74.1, <span style="color:#19177c">Kyiv</span><span style="color:#666">=</span>-40.6/8.4/62.5, <span style="color:#19177c">Kyoto</span><span style="color:#666">=</span>-36.9/15.8/62.4, La <span style="color:#19177c">Ceiba</span><span style="color:#666">=</span>-22.1/26.2/76.5, La <span style="color:#19177c">Paz</span><span style="color:#666">=</span>-27.7/23.7/71.5, <span style="color:#19177c">Lagos</span><span style="color:#666">=</span>-23.9/26.8/76.1, <span style="color:#19177c">Lahore</span><span style="color:#666">=</span>-28.4/24.3/77.3, Lake Havasu <span style="color:#19177c">City</span><span style="color:#666">=</span>-28.0/23.7/77.1, Lake <span style="color:#19177c">Tekapo</span><span style="color:#666">=</span>-37.7/8.7/62.3, Las Palmas de Gran <span style="color:#19177c">Canaria</span><span style="color:#666">=</span>-29.0/21.2/69.9, Las <span style="color:#19177c">Vegas</span><span style="color:#666">=</span>-28.4/20.3/72.0, <span style="color:#19177c">Launceston</span><span style="color:#666">=</span>-36.5/13.1/62.6, <span style="color:#19177c">Lhasa</span><span style="color:#666">=</span>-44.2/7.6/59.7, <span style="color:#19177c">Libreville</span><span style="color:#666">=</span>-22.8/25.9/75.4, <span style="color:#19177c">Lisbon</span><span style="color:#666">=</span>-29.6/17.5/65.5, <span style="color:#19177c">Livingstone</span><span style="color:#666">=</span>-29.2/21.8/70.9, <span style="color:#19177c">Ljubljana</span><span style="color:#666">=</span>-39.0/10.9/59.3, <span style="color:#19177c">Lodwar</span><span style="color:#666">=</span>-24.5/29.3/75.7, <span style="color:#19177c">Lomé</span><span style="color:#666">=</span>-20.2/26.9/75.8, <span style="color:#19177c">London</span><span style="color:#666">=</span>-36.4/11.3/61.3, Los <span style="color:#19177c">Angeles</span><span style="color:#666">=</span>-29.4/18.6/67.7, <span style="color:#19177c">Louisville</span><span style="color:#666">=</span>-36.7/13.9/64.1, <span style="color:#19177c">Luanda</span><span style="color:#666">=</span>-23.9/25.8/73.5, <span style="color:#19177c">Lubumbashi</span><span style="color:#666">=</span>-28.5/20.8/70.1, <span style="color:#19177c">Lusaka</span><span style="color:#666">=</span>-26.5/19.9/71.8, Luxembourg <span style="color:#19177c">City</span><span style="color:#666">=</span>-39.0/9.3/60.7, <span style="color:#19177c">Lviv</span><span style="color:#666">=</span>-42.8/7.8/56.1, <span style="color:#19177c">Lyon</span><span style="color:#666">=</span>-39.8/12.5/63.9, <span style="color:#19177c">Madrid</span><span style="color:#666">=</span>-35.0/15.0/66.5, <span style="color:#19177c">Mahajanga</span><span style="color:#666">=</span>-23.6/26.3/78.7, <span style="color:#19177c">Makassar</span><span style="color:#666">=</span>-23.5/26.7/77.7, <span style="color:#19177c">Makurdi</span><span style="color:#666">=</span>-21.5/26.0/76.8, <span style="color:#19177c">Malabo</span><span style="color:#666">=</span>-21.6/26.3/75.2, <span style="color:#19177c">Malé</span><span style="color:#666">=</span>-23.3/28.0/76.1, <span style="color:#19177c">Managua</span><span style="color:#666">=</span>-20.8/27.3/75.9, <span style="color:#19177c">Manama</span><span style="color:#666">=</span>-24.0/26.5/74.2, <span style="color:#19177c">Mandalay</span><span style="color:#666">=</span>-23.5/28.0/76.8, <span style="color:#19177c">Mango</span><span style="color:#666">=</span>-20.7/28.1/76.8, <span style="color:#19177c">Manila</span><span style="color:#666">=</span>-20.7/28.4/75.6, <span style="color:#19177c">Maputo</span><span style="color:#666">=</span>-29.1/22.8/78.7, <span style="color:#19177c">Marrakesh</span><span style="color:#666">=</span>-29.3/19.6/70.9, <span style="color:#19177c">Marseille</span><span style="color:#666">=</span>-31.0/15.8/66.9, <span style="color:#19177c">Maun</span><span style="color:#666">=</span>-28.9/22.4/69.7, <span style="color:#19177c">Medan</span><span style="color:#666">=</span>-24.2/26.5/76.0, Mek<span style="color:#ba2121">&#39;ele=-29.4/22.7/73.3, Melbourne=-38.3/15.1/66.1, Memphis=-33.5/17.2/67.1, Mexicali=-24.0/23.1/71.9, Mexico City=-32.0/17.5/71.3, Miami=-29.6/24.9/75.9, Milan=-33.2/13.0/60.8, Milwaukee=-40.1/8.9/59.1, Minneapolis=-41.5/7.8/56.3, Minsk=-42.8/6.7/54.2, Mogadishu=-21.8/27.1/76.8, Mombasa=-22.8/26.3/76.9, Monaco=-38.1/16.4/66.9, Moncton=-42.1/6.1/59.2, Monterrey=-27.4/22.3/70.4, Montreal=-41.6/6.8/57.2, Moscow=-46.6/5.8/56.8, Mumbai=-23.1/27.1/76.1, Murmansk=-52.9/0.6/51.2, Muscat=-20.6/28.0/74.0, Mzuzu=-31.0/17.7/66.6, N&#39;</span><span style="color:#19177c">Djamena</span><span style="color:#666">=</span>-21.9/28.3/75.6, <span style="color:#19177c">Naha</span><span style="color:#666">=</span>-26.3/23.1/72.2, <span style="color:#19177c">Nairobi</span><span style="color:#666">=</span>-32.5/17.8/69.6, Nakhon <span style="color:#19177c">Ratchasima</span><span style="color:#666">=</span>-24.9/27.3/75.3, <span style="color:#19177c">Napier</span><span style="color:#666">=</span>-35.8/14.6/64.5, <span style="color:#19177c">Napoli</span><span style="color:#666">=</span>-38.7/15.9/64.9, <span style="color:#19177c">Nashville</span><span style="color:#666">=</span>-34.2/15.4/67.1, <span style="color:#19177c">Nassau</span><span style="color:#666">=</span>-24.2/24.6/71.8, <span style="color:#19177c">Ndola</span><span style="color:#666">=</span>-29.9/20.3/70.9, New <span style="color:#19177c">Delhi</span><span style="color:#666">=</span>-23.3/25.0/77.2, New <span style="color:#19177c">Orleans</span><span style="color:#666">=</span>-29.8/20.7/72.1, New York <span style="color:#19177c">City</span><span style="color:#666">=</span>-35.6/12.9/62.6, <span style="color:#19177c">Ngaoundéré</span><span style="color:#666">=</span>-28.1/22.0/69.9, <span style="color:#19177c">Niamey</span><span style="color:#666">=</span>-20.6/29.3/78.0, <span style="color:#19177c">Nicosia</span><span style="color:#666">=</span>-29.4/19.7/68.2, <span style="color:#19177c">Niigata</span><span style="color:#666">=</span>-36.7/13.9/69.4, <span style="color:#19177c">Nouadhibou</span><span style="color:#666">=</span>-29.9/21.3/73.9, <span style="color:#19177c">Nouakchott</span><span style="color:#666">=</span>-25.6/25.7/73.4, <span style="color:#19177c">Novosibirsk</span><span style="color:#666">=</span>-47.8/1.7/50.6, <span style="color:#19177c">Nuuk</span><span style="color:#666">=</span>-53.1/-1.4/49.1, <span style="color:#19177c">Odesa</span><span style="color:#666">=</span>-39.9/10.7/60.5, <span style="color:#19177c">Odienné</span><span style="color:#666">=</span>-23.3/26.0/76.2, Oklahoma <span style="color:#19177c">City</span><span style="color:#666">=</span>-34.6/15.9/66.9, <span style="color:#19177c">Omaha</span><span style="color:#666">=</span>-38.2/10.6/65.6, <span style="color:#19177c">Oranjestad</span><span style="color:#666">=</span>-22.1/28.1/81.0, <span style="color:#19177c">Oslo</span><span style="color:#666">=</span>-44.5/5.7/54.8, <span style="color:#19177c">Ottawa</span><span style="color:#666">=</span>-44.5/6.6/57.8, <span style="color:#19177c">Ouagadougou</span><span style="color:#666">=</span>-25.9/28.3/81.2, <span style="color:#19177c">Ouahigouya</span><span style="color:#666">=</span>-20.0/28.6/77.4, <span style="color:#19177c">Ouarzazate</span><span style="color:#666">=</span>-30.3/18.9/73.1, <span style="color:#19177c">Oulu</span><span style="color:#666">=</span>-45.4/2.7/54.9, <span style="color:#19177c">Palembang</span><span style="color:#666">=</span>-24.7/27.3/75.9, <span style="color:#19177c">Palermo</span><span style="color:#666">=</span>-30.1/18.5/71.7, Palm <span style="color:#19177c">Springs</span><span style="color:#666">=</span>-26.4/24.5/78.2, Palmerston <span style="color:#19177c">North</span><span style="color:#666">=</span>-37.3/13.2/64.8, Panama <span style="color:#19177c">City</span><span style="color:#666">=</span>-22.3/28.0/75.6, <span style="color:#19177c">Parakou</span><span style="color:#666">=</span>-23.9/26.8/76.2, <span style="color:#19177c">Paris</span><span style="color:#666">=</span>-38.3/12.3/62.7, <span style="color:#19177c">Perth</span><span style="color:#666">=</span>-30.1/18.7/72.0, Petropavlovsk-Kamchatsky<span style="color:#666">=</span>-47.2/1.9/49.2, <span style="color:#19177c">Philadelphia</span><span style="color:#666">=</span>-37.3/13.2/64.6, Phnom <span style="color:#19177c">Penh</span><span style="color:#666">=</span>-18.4/28.3/79.7, <span style="color:#19177c">Phoenix</span><span style="color:#666">=</span>-25.5/23.9/73.4, <span style="color:#19177c">Pittsburgh</span><span style="color:#666">=</span>-35.0/10.8/60.8, <span style="color:#19177c">Podgorica</span><span style="color:#666">=</span>-34.0/15.3/70.7, Pointe-Noire<span style="color:#666">=</span>-25.7/26.1/76.1, <span style="color:#19177c">Pontianak</span><span style="color:#666">=</span>-24.3/27.7/76.5, Port <span style="color:#19177c">Moresby</span><span style="color:#666">=</span>-21.6/26.9/77.9, Port <span style="color:#19177c">Sudan</span><span style="color:#666">=</span>-20.4/28.4/78.1, Port <span style="color:#19177c">Vila</span><span style="color:#666">=</span>-26.1/24.3/74.7, Port-Gentil<span style="color:#666">=</span>-23.9/26.0/76.0, Portland <span style="color:#666">(</span>OR<span style="color:#666">)=</span>-35.6/12.4/59.7, <span style="color:#19177c">Porto</span><span style="color:#666">=</span>-35.5/15.7/63.8, <span style="color:#19177c">Prague</span><span style="color:#666">=</span>-42.2/8.4/61.1, <span style="color:#19177c">Praia</span><span style="color:#666">=</span>-26.0/24.4/75.6, <span style="color:#19177c">Pretoria</span><span style="color:#666">=</span>-29.0/18.2/67.7, <span style="color:#19177c">Pyongyang</span><span style="color:#666">=</span>-42.5/10.8/59.3, <span style="color:#19177c">Rabat</span><span style="color:#666">=</span>-31.2/17.2/68.7, <span style="color:#19177c">Rangpur</span><span style="color:#666">=</span>-21.9/24.4/74.3, <span style="color:#19177c">Reggane</span><span style="color:#666">=</span>-20.3/28.3/79.2, <span style="color:#19177c">Reykjavík</span><span style="color:#666">=</span>-49.4/4.3/53.5, <span style="color:#19177c">Riga</span><span style="color:#666">=</span>-40.5/6.2/57.0, <span style="color:#19177c">Riyadh</span><span style="color:#666">=</span>-23.1/26.0/74.0, <span style="color:#19177c">Rome</span><span style="color:#666">=</span>-31.8/15.2/68.6, <span style="color:#19177c">Roseau</span><span style="color:#666">=</span>-22.8/26.2/76.1, Rostov-on-Don<span style="color:#666">=</span>-41.8/9.9/57.2, <span style="color:#19177c">Sacramento</span><span style="color:#666">=</span>-39.3/16.3/67.2, Saint <span style="color:#19177c">Petersburg</span><span style="color:#666">=</span>-42.6/5.8/56.4, Saint-Pierre<span style="color:#666">=</span>-43.4/5.7/56.2, Salt Lake <span style="color:#19177c">City</span><span style="color:#666">=</span>-35.3/11.6/61.8, San <span style="color:#19177c">Antonio</span><span style="color:#666">=</span>-29.8/20.8/71.2, San <span style="color:#19177c">Diego</span><span style="color:#666">=</span>-31.1/17.8/66.1, San <span style="color:#19177c">Francisco</span><span style="color:#666">=</span>-35.3/14.6/60.4, San <span style="color:#19177c">Jose</span><span style="color:#666">=</span>-33.0/16.4/65.1, San <span style="color:#19177c">José</span><span style="color:#666">=</span>-26.4/22.6/69.7, San <span style="color:#19177c">Juan</span><span style="color:#666">=</span>-20.5/27.2/77.3, San <span style="color:#19177c">Salvador</span><span style="color:#666">=</span>-25.7/23.1/75.1, Sana<span style="color:#ba2121">&#39;a=-30.8/20.0/68.6, Santo Domingo=-23.6/25.9/76.6, Sapporo=-38.9/8.9/61.8, Sarajevo=-45.0/10.1/59.4, Saskatoon=-47.3/3.3/51.5, Seattle=-38.1/11.3/60.6, Seoul=-36.0/12.5/61.2, Seville=-32.2/19.2/73.1, Shanghai=-35.1/16.7/67.0, Singapore=-23.7/27.0/81.9, Skopje=-35.5/12.4/64.3, Sochi=-34.3/14.2/65.2, Sofia=-38.2/10.6/61.6, Sokoto=-23.1/28.0/73.2, Split=-32.7/16.1/62.2, St. John&#39;</span><span style="color:#19177c">s</span><span style="color:#666">=</span>-44.1/5.0/56.4, St. <span style="color:#19177c">Louis</span><span style="color:#666">=</span>-41.2/13.9/64.2, <span style="color:#19177c">Stockholm</span><span style="color:#666">=</span>-45.5/6.6/55.9, <span style="color:#19177c">Surabaya</span><span style="color:#666">=</span>-23.4/27.1/76.1, <span style="color:#19177c">Suva</span><span style="color:#666">=</span>-28.1/25.6/78.8, <span style="color:#19177c">Suwałki</span><span style="color:#666">=</span>-45.4/7.2/62.3, <span style="color:#19177c">Sydney</span><span style="color:#666">=</span>-30.1/17.7/68.8, <span style="color:#19177c">Ségou</span><span style="color:#666">=</span>-23.2/28.0/75.1, <span style="color:#19177c">Tabora</span><span style="color:#666">=</span>-24.7/23.0/73.7, <span style="color:#19177c">Tabriz</span><span style="color:#666">=</span>-36.8/12.6/61.9, <span style="color:#19177c">Taipei</span><span style="color:#666">=</span>-24.6/23.0/74.8, <span style="color:#19177c">Tallinn</span><span style="color:#666">=</span>-42.6/6.4/60.7, <span style="color:#19177c">Tamale</span><span style="color:#666">=</span>-23.3/27.9/77.7, <span style="color:#19177c">Tamanrasset</span><span style="color:#666">=</span>-28.7/21.7/71.7, <span style="color:#19177c">Tampa</span><span style="color:#666">=</span>-34.8/22.9/70.4, <span style="color:#19177c">Tashkent</span><span style="color:#666">=</span>-32.2/14.8/64.3, <span style="color:#19177c">Tauranga</span><span style="color:#666">=</span>-38.9/14.8/66.9, <span style="color:#19177c">Tbilisi</span><span style="color:#666">=</span>-34.6/12.9/66.2, <span style="color:#19177c">Tegucigalpa</span><span style="color:#666">=</span>-27.1/21.7/74.1, <span style="color:#19177c">Tehran</span><span style="color:#666">=</span>-33.5/17.0/73.6, Tel <span style="color:#19177c">Aviv</span><span style="color:#666">=</span>-27.0/20.0/66.8, <span style="color:#19177c">Thessaloniki</span><span style="color:#666">=</span>-36.4/16.0/64.6, <span style="color:#19177c">Thiès</span><span style="color:#666">=</span>-22.4/24.0/74.2, <span style="color:#19177c">Tijuana</span><span style="color:#666">=</span>-29.9/17.8/67.9, <span style="color:#19177c">Timbuktu</span><span style="color:#666">=</span>-20.3/28.0/76.9, <span style="color:#19177c">Tirana</span><span style="color:#666">=</span>-34.2/15.2/68.3, <span style="color:#19177c">Toamasina</span><span style="color:#666">=</span>-25.2/23.4/78.7, <span style="color:#19177c">Tokyo</span><span style="color:#666">=</span>-31.5/15.4/62.2, <span style="color:#19177c">Toliara</span><span style="color:#666">=</span>-24.4/24.1/74.6, <span style="color:#19177c">Toluca</span><span style="color:#666">=</span>-36.5/12.4/60.2, <span style="color:#19177c">Toronto</span><span style="color:#666">=</span>-40.7/9.4/62.7, <span style="color:#19177c">Tripoli</span><span style="color:#666">=</span>-32.3/20.0/67.9, <span style="color:#19177c">Tromsø</span><span style="color:#666">=</span>-44.3/2.9/53.4, <span style="color:#19177c">Tucson</span><span style="color:#666">=</span>-28.7/20.9/73.6, <span style="color:#19177c">Tunis</span><span style="color:#666">=</span>-35.3/18.4/65.9, <span style="color:#19177c">Ulaanbaatar</span><span style="color:#666">=</span>-55.5/-0.4/50.6, <span style="color:#19177c">Upington</span><span style="color:#666">=</span>-29.9/20.4/76.8, <span style="color:#19177c">Vaduz</span><span style="color:#666">=</span>-40.6/10.1/69.8, <span style="color:#19177c">Valencia</span><span style="color:#666">=</span>-33.5/18.3/73.8, <span style="color:#19177c">Valletta</span><span style="color:#666">=</span>-32.2/18.8/70.1, <span style="color:#19177c">Vancouver</span><span style="color:#666">=</span>-38.7/10.4/64.5, <span style="color:#19177c">Veracruz</span><span style="color:#666">=</span>-25.0/25.4/76.1, <span style="color:#19177c">Vienna</span><span style="color:#666">=</span>-39.5/10.4/63.9, <span style="color:#19177c">Vientiane</span><span style="color:#666">=</span>-23.6/25.9/78.1, <span style="color:#19177c">Villahermosa</span><span style="color:#666">=</span>-23.7/27.1/75.1, <span style="color:#19177c">Vilnius</span><span style="color:#666">=</span>-43.7/6.0/56.9, Virginia <span style="color:#19177c">Beach</span><span style="color:#666">=</span>-31.6/15.8/66.6, <span style="color:#19177c">Vladivostok</span><span style="color:#666">=</span>-46.6/4.9/55.3, <span style="color:#19177c">Warsaw</span><span style="color:#666">=</span>-44.5/8.5/55.2, Washington, D.C.<span style="color:#666">=</span>-34.4/14.6/63.7, <span style="color:#19177c">Wau</span><span style="color:#666">=</span>-22.0/27.8/79.3, <span style="color:#19177c">Wellington</span><span style="color:#666">=</span>-36.5/12.9/61.2, <span style="color:#19177c">Whitehorse</span><span style="color:#666">=</span>-49.8/-0.1/48.7, <span style="color:#19177c">Wichita</span><span style="color:#666">=</span>-36.1/13.9/64.1, <span style="color:#19177c">Willemstad</span><span style="color:#666">=</span>-25.4/28.0/79.2, <span style="color:#19177c">Winnipeg</span><span style="color:#666">=</span>-48.1/3.0/56.5, <span style="color:#19177c">Wrocław</span><span style="color:#666">=</span>-39.2/9.6/59.3, Xi<span style="">&#39;</span><span style="color:#19177c">an</span><span style="color:#666">=</span>-38.3/14.1/64.6, <span style="color:#19177c">Yakutsk</span><span style="color:#666">=</span>-57.8/-8.8/40.8, <span style="color:#19177c">Yangon</span><span style="color:#666">=</span>-23.1/27.5/83.6, <span style="color:#19177c">Yaoundé</span><span style="color:#666">=</span>-35.7/23.8/72.9, <span style="color:#19177c">Yellowknife</span><span style="color:#666">=</span>-52.0/-4.3/42.5, <span style="color:#19177c">Yerevan</span><span style="color:#666">=</span>-42.5/12.4/63.4, <span style="color:#19177c">Yinchuan</span><span style="color:#666">=</span>-40.9/9.0/57.6, <span style="color:#19177c">Zagreb</span><span style="color:#666">=</span>-37.9/10.7/58.1, Zanzibar <span style="color:#19177c">City</span><span style="color:#666">=</span>-23.9/26.0/77.2, <span style="color:#19177c">Zürich</span><span style="color:#666">=</span>-39.0/9.3/56.0, <span style="color:#19177c">Ürümqi</span><span style="color:#666">=</span>-39.6/7.4/58.1, <span style="color:#19177c">İzmir</span><span style="color:#666">=</span>-32.8/17.9/67.9<span style="color:#666">}</span>Run Time <span style="color:#666">(</span>s<span style="color:#666">)</span>: real 25.539 user 203.968621 sys 2.572107
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.quit
</span></span><span style="display:flex;"><span>real 25.58
</span></span><span style="display:flex;"><span>user 203.98
</span></span><span style="display:flex;"><span>sys 2.57
</span></span></code></pre></div><h2 id="bonus-bit---lets-just-stick-to-sql">Bonus bit - let&rsquo;s just stick to SQL&nbsp;<a class="headline-hash" href="#bonus-bit---lets-just-stick-to-sql">🔗</a> </h2>
<p>If we extend the liberty that we&rsquo;ve taken here in daring to use SQL for a Java-only challenge 😜 then how about we ignore the specified output, and just output the aggregation result directly:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ /usr/bin/time -p duckdb -no-stdin -init 1brc.opt.sql
</span></span><span style="display:flex;"><span>-- Loading resources from 1brc.opt.sql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>SELECT station_name,
</span></span><span style="display:flex;"><span>        MIN<span style="color:#666">(</span>measurement<span style="color:#666">)</span> AS min_measurement,
</span></span><span style="display:flex;"><span>        CAST<span style="color:#666">(</span>AVG<span style="color:#666">(</span>measurement<span style="color:#666">)</span> AS DECIMAL<span style="color:#666">(</span>8,1<span style="color:#666">))</span> AS mean_measurement,
</span></span><span style="display:flex;"><span>        MAX<span style="color:#666">(</span>measurement<span style="color:#666">)</span> AS max_measurement
</span></span><span style="display:flex;"><span>FROM READ_CSV<span style="color:#666">(</span><span style="color:#ba2121">&#39;measurements.txt&#39;</span>, <span style="color:#19177c">header</span><span style="color:#666">=</span>false, <span style="color:#19177c">columns</span><span style="color:#666">=</span> <span style="color:#666">{</span><span style="color:#ba2121">&#39;station_name&#39;</span>:<span style="color:#ba2121">&#39;VARCHAR&#39;</span>,<span style="color:#ba2121">&#39;measurement&#39;</span>:<span style="color:#ba2121">&#39;double&#39;</span><span style="color:#666">}</span>, <span style="color:#19177c">delim</span><span style="color:#666">=</span><span style="color:#ba2121">&#39;;&#39;</span><span style="color:#666">)</span>
</span></span><span style="display:flex;"><span>GROUP BY station_name
</span></span><span style="display:flex;"><span>ORDER BY station_name;
</span></span><span style="display:flex;"><span>100% ▕████████████████████████████████████████████████████████████▏
</span></span><span style="display:flex;"><span>┌────────────────────────────┬─────────────────┬──────────────────┬─────────────────┐
</span></span><span style="display:flex;"><span>│        station_name        │ min_measurement │ mean_measurement │ max_measurement │
</span></span><span style="display:flex;"><span>│          varchar           │     double      │   decimal<span style="color:#666">(</span>8,1<span style="color:#666">)</span>   │     double      │
</span></span><span style="display:flex;"><span>├────────────────────────────┼─────────────────┼──────────────────┼─────────────────┤
</span></span><span style="display:flex;"><span>│ Abha                       │           -33.0 │             18.0 │            69.2 │
</span></span><span style="display:flex;"><span>│ Abidjan                    │           -24.4 │             26.0 │            75.4 │
</span></span><span style="display:flex;"><span>│ Abéché                     │           -21.1 │             29.4 │            77.1 │
</span></span><span style="display:flex;"><span>│ Accra                      │           -25.1 │             26.4 │            79.0 │
</span></span><span style="display:flex;"><span>│ Addis Ababa                │           -33.6 │             16.0 │            66.8 │
</span></span><span style="display:flex;"><span><span style="color:#666">[</span>…long list removed <span style="color:#008000;font-weight:bold">for</span> this blog copy…<span style="color:#666">]</span>
</span></span><span style="display:flex;"><span>│ Yinchuan                   │           -40.9 │              9.0 │            57.6 │
</span></span><span style="display:flex;"><span>│ Zagreb                     │           -37.9 │             10.7 │            58.1 │
</span></span><span style="display:flex;"><span>│ Zanzibar City              │           -23.9 │             26.0 │            77.2 │
</span></span><span style="display:flex;"><span>│ Zürich                     │           -39.0 │              9.3 │            56.0 │
</span></span><span style="display:flex;"><span>│ Ürümqi                     │           -39.6 │              7.4 │            58.1 │
</span></span><span style="display:flex;"><span>│ İzmir                      │           -32.8 │             17.9 │            67.9 │
</span></span><span style="display:flex;"><span>├────────────────────────────┴─────────────────┴──────────────────┴─────────────────┤
</span></span><span style="display:flex;"><span>│ <span style="color:#666">413</span> rows                                                                <span style="color:#666">4</span> columns │
</span></span><span style="display:flex;"><span>└───────────────────────────────────────────────────────────────────────────────────┘
</span></span><span style="display:flex;"><span>Run Time <span style="color:#666">(</span>s<span style="color:#666">)</span>: real 25.867 user 203.974231 sys 2.650887
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.quit
</span></span><span style="display:flex;"><span>real 25.91
</span></span><span style="display:flex;"><span>user 203.98
</span></span><span style="display:flex;"><span>sys 2.65
</span></span></code></pre></div><p>Seems that the formatting doesn&rsquo;t really change things.</p>
<h2 id="extra-bonus-bit---using-parquet">Extra bonus bit - using Parquet&nbsp;<a class="headline-hash" href="#extra-bonus-bit---using-parquet">🔗</a> </h2>
<p>Deviating even further from the challenge here—part of which is specifically to read a CSV file—let&rsquo;s see what happens if the data were in Parquet format.</p>
<p>First we&rsquo;ll convert the CSV to Parquet in a one-off step:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ /usr/bin/time duckdb -c <span style="color:#ba2121">&#34;COPY (SELECT * FROM READ_CSV(&#39;measurements.txt&#39;, header=false, columns= {&#39;station_name&#39;:&#39;VARCHAR&#39;,&#39;measurement&#39;:&#39;double&#39;}, delim=&#39;;&#39;)) TO &#39;measurements.parquet&#39; (FORMAT PARQUET);&#34;</span>
</span></span><span style="display:flex;"><span>100% ▕████████████████████████████████████████████████████████████▏
</span></span><span style="display:flex;"><span>       38.50 real       297.22 user        13.84 sys
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>$ ls -lh measurements.parquet
</span></span><span style="display:flex;"><span>-rw-r--r--@ <span style="color:#666">1</span> rmoff  staff   5.1G  <span style="color:#666">3</span> Jan 18:01 measurements.parquet
</span></span></code></pre></div><p>Now, having done our cheat-step, we use the same query as above but reading the Parquet file instead of CSV:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>❯ /usr/bin/time -p duckdb -no-stdin -init 1brc.parquet.sql
</span></span><span style="display:flex;"><span>-- Loading resources from 1brc.parquet.sql
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>WITH src AS <span style="color:#666">(</span>SELECT station_name,
</span></span><span style="display:flex;"><span>                    MIN<span style="color:#666">(</span>measurement<span style="color:#666">)</span> AS min_measurement,
</span></span><span style="display:flex;"><span>                    CAST<span style="color:#666">(</span>AVG<span style="color:#666">(</span>measurement<span style="color:#666">)</span> AS DECIMAL<span style="color:#666">(</span>8,1<span style="color:#666">))</span> AS mean_measurement,
</span></span><span style="display:flex;"><span>                    MAX<span style="color:#666">(</span>measurement<span style="color:#666">)</span> AS max_measurement
</span></span><span style="display:flex;"><span>            FROM READ_PARQUET<span style="color:#666">(</span><span style="color:#ba2121">&#39;measurements.parquet&#39;</span><span style="color:#666">)</span>
</span></span><span style="display:flex;"><span>            GROUP BY station_name<span style="color:#666">)</span>
</span></span><span style="display:flex;"><span>    SELECT <span style="color:#ba2121">&#39;{&#39;</span> <span style="color:#666">||</span>
</span></span><span style="display:flex;"><span>            ARRAY_TO_STRING<span style="color:#666">(</span>LIST_SORT<span style="color:#666">(</span>LIST<span style="color:#666">(</span>station_name <span style="color:#666">||</span> <span style="color:#ba2121">&#39;=&#39;</span> <span style="color:#666">||</span> CONCAT_WS<span style="color:#666">(</span><span style="color:#ba2121">&#39;/&#39;</span>,min_measurement, mean_measurement, max_measurement<span style="color:#666">)))</span>,<span style="color:#ba2121">&#39;, &#39;</span><span style="color:#666">)</span> <span style="color:#666">||</span>
</span></span><span style="display:flex;"><span>            <span style="color:#ba2121">&#39;}&#39;</span> AS <span style="color:#ba2121">&#34;1BRC&#34;</span>
</span></span><span style="display:flex;"><span>    FROM src;
</span></span><span style="display:flex;"><span>100% ▕████████████████████████████████████████████████████████████▏
</span></span><span style="display:flex;"><span>1BRC<span style="color:#666">{</span><span style="color:#19177c">Abha</span><span style="color:#666">=</span>-33.0/18.0/69.2, <span style="color:#19177c">Abidjan</span><span style="color:#666">=</span>-24.4/26.0/75.4, <span style="color:#19177c">Abéché</span><span style="color:#666">=</span>-21.1/29.4/77.1, <span style="color:#19177c">Accra</span><span style="color:#666">=</span>-25.1/26.4/79.0, Addis <span style="color:#19177c">Ababa</span><span style="color:#666">=</span>-33.6/16.0/66.8, <span style="color:#19177c">Adelaide</span><span style="color:#666">=</span>-33.4/17.3/68.5, <span style="color:#19177c">Aden</span><span style="color:#666">=</span>-19.3/29.1/77.9, <span style="color:#19177c">Ahvaz</span><span style="color:#666">=</span>-24.1/25.4/74.0, <span style="color:#19177c">Albuquerque</span><span style="color:#666">=</span>-33.5/14.0/61.8, <span style="color:#19177c">Alexandra</span><span style="color:#666">=</span>-39.7/11.0/63.7, <span style="color:#19177c">Alexandria</span><span style="color:#666">=</span>-30.2/20.0/74.4, <span style="color:#19177c">Algiers</span><span style="color:#666">=</span>-39.2/18.2/68.1, Alice <span style="color:#19177c">Springs</span><span style="color:#666">=</span>-32.5/21.0/67.6, <span style="color:#19177c">Almaty</span><span style="color:#666">=</span>-37.4/10.0/59.0, <span style="color:#19177c">Amsterdam</span><span style="color:#666">=</span>-39.8/10.2/60.6, <span style="color:#19177c">Anadyr</span><span style="color:#666">=</span>-59.6/-6.9/42.6, <span style="color:#19177c">Anchorage</span><span style="color:#666">=</span>-45.3/2.8/53.4, Andorra la <span style="color:#19177c">Vella</span><span style="color:#666">=</span>-41.5/9.8/59.4, <span style="color:#19177c">Ankara</span><span style="color:#666">=</span>-41.1/12.0/60.7, <span style="color:#19177c">Antananarivo</span><span style="color:#666">=</span>-31.3/17.9/69.2, <span style="color:#19177c">Antsiranana</span><span style="color:#666">=</span>-26.0/25.2/74.4, <span style="color:#19177c">Arkhangelsk</span><span style="color:#666">=</span>-45.8/1.3/58.6, <span style="color:#19177c">Ashgabat</span><span style="color:#666">=</span>-34.8/17.1/68.5, <span style="color:#19177c">Asmara</span><span style="color:#666">=</span>-32.4/15.6/65.1, <span style="color:#19177c">Assab</span><span style="color:#666">=</span>-23.4/30.5/81.7, <span style="color:#19177c">Astana</span><span style="color:#666">=</span>-46.4/3.5/52.5, <span style="color:#19177c">Athens</span><span style="color:#666">=</span>-31.6/19.2/68.3, <span style="color:#19177c">Atlanta</span><span style="color:#666">=</span>-33.1/17.0/65.3, <span style="color:#19177c">Auckland</span><span style="color:#666">=</span>-33.6/15.2/62.4, <span style="color:#19177c">Austin</span><span style="color:#666">=</span>-27.3/20.7/67.3, <span style="color:#19177c">Baghdad</span><span style="color:#666">=</span>-29.0/22.8/73.4, <span style="color:#19177c">Baguio</span><span style="color:#666">=</span>-29.6/19.5/69.2, <span style="color:#19177c">Baku</span><span style="color:#666">=</span>-31.6/15.1/63.3, <span style="color:#19177c">Baltimore</span><span style="color:#666">=</span>-37.3/13.1/61.8, <span style="color:#19177c">Bamako</span><span style="color:#666">=</span>-22.4/27.8/78.7, <span style="color:#19177c">Bangkok</span><span style="color:#666">=</span>-25.7/28.6/78.4, <span style="color:#19177c">Bangui</span><span style="color:#666">=</span>-23.0/26.0/75.6, <span style="color:#19177c">Banjul</span><span style="color:#666">=</span>-25.6/26.0/71.7, <span style="color:#19177c">Barcelona</span><span style="color:#666">=</span>-31.3/18.2/65.3, <span style="color:#19177c">Bata</span><span style="color:#666">=</span>-22.5/25.1/80.4, <span style="color:#19177c">Batumi</span><span style="color:#666">=</span>-33.3/14.0/63.0, <span style="color:#19177c">Beijing</span><span style="color:#666">=</span>-34.5/12.9/63.9, <span style="color:#19177c">Beirut</span><span style="color:#666">=</span>-28.6/20.9/70.9, <span style="color:#19177c">Belgrade</span><span style="color:#666">=</span>-36.0/12.5/60.5, Belize <span style="color:#19177c">City</span><span style="color:#666">=</span>-26.4/26.7/75.2, <span style="color:#19177c">Benghazi</span><span style="color:#666">=</span>-33.9/19.9/72.9, <span style="color:#19177c">Bergen</span><span style="color:#666">=</span>-42.5/7.7/54.3, <span style="color:#19177c">Berlin</span><span style="color:#666">=</span>-37.6/10.3/61.3, <span style="color:#19177c">Bilbao</span><span style="color:#666">=</span>-36.5/14.7/65.9, <span style="color:#19177c">Birao</span><span style="color:#666">=</span>-25.7/26.5/76.0, <span style="color:#19177c">Bishkek</span><span style="color:#666">=</span>-38.9/11.3/59.6, <span style="color:#19177c">Bissau</span><span style="color:#666">=</span>-21.0/27.0/75.0, <span style="color:#19177c">Blantyre</span><span style="color:#666">=</span>-26.3/22.2/72.8, <span style="color:#19177c">Bloemfontein</span><span style="color:#666">=</span>-34.3/15.6/65.8, <span style="color:#19177c">Boise</span><span style="color:#666">=</span>-37.2/11.4/59.2, <span style="color:#19177c">Bordeaux</span><span style="color:#666">=</span>-35.1/14.2/64.4, <span style="color:#19177c">Bosaso</span><span style="color:#666">=</span>-21.1/30.0/82.5, <span style="color:#19177c">Boston</span><span style="color:#666">=</span>-42.1/10.9/61.9, <span style="color:#19177c">Bouaké</span><span style="color:#666">=</span>-24.0/26.0/75.9, <span style="color:#19177c">Bratislava</span><span style="color:#666">=</span>-38.7/10.5/62.3, <span style="color:#19177c">Brazzaville</span><span style="color:#666">=</span>-26.6/25.0/71.4, <span style="color:#19177c">Bridgetown</span><span style="color:#666">=</span>-22.3/27.0/79.8, <span style="color:#19177c">Brisbane</span><span style="color:#666">=</span>-30.4/21.4/71.4, <span style="color:#19177c">Brussels</span><span style="color:#666">=</span>-39.1/10.5/60.7, <span style="color:#19177c">Bucharest</span><span style="color:#666">=</span>-39.9/10.8/60.0, <span style="color:#19177c">Budapest</span><span style="color:#666">=</span>-37.8/11.3/63.8, <span style="color:#19177c">Bujumbura</span><span style="color:#666">=</span>-25.6/23.8/86.6, <span style="color:#19177c">Bulawayo</span><span style="color:#666">=</span>-29.9/18.9/71.8, <span style="color:#19177c">Burnie</span><span style="color:#666">=</span>-36.1/13.1/63.2, <span style="color:#19177c">Busan</span><span style="color:#666">=</span>-36.8/15.0/64.3, Cabo San <span style="color:#19177c">Lucas</span><span style="color:#666">=</span>-26.0/23.9/70.9, <span style="color:#19177c">Cairns</span><span style="color:#666">=</span>-23.1/25.0/74.6, <span style="color:#19177c">Cairo</span><span style="color:#666">=</span>-27.2/21.4/71.1, <span style="color:#19177c">Calgary</span><span style="color:#666">=</span>-43.0/4.4/54.6, <span style="color:#19177c">Canberra</span><span style="color:#666">=</span>-34.8/13.1/66.4, Cape <span style="color:#19177c">Town</span><span style="color:#666">=</span>-33.0/16.2/64.1, <span style="color:#19177c">Changsha</span><span style="color:#666">=</span>-34.1/17.4/68.0, <span style="color:#19177c">Charlotte</span><span style="color:#666">=</span>-37.2/16.1/66.0, Chiang <span style="color:#19177c">Mai</span><span style="color:#666">=</span>-22.3/25.8/72.7, <span style="color:#19177c">Chicago</span><span style="color:#666">=</span>-37.6/9.8/63.3, <span style="color:#19177c">Chihuahua</span><span style="color:#666">=</span>-29.6/18.6/72.5, <span style="color:#19177c">Chittagong</span><span style="color:#666">=</span>-23.0/25.9/75.1, <span style="color:#19177c">Chișinău</span><span style="color:#666">=</span>-35.3/10.2/58.3, <span style="color:#19177c">Chongqing</span><span style="color:#666">=</span>-35.9/18.6/70.6, <span style="color:#19177c">Christchurch</span><span style="color:#666">=</span>-40.6/12.2/63.0, City of San <span style="color:#19177c">Marino</span><span style="color:#666">=</span>-44.6/11.8/61.8, <span style="color:#19177c">Colombo</span><span style="color:#666">=</span>-21.7/27.4/74.9, <span style="color:#19177c">Columbus</span><span style="color:#666">=</span>-34.7/11.7/61.1, <span style="color:#19177c">Conakry</span><span style="color:#666">=</span>-25.6/26.4/75.7, <span style="color:#19177c">Copenhagen</span><span style="color:#666">=</span>-40.2/9.1/58.4, <span style="color:#19177c">Cotonou</span><span style="color:#666">=</span>-22.8/27.2/78.5, <span style="color:#19177c">Cracow</span><span style="color:#666">=</span>-42.1/9.3/62.6, Da <span style="color:#19177c">Lat</span><span style="color:#666">=</span>-31.1/17.9/65.7, Da <span style="color:#19177c">Nang</span><span style="color:#666">=</span>-23.9/25.8/73.5, <span style="color:#19177c">Dakar</span><span style="color:#666">=</span>-25.3/24.0/77.6, <span style="color:#19177c">Dallas</span><span style="color:#666">=</span>-33.4/19.0/69.6, <span style="color:#19177c">Damascus</span><span style="color:#666">=</span>-32.4/17.0/66.5, <span style="color:#19177c">Dampier</span><span style="color:#666">=</span>-23.7/26.4/76.5, Dar es <span style="color:#19177c">Salaam</span><span style="color:#666">=</span>-32.1/25.8/72.0, <span style="color:#19177c">Darwin</span><span style="color:#666">=</span>-25.5/27.6/80.6, <span style="color:#19177c">Denpasar</span><span style="color:#666">=</span>-26.2/23.7/71.8, <span style="color:#19177c">Denver</span><span style="color:#666">=</span>-41.5/10.4/59.5, <span style="color:#19177c">Detroit</span><span style="color:#666">=</span>-38.6/10.0/62.4, <span style="color:#19177c">Dhaka</span><span style="color:#666">=</span>-22.8/25.9/76.4, <span style="color:#19177c">Dikson</span><span style="color:#666">=</span>-62.7/-11.1/39.0, <span style="color:#19177c">Dili</span><span style="color:#666">=</span>-26.0/26.6/78.4, <span style="color:#19177c">Djibouti</span><span style="color:#666">=</span>-19.2/29.9/79.6, <span style="color:#19177c">Dodoma</span><span style="color:#666">=</span>-31.6/22.7/71.4, <span style="color:#19177c">Dolisie</span><span style="color:#666">=</span>-28.8/24.0/75.4, <span style="color:#19177c">Douala</span><span style="color:#666">=</span>-21.4/26.7/79.6, <span style="color:#19177c">Dubai</span><span style="color:#666">=</span>-22.8/26.9/75.0, <span style="color:#19177c">Dublin</span><span style="color:#666">=</span>-44.0/9.8/59.5, <span style="color:#19177c">Dunedin</span><span style="color:#666">=</span>-42.7/11.1/64.8, <span style="color:#19177c">Durban</span><span style="color:#666">=</span>-29.8/20.6/67.6, <span style="color:#19177c">Dushanbe</span><span style="color:#666">=</span>-36.0/14.7/64.1, <span style="color:#19177c">Edinburgh</span><span style="color:#666">=</span>-38.0/9.3/60.4, <span style="color:#19177c">Edmonton</span><span style="color:#666">=</span>-45.1/4.2/57.7, El <span style="color:#19177c">Paso</span><span style="color:#666">=</span>-34.0/18.1/65.6, <span style="color:#19177c">Entebbe</span><span style="color:#666">=</span>-28.2/21.0/68.8, <span style="color:#19177c">Erbil</span><span style="color:#666">=</span>-28.7/19.5/68.4, <span style="color:#19177c">Erzurum</span><span style="color:#666">=</span>-59.1/5.1/52.7, <span style="color:#19177c">Fairbanks</span><span style="color:#666">=</span>-53.7/-2.3/49.5, <span style="color:#19177c">Fianarantsoa</span><span style="color:#666">=</span>-29.2/17.9/68.1, Flores,  <span style="color:#19177c">Petén</span><span style="color:#666">=</span>-26.1/26.4/76.1, <span style="color:#19177c">Frankfurt</span><span style="color:#666">=</span>-36.8/10.6/59.0, <span style="color:#19177c">Fresno</span><span style="color:#666">=</span>-35.2/17.9/66.9, <span style="color:#19177c">Fukuoka</span><span style="color:#666">=</span>-30.4/17.0/66.5, <span style="color:#19177c">Gaborone</span><span style="color:#666">=</span>-26.4/21.0/71.1, <span style="color:#19177c">Gabès</span><span style="color:#666">=</span>-31.9/19.5/72.1, <span style="color:#19177c">Gagnoa</span><span style="color:#666">=</span>-21.3/26.0/75.6, <span style="color:#19177c">Gangtok</span><span style="color:#666">=</span>-32.2/15.2/64.0, <span style="color:#19177c">Garissa</span><span style="color:#666">=</span>-20.1/29.3/79.5, <span style="color:#19177c">Garoua</span><span style="color:#666">=</span>-22.2/28.3/81.5, George <span style="color:#19177c">Town</span><span style="color:#666">=</span>-20.6/27.9/76.6, <span style="color:#19177c">Ghanzi</span><span style="color:#666">=</span>-28.2/21.4/70.9, Gjoa <span style="color:#19177c">Haven</span><span style="color:#666">=</span>-65.2/-14.4/35.7, <span style="color:#19177c">Guadalajara</span><span style="color:#666">=</span>-28.3/20.9/79.5, <span style="color:#19177c">Guangzhou</span><span style="color:#666">=</span>-33.5/22.4/73.1, Guatemala <span style="color:#19177c">City</span><span style="color:#666">=</span>-31.2/20.4/71.3, <span style="color:#19177c">Halifax</span><span style="color:#666">=</span>-47.6/7.5/53.9, <span style="color:#19177c">Hamburg</span><span style="color:#666">=</span>-42.7/9.7/60.2, <span style="color:#19177c">Hamilton</span><span style="color:#666">=</span>-36.6/13.8/63.5, Hanga <span style="color:#19177c">Roa</span><span style="color:#666">=</span>-27.6/20.5/69.3, <span style="color:#19177c">Hanoi</span><span style="color:#666">=</span>-24.9/23.6/74.1, <span style="color:#19177c">Harare</span><span style="color:#666">=</span>-33.0/18.4/69.0, <span style="color:#19177c">Harbin</span><span style="color:#666">=</span>-45.9/5.0/55.5, <span style="color:#19177c">Hargeisa</span><span style="color:#666">=</span>-30.0/21.7/72.5, Hat <span style="color:#19177c">Yai</span><span style="color:#666">=</span>-25.0/27.0/79.0, <span style="color:#19177c">Havana</span><span style="color:#666">=</span>-24.8/25.2/75.7, <span style="color:#19177c">Helsinki</span><span style="color:#666">=</span>-43.1/5.9/56.2, <span style="color:#19177c">Heraklion</span><span style="color:#666">=</span>-32.4/18.9/69.0, <span style="color:#19177c">Hiroshima</span><span style="color:#666">=</span>-33.9/16.3/70.1, Ho Chi Minh <span style="color:#19177c">City</span><span style="color:#666">=</span>-24.0/27.4/84.4, <span style="color:#19177c">Hobart</span><span style="color:#666">=</span>-38.7/12.7/63.5, Hong <span style="color:#19177c">Kong</span><span style="color:#666">=</span>-26.6/23.3/72.2, <span style="color:#19177c">Honiara</span><span style="color:#666">=</span>-25.5/26.5/75.4, <span style="color:#19177c">Honolulu</span><span style="color:#666">=</span>-25.8/25.4/73.5, <span style="color:#19177c">Houston</span><span style="color:#666">=</span>-28.6/20.8/69.1, <span style="color:#19177c">Ifrane</span><span style="color:#666">=</span>-36.7/11.4/61.5, <span style="color:#19177c">Indianapolis</span><span style="color:#666">=</span>-37.9/11.8/63.6, <span style="color:#19177c">Iqaluit</span><span style="color:#666">=</span>-57.0/-9.3/41.7, <span style="color:#19177c">Irkutsk</span><span style="color:#666">=</span>-48.5/1.0/48.6, <span style="color:#19177c">Istanbul</span><span style="color:#666">=</span>-33.4/13.9/60.6, <span style="color:#19177c">Jacksonville</span><span style="color:#666">=</span>-28.2/20.3/69.9, <span style="color:#19177c">Jakarta</span><span style="color:#666">=</span>-21.9/26.7/76.4, <span style="color:#19177c">Jayapura</span><span style="color:#666">=</span>-25.0/27.0/75.5, <span style="color:#19177c">Jerusalem</span><span style="color:#666">=</span>-31.2/18.3/67.6, <span style="color:#19177c">Johannesburg</span><span style="color:#666">=</span>-35.3/15.5/66.9, <span style="color:#19177c">Jos</span><span style="color:#666">=</span>-28.9/22.8/71.8, <span style="color:#19177c">Juba</span><span style="color:#666">=</span>-20.9/27.8/79.4, <span style="color:#19177c">Kabul</span><span style="color:#666">=</span>-36.1/12.1/61.8, <span style="color:#19177c">Kampala</span><span style="color:#666">=</span>-28.1/20.0/69.1, <span style="color:#19177c">Kandi</span><span style="color:#666">=</span>-22.0/27.7/76.9, <span style="color:#19177c">Kankan</span><span style="color:#666">=</span>-24.0/26.5/74.6, <span style="color:#19177c">Kano</span><span style="color:#666">=</span>-21.3/26.4/79.3, Kansas <span style="color:#19177c">City</span><span style="color:#666">=</span>-40.6/12.5/62.8, <span style="color:#19177c">Karachi</span><span style="color:#666">=</span>-25.3/26.0/81.8, <span style="color:#19177c">Karonga</span><span style="color:#666">=</span>-22.9/24.4/72.4, <span style="color:#19177c">Kathmandu</span><span style="color:#666">=</span>-32.2/18.3/66.6, <span style="color:#19177c">Khartoum</span><span style="color:#666">=</span>-23.2/29.9/80.7, <span style="color:#19177c">Kingston</span><span style="color:#666">=</span>-20.5/27.4/82.6, <span style="color:#19177c">Kinshasa</span><span style="color:#666">=</span>-25.0/25.3/74.0, <span style="color:#19177c">Kolkata</span><span style="color:#666">=</span>-24.9/26.7/73.9, Kuala <span style="color:#19177c">Lumpur</span><span style="color:#666">=</span>-25.9/27.3/76.2, <span style="color:#19177c">Kumasi</span><span style="color:#666">=</span>-23.1/26.0/74.6, <span style="color:#19177c">Kunming</span><span style="color:#666">=</span>-36.1/15.7/67.9, <span style="color:#19177c">Kuopio</span><span style="color:#666">=</span>-47.0/3.4/56.9, Kuwait <span style="color:#19177c">City</span><span style="color:#666">=</span>-25.8/25.7/74.1, <span style="color:#19177c">Kyiv</span><span style="color:#666">=</span>-40.6/8.4/62.5, <span style="color:#19177c">Kyoto</span><span style="color:#666">=</span>-36.9/15.8/62.4, La <span style="color:#19177c">Ceiba</span><span style="color:#666">=</span>-22.1/26.2/76.5, La <span style="color:#19177c">Paz</span><span style="color:#666">=</span>-27.7/23.7/71.5, <span style="color:#19177c">Lagos</span><span style="color:#666">=</span>-23.9/26.8/76.1, <span style="color:#19177c">Lahore</span><span style="color:#666">=</span>-28.4/24.3/77.3, Lake Havasu <span style="color:#19177c">City</span><span style="color:#666">=</span>-28.0/23.7/77.1, Lake <span style="color:#19177c">Tekapo</span><span style="color:#666">=</span>-37.7/8.7/62.3, Las Palmas de Gran <span style="color:#19177c">Canaria</span><span style="color:#666">=</span>-29.0/21.2/69.9, Las <span style="color:#19177c">Vegas</span><span style="color:#666">=</span>-28.4/20.3/72.0, <span style="color:#19177c">Launceston</span><span style="color:#666">=</span>-36.5/13.1/62.6, <span style="color:#19177c">Lhasa</span><span style="color:#666">=</span>-44.2/7.6/59.7, <span style="color:#19177c">Libreville</span><span style="color:#666">=</span>-22.8/25.9/75.4, <span style="color:#19177c">Lisbon</span><span style="color:#666">=</span>-29.6/17.5/65.5, <span style="color:#19177c">Livingstone</span><span style="color:#666">=</span>-29.2/21.8/70.9, <span style="color:#19177c">Ljubljana</span><span style="color:#666">=</span>-39.0/10.9/59.3, <span style="color:#19177c">Lodwar</span><span style="color:#666">=</span>-24.5/29.3/75.7, <span style="color:#19177c">Lomé</span><span style="color:#666">=</span>-20.2/26.9/75.8, <span style="color:#19177c">London</span><span style="color:#666">=</span>-36.4/11.3/61.3, Los <span style="color:#19177c">Angeles</span><span style="color:#666">=</span>-29.4/18.6/67.7, <span style="color:#19177c">Louisville</span><span style="color:#666">=</span>-36.7/13.9/64.1, <span style="color:#19177c">Luanda</span><span style="color:#666">=</span>-23.9/25.8/73.5, <span style="color:#19177c">Lubumbashi</span><span style="color:#666">=</span>-28.5/20.8/70.1, <span style="color:#19177c">Lusaka</span><span style="color:#666">=</span>-26.5/19.9/71.8, Luxembourg <span style="color:#19177c">City</span><span style="color:#666">=</span>-39.0/9.3/60.7, <span style="color:#19177c">Lviv</span><span style="color:#666">=</span>-42.8/7.8/56.1, <span style="color:#19177c">Lyon</span><span style="color:#666">=</span>-39.8/12.5/63.9, <span style="color:#19177c">Madrid</span><span style="color:#666">=</span>-35.0/15.0/66.5, <span style="color:#19177c">Mahajanga</span><span style="color:#666">=</span>-23.6/26.3/78.7, <span style="color:#19177c">Makassar</span><span style="color:#666">=</span>-23.5/26.7/77.7, <span style="color:#19177c">Makurdi</span><span style="color:#666">=</span>-21.5/26.0/76.8, <span style="color:#19177c">Malabo</span><span style="color:#666">=</span>-21.6/26.3/75.2, <span style="color:#19177c">Malé</span><span style="color:#666">=</span>-23.3/28.0/76.1, <span style="color:#19177c">Managua</span><span style="color:#666">=</span>-20.8/27.3/75.9, <span style="color:#19177c">Manama</span><span style="color:#666">=</span>-24.0/26.5/74.2, <span style="color:#19177c">Mandalay</span><span style="color:#666">=</span>-23.5/28.0/76.8, <span style="color:#19177c">Mango</span><span style="color:#666">=</span>-20.7/28.1/76.8, <span style="color:#19177c">Manila</span><span style="color:#666">=</span>-20.7/28.4/75.6, <span style="color:#19177c">Maputo</span><span style="color:#666">=</span>-29.1/22.8/78.7, <span style="color:#19177c">Marrakesh</span><span style="color:#666">=</span>-29.3/19.6/70.9, <span style="color:#19177c">Marseille</span><span style="color:#666">=</span>-31.0/15.8/66.9, <span style="color:#19177c">Maun</span><span style="color:#666">=</span>-28.9/22.4/69.7, <span style="color:#19177c">Medan</span><span style="color:#666">=</span>-24.2/26.5/76.0, Mek<span style="color:#ba2121">&#39;ele=-29.4/22.7/73.3, Melbourne=-38.3/15.1/66.1, Memphis=-33.5/17.2/67.1, Mexicali=-24.0/23.1/71.9, Mexico City=-32.0/17.5/71.3, Miami=-29.6/24.9/75.9, Milan=-33.2/13.0/60.8, Milwaukee=-40.1/8.9/59.1, Minneapolis=-41.5/7.8/56.3, Minsk=-42.8/6.7/54.2, Mogadishu=-21.8/27.1/76.8, Mombasa=-22.8/26.3/76.9, Monaco=-38.1/16.4/66.9, Moncton=-42.1/6.1/59.2, Monterrey=-27.4/22.3/70.4, Montreal=-41.6/6.8/57.2, Moscow=-46.6/5.8/56.8, Mumbai=-23.1/27.1/76.1, Murmansk=-52.9/0.6/51.2, Muscat=-20.6/28.0/74.0, Mzuzu=-31.0/17.7/66.6, N&#39;</span><span style="color:#19177c">Djamena</span><span style="color:#666">=</span>-21.9/28.3/75.6, <span style="color:#19177c">Naha</span><span style="color:#666">=</span>-26.3/23.1/72.2, <span style="color:#19177c">Nairobi</span><span style="color:#666">=</span>-32.5/17.8/69.6, Nakhon <span style="color:#19177c">Ratchasima</span><span style="color:#666">=</span>-24.9/27.3/75.3, <span style="color:#19177c">Napier</span><span style="color:#666">=</span>-35.8/14.6/64.5, <span style="color:#19177c">Napoli</span><span style="color:#666">=</span>-38.7/15.9/64.9, <span style="color:#19177c">Nashville</span><span style="color:#666">=</span>-34.2/15.4/67.1, <span style="color:#19177c">Nassau</span><span style="color:#666">=</span>-24.2/24.6/71.8, <span style="color:#19177c">Ndola</span><span style="color:#666">=</span>-29.9/20.3/70.9, New <span style="color:#19177c">Delhi</span><span style="color:#666">=</span>-23.3/25.0/77.2, New <span style="color:#19177c">Orleans</span><span style="color:#666">=</span>-29.8/20.7/72.1, New York <span style="color:#19177c">City</span><span style="color:#666">=</span>-35.6/12.9/62.6, <span style="color:#19177c">Ngaoundéré</span><span style="color:#666">=</span>-28.1/22.0/69.9, <span style="color:#19177c">Niamey</span><span style="color:#666">=</span>-20.6/29.3/78.0, <span style="color:#19177c">Nicosia</span><span style="color:#666">=</span>-29.4/19.7/68.2, <span style="color:#19177c">Niigata</span><span style="color:#666">=</span>-36.7/13.9/69.4, <span style="color:#19177c">Nouadhibou</span><span style="color:#666">=</span>-29.9/21.3/73.9, <span style="color:#19177c">Nouakchott</span><span style="color:#666">=</span>-25.6/25.7/73.4, <span style="color:#19177c">Novosibirsk</span><span style="color:#666">=</span>-47.8/1.7/50.6, <span style="color:#19177c">Nuuk</span><span style="color:#666">=</span>-53.1/-1.4/49.1, <span style="color:#19177c">Odesa</span><span style="color:#666">=</span>-39.9/10.7/60.5, <span style="color:#19177c">Odienné</span><span style="color:#666">=</span>-23.3/26.0/76.2, Oklahoma <span style="color:#19177c">City</span><span style="color:#666">=</span>-34.6/15.9/66.9, <span style="color:#19177c">Omaha</span><span style="color:#666">=</span>-38.2/10.6/65.6, <span style="color:#19177c">Oranjestad</span><span style="color:#666">=</span>-22.1/28.1/81.0, <span style="color:#19177c">Oslo</span><span style="color:#666">=</span>-44.5/5.7/54.8, <span style="color:#19177c">Ottawa</span><span style="color:#666">=</span>-44.5/6.6/57.8, <span style="color:#19177c">Ouagadougou</span><span style="color:#666">=</span>-25.9/28.3/81.2, <span style="color:#19177c">Ouahigouya</span><span style="color:#666">=</span>-20.0/28.6/77.4, <span style="color:#19177c">Ouarzazate</span><span style="color:#666">=</span>-30.3/18.9/73.1, <span style="color:#19177c">Oulu</span><span style="color:#666">=</span>-45.4/2.7/54.9, <span style="color:#19177c">Palembang</span><span style="color:#666">=</span>-24.7/27.3/75.9, <span style="color:#19177c">Palermo</span><span style="color:#666">=</span>-30.1/18.5/71.7, Palm <span style="color:#19177c">Springs</span><span style="color:#666">=</span>-26.4/24.5/78.2, Palmerston <span style="color:#19177c">North</span><span style="color:#666">=</span>-37.3/13.2/64.8, Panama <span style="color:#19177c">City</span><span style="color:#666">=</span>-22.3/28.0/75.6, <span style="color:#19177c">Parakou</span><span style="color:#666">=</span>-23.9/26.8/76.2, <span style="color:#19177c">Paris</span><span style="color:#666">=</span>-38.3/12.3/62.7, <span style="color:#19177c">Perth</span><span style="color:#666">=</span>-30.1/18.7/72.0, Petropavlovsk-Kamchatsky<span style="color:#666">=</span>-47.2/1.9/49.2, <span style="color:#19177c">Philadelphia</span><span style="color:#666">=</span>-37.3/13.2/64.6, Phnom <span style="color:#19177c">Penh</span><span style="color:#666">=</span>-18.4/28.3/79.7, <span style="color:#19177c">Phoenix</span><span style="color:#666">=</span>-25.5/23.9/73.4, <span style="color:#19177c">Pittsburgh</span><span style="color:#666">=</span>-35.0/10.8/60.8, <span style="color:#19177c">Podgorica</span><span style="color:#666">=</span>-34.0/15.3/70.7, Pointe-Noire<span style="color:#666">=</span>-25.7/26.1/76.1, <span style="color:#19177c">Pontianak</span><span style="color:#666">=</span>-24.3/27.7/76.5, Port <span style="color:#19177c">Moresby</span><span style="color:#666">=</span>-21.6/26.9/77.9, Port <span style="color:#19177c">Sudan</span><span style="color:#666">=</span>-20.4/28.4/78.1, Port <span style="color:#19177c">Vila</span><span style="color:#666">=</span>-26.1/24.3/74.7, Port-Gentil<span style="color:#666">=</span>-23.9/26.0/76.0, Portland <span style="color:#666">(</span>OR<span style="color:#666">)=</span>-35.6/12.4/59.7, <span style="color:#19177c">Porto</span><span style="color:#666">=</span>-35.5/15.7/63.8, <span style="color:#19177c">Prague</span><span style="color:#666">=</span>-42.2/8.4/61.1, <span style="color:#19177c">Praia</span><span style="color:#666">=</span>-26.0/24.4/75.6, <span style="color:#19177c">Pretoria</span><span style="color:#666">=</span>-29.0/18.2/67.7, <span style="color:#19177c">Pyongyang</span><span style="color:#666">=</span>-42.5/10.8/59.3, <span style="color:#19177c">Rabat</span><span style="color:#666">=</span>-31.2/17.2/68.7, <span style="color:#19177c">Rangpur</span><span style="color:#666">=</span>-21.9/24.4/74.3, <span style="color:#19177c">Reggane</span><span style="color:#666">=</span>-20.3/28.3/79.2, <span style="color:#19177c">Reykjavík</span><span style="color:#666">=</span>-49.4/4.3/53.5, <span style="color:#19177c">Riga</span><span style="color:#666">=</span>-40.5/6.2/57.0, <span style="color:#19177c">Riyadh</span><span style="color:#666">=</span>-23.1/26.0/74.0, <span style="color:#19177c">Rome</span><span style="color:#666">=</span>-31.8/15.2/68.6, <span style="color:#19177c">Roseau</span><span style="color:#666">=</span>-22.8/26.2/76.1, Rostov-on-Don<span style="color:#666">=</span>-41.8/9.9/57.2, <span style="color:#19177c">Sacramento</span><span style="color:#666">=</span>-39.3/16.3/67.2, Saint <span style="color:#19177c">Petersburg</span><span style="color:#666">=</span>-42.6/5.8/56.4, Saint-Pierre<span style="color:#666">=</span>-43.4/5.7/56.2, Salt Lake <span style="color:#19177c">City</span><span style="color:#666">=</span>-35.3/11.6/61.8, San <span style="color:#19177c">Antonio</span><span style="color:#666">=</span>-29.8/20.8/71.2, San <span style="color:#19177c">Diego</span><span style="color:#666">=</span>-31.1/17.8/66.1, San <span style="color:#19177c">Francisco</span><span style="color:#666">=</span>-35.3/14.6/60.4, San <span style="color:#19177c">Jose</span><span style="color:#666">=</span>-33.0/16.4/65.1, San <span style="color:#19177c">José</span><span style="color:#666">=</span>-26.4/22.6/69.7, San <span style="color:#19177c">Juan</span><span style="color:#666">=</span>-20.5/27.2/77.3, San <span style="color:#19177c">Salvador</span><span style="color:#666">=</span>-25.7/23.1/75.1, Sana<span style="color:#ba2121">&#39;a=-30.8/20.0/68.6, Santo Domingo=-23.6/25.9/76.6, Sapporo=-38.9/8.9/61.8, Sarajevo=-45.0/10.1/59.4, Saskatoon=-47.3/3.3/51.5, Seattle=-38.1/11.3/60.6, Seoul=-36.0/12.5/61.2, Seville=-32.2/19.2/73.1, Shanghai=-35.1/16.7/67.0, Singapore=-23.7/27.0/81.9, Skopje=-35.5/12.4/64.3, Sochi=-34.3/14.2/65.2, Sofia=-38.2/10.6/61.6, Sokoto=-23.1/28.0/73.2, Split=-32.7/16.1/62.2, St. John&#39;</span><span style="color:#19177c">s</span><span style="color:#666">=</span>-44.1/5.0/56.4, St. <span style="color:#19177c">Louis</span><span style="color:#666">=</span>-41.2/13.9/64.2, <span style="color:#19177c">Stockholm</span><span style="color:#666">=</span>-45.5/6.6/55.9, <span style="color:#19177c">Surabaya</span><span style="color:#666">=</span>-23.4/27.1/76.1, <span style="color:#19177c">Suva</span><span style="color:#666">=</span>-28.1/25.6/78.8, <span style="color:#19177c">Suwałki</span><span style="color:#666">=</span>-45.4/7.2/62.3, <span style="color:#19177c">Sydney</span><span style="color:#666">=</span>-30.1/17.7/68.8, <span style="color:#19177c">Ségou</span><span style="color:#666">=</span>-23.2/28.0/75.1, <span style="color:#19177c">Tabora</span><span style="color:#666">=</span>-24.7/23.0/73.7, <span style="color:#19177c">Tabriz</span><span style="color:#666">=</span>-36.8/12.6/61.9, <span style="color:#19177c">Taipei</span><span style="color:#666">=</span>-24.6/23.0/74.8, <span style="color:#19177c">Tallinn</span><span style="color:#666">=</span>-42.6/6.4/60.7, <span style="color:#19177c">Tamale</span><span style="color:#666">=</span>-23.3/27.9/77.7, <span style="color:#19177c">Tamanrasset</span><span style="color:#666">=</span>-28.7/21.7/71.7, <span style="color:#19177c">Tampa</span><span style="color:#666">=</span>-34.8/22.9/70.4, <span style="color:#19177c">Tashkent</span><span style="color:#666">=</span>-32.2/14.8/64.3, <span style="color:#19177c">Tauranga</span><span style="color:#666">=</span>-38.9/14.8/66.9, <span style="color:#19177c">Tbilisi</span><span style="color:#666">=</span>-34.6/12.9/66.2, <span style="color:#19177c">Tegucigalpa</span><span style="color:#666">=</span>-27.1/21.7/74.1, <span style="color:#19177c">Tehran</span><span style="color:#666">=</span>-33.5/17.0/73.6, Tel <span style="color:#19177c">Aviv</span><span style="color:#666">=</span>-27.0/20.0/66.8, <span style="color:#19177c">Thessaloniki</span><span style="color:#666">=</span>-36.4/16.0/64.6, <span style="color:#19177c">Thiès</span><span style="color:#666">=</span>-22.4/24.0/74.2, <span style="color:#19177c">Tijuana</span><span style="color:#666">=</span>-29.9/17.8/67.9, <span style="color:#19177c">Timbuktu</span><span style="color:#666">=</span>-20.3/28.0/76.9, <span style="color:#19177c">Tirana</span><span style="color:#666">=</span>-34.2/15.2/68.3, <span style="color:#19177c">Toamasina</span><span style="color:#666">=</span>-25.2/23.4/78.7, <span style="color:#19177c">Tokyo</span><span style="color:#666">=</span>-31.5/15.4/62.2, <span style="color:#19177c">Toliara</span><span style="color:#666">=</span>-24.4/24.1/74.6, <span style="color:#19177c">Toluca</span><span style="color:#666">=</span>-36.5/12.4/60.2, <span style="color:#19177c">Toronto</span><span style="color:#666">=</span>-40.7/9.4/62.7, <span style="color:#19177c">Tripoli</span><span style="color:#666">=</span>-32.3/20.0/67.9, <span style="color:#19177c">Tromsø</span><span style="color:#666">=</span>-44.3/2.9/53.4, <span style="color:#19177c">Tucson</span><span style="color:#666">=</span>-28.7/20.9/73.6, <span style="color:#19177c">Tunis</span><span style="color:#666">=</span>-35.3/18.4/65.9, <span style="color:#19177c">Ulaanbaatar</span><span style="color:#666">=</span>-55.5/-0.4/50.6, <span style="color:#19177c">Upington</span><span style="color:#666">=</span>-29.9/20.4/76.8, <span style="color:#19177c">Vaduz</span><span style="color:#666">=</span>-40.6/10.1/69.8, <span style="color:#19177c">Valencia</span><span style="color:#666">=</span>-33.5/18.3/73.8, <span style="color:#19177c">Valletta</span><span style="color:#666">=</span>-32.2/18.8/70.1, <span style="color:#19177c">Vancouver</span><span style="color:#666">=</span>-38.7/10.4/64.5, <span style="color:#19177c">Veracruz</span><span style="color:#666">=</span>-25.0/25.4/76.1, <span style="color:#19177c">Vienna</span><span style="color:#666">=</span>-39.5/10.4/63.9, <span style="color:#19177c">Vientiane</span><span style="color:#666">=</span>-23.6/25.9/78.1, <span style="color:#19177c">Villahermosa</span><span style="color:#666">=</span>-23.7/27.1/75.1, <span style="color:#19177c">Vilnius</span><span style="color:#666">=</span>-43.7/6.0/56.9, Virginia <span style="color:#19177c">Beach</span><span style="color:#666">=</span>-31.6/15.8/66.6, <span style="color:#19177c">Vladivostok</span><span style="color:#666">=</span>-46.6/4.9/55.3, <span style="color:#19177c">Warsaw</span><span style="color:#666">=</span>-44.5/8.5/55.2, Washington, D.C.<span style="color:#666">=</span>-34.4/14.6/63.7, <span style="color:#19177c">Wau</span><span style="color:#666">=</span>-22.0/27.8/79.3, <span style="color:#19177c">Wellington</span><span style="color:#666">=</span>-36.5/12.9/61.2, <span style="color:#19177c">Whitehorse</span><span style="color:#666">=</span>-49.8/-0.1/48.7, <span style="color:#19177c">Wichita</span><span style="color:#666">=</span>-36.1/13.9/64.1, <span style="color:#19177c">Willemstad</span><span style="color:#666">=</span>-25.4/28.0/79.2, <span style="color:#19177c">Winnipeg</span><span style="color:#666">=</span>-48.1/3.0/56.5, <span style="color:#19177c">Wrocław</span><span style="color:#666">=</span>-39.2/9.6/59.3, Xi<span style="">&#39;</span><span style="color:#19177c">an</span><span style="color:#666">=</span>-38.3/14.1/64.6, <span style="color:#19177c">Yakutsk</span><span style="color:#666">=</span>-57.8/-8.8/40.8, <span style="color:#19177c">Yangon</span><span style="color:#666">=</span>-23.1/27.5/83.6, <span style="color:#19177c">Yaoundé</span><span style="color:#666">=</span>-35.7/23.8/72.9, <span style="color:#19177c">Yellowknife</span><span style="color:#666">=</span>-52.0/-4.3/42.5, <span style="color:#19177c">Yerevan</span><span style="color:#666">=</span>-42.5/12.4/63.4, <span style="color:#19177c">Yinchuan</span><span style="color:#666">=</span>-40.9/9.0/57.6, <span style="color:#19177c">Zagreb</span><span style="color:#666">=</span>-37.9/10.7/58.1, Zanzibar <span style="color:#19177c">City</span><span style="color:#666">=</span>-23.9/26.0/77.2, <span style="color:#19177c">Zürich</span><span style="color:#666">=</span>-39.0/9.3/56.0, <span style="color:#19177c">Ürümqi</span><span style="color:#666">=</span>-39.6/7.4/58.1, <span style="color:#19177c">İzmir</span><span style="color:#666">=</span>-32.8/17.9/67.9<span style="color:#666">}</span>Run Time <span style="color:#666">(</span>s<span style="color:#666">)</span>: real 7.099 user 60.866615 sys 1.753477
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>.quit
</span></span><span style="display:flex;"><span>real 7.11
</span></span><span style="display:flex;"><span>user 60.87
</span></span><span style="display:flex;"><span>sys 1.75
</span></span></code></pre></div>
</article>

		</main>
		
				<div class="hide-print sans-serif f6 f5-l mt5 ph3 pb6 center nested-copy-line-height lh-copy nested-links mw-100 measure-wide">
		<div class="about-the-author">
		
			
			
				
					<hr>
<p><img src="/images/2018/05/ksldn18-01.jpg" alt="Robin Moffatt"></p>
<p><a href="https://www.youtube.com/c/rmoff"><b class="fab fa-youtube-square"></b></a> <a href="https://www.linkedin.com/in/robinmoffatt/"><b class="fab fa-linkedin"></b></a> <em><a rel="me" href="https://data-folks.masto.host/@rmoff">Robin Moffatt</a> is a Principal DevEx Engineer at <a href="https://decodable.co">Decodable</a>. He likes writing about himself in the third person, eating good breakfasts, and drinking good beer.</em></p>

				
			
		
		</div>
		
	</div>

		
		
		
		<footer class="hide-print sans-serif f6 fw1 bg-black near-white bottom-0 w-100 pa3" role="contentinfo">
			<p class="w-50 fr tr">
			<a class="no-underline near-white" href="https://github.com/xaprb/story"><img class="dib" title="Made with Hugo and Story" alt="Story logo" src="https://rmoff.net/img/story-logo-white.svg" style="width: 1.5rem; height: 1.5rem" /></a>
			</p>
			<p class="w-50 near-white">
				&copy; 2024 
			</p>
		</footer>
		
	
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-75492960-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

	
	</body>
</html>
