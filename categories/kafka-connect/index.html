<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Categories &bullet; rmoff&#39;s random ramblings</title>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="https://rmoff.github.io/index.xml">
		<link rel="canonical" href="https://rmoff.github.io/categories/kafka-connect/">
		
		<link rel="shortcut icon" type="image/png" href="https://rmoff.github.io/apple-touch-icon-precomposed.png">
		
		
		<meta name="generator" content="Hugo 0.59.1" />

		
		

		
		<link rel="stylesheet" href="https://rmoff.github.io/css/tachyons.min.css" />
		<link rel="stylesheet" href="https://rmoff.github.io/css/story.css" />
		<link rel="stylesheet" href="https://rmoff.github.io/css/descartes.css" />
		
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
		<link href="https://fonts.googleapis.com/css?family=Quattrocento+Sans:400,400i,700,700i|Quattrocento:400,700|Spectral:400,400i,700,700i&amp;subset=latin-ext" rel="stylesheet">
		

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		
		<script src="https://rmoff.github.io/js/story.js"></script>

	</head>
	<body class="ma0 bg-white section-categories page-kind-taxonomy is-page-false ">
		
		<header class="cover bg-top" style="background-image: url('https://rmoff.github.io/img/default-header-img.jpg'); background-position: center;">
			<div class="bg-black-30 bb bt">

				<nav class="hide-print sans-serif  border-box pa3 ph5-l">
					<a href="https://rmoff.github.io" title="Home">
						<img src="https://rmoff.github.io/img/logo.jpg" class="w2 h2 br-100" alt="rmoff&#39;s random ramblings" />
					</a>
					<div class="fr h2 pv2 tr">
						<a class="link f5 ml2 dim near-white" href="/about-me/">about</a>
						<a class="link f5 ml2 dim near-white" href="https://talks.rmoff.net">talks</a>
						<a class="link f5 ml2 dim near-white" href="https://github.com/rmoff/"><i class="fab fa-github-square"></i></a>
						<a class="link f5 ml2 dim near-white" href="https://www.linkedin.com/in/robinmoffatt/"><i class="fab fa-linkedin"></i></a>
						<a class="link f5 ml2 dim near-white" href="https://twitter.com/rmoff/"><i class="fab fa-twitter-square"></i></a>
						<a class="link f5 ml2 dim near-white fas fa-rss-square" href="https://rmoff.github.io/index.xml" title="RSS Feed"></a>
						<a class="link f5 ml2 dim near-white fas fa-search" href="https://rmoff.github.io/search/" role="search" title="Search"></a>
					</div>
				</nav>

				<div id="hdr" class="tc-l pv4-ns pv5-l pv2 ph3 ph4-ns">
					<h1 class="near-white mt1-ns f2 fw3 mb0 mt0 lh-title">Kafka Connect</h1>
					<h2 class="near-white mt3-l mb4-l fw1 f6 f3-l measure-wide-l center lh-copy mt2 mb3">
						
						
							
						
					</h2>
				</div>

				
				
				
				

			</div>
		</header>
		
		<main role="main">
		
<div class="pa3 pa4-ns w-100 w-70-ns center">
  <section class="w-100 mw8">
  
  
  
    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.github.io/img/default-header-img.tn-500x500.jpg'); background-position: center;">
					<a href="https://rmoff.github.io/2019/11/29/kafka-connect-request-timed-out/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Nov 29, 2019
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.github.io/2019/11/29/kafka-connect-request-timed-out/" class="color-inherit dim link">Kafka Connect - Request timed out</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>A short &amp; sweet blog post to help people Googling for this error, and me next time I encounter it.</p>
</div>
<div class="paragraph">
<p>The scenario: trying to create a connector in Kafka Connect (running in distributed mode, one worker) failed with the <code>curl</code> response</p>
</div>
<div class="paragraph">
<div class="highlight"><pre style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">HTTP/1.1 <span style="color:#666">500</span> Internal Server Error
Date: Fri, <span style="color:#666">29</span> Nov <span style="color:#666">2019</span> <span style="color:#666">14</span>:33:53 GMT
Content-Type: application/json
Content-Length: <span style="color:#666">48</span>
Server: Jetty<span style="color:#666">(</span><span style="color:#666">9</span>.4.18.v20190429<span style="color:#666">)</span>

<span style="color:#666">{</span><span style="color:#ba2121">&#34;error_code&#34;</span>:500,<span style="color:#ba2121">&#34;message&#34;</span>:<span style="color:#ba2121">&#34;Request timed out&#34;</span><span style="color:#666">}</span></code></pre></div>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.github.io/2019/11/29/kafka-connect-request-timed-out/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.github.io/images/2019/11/IMG_1281.jpeg'); background-position: center;">
					<a href="https://rmoff.github.io/2019/11/22/common-mistakes-made-when-configuring-multiple-kafka-connect-workers/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Nov 22, 2019
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.github.io/2019/11/22/common-mistakes-made-when-configuring-multiple-kafka-connect-workers/" class="color-inherit dim link">Common mistakes made when configuring multiple Kafka Connect workers</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							Kafka Connect can be deployed in two modes: Standalone or Distributed. You can learn more about them in my Kafka Summit London 2019 talk.
 I usually recommend Distributed for several reasons:
   It can scale
  It is fault-tolerant
  It can be run on a single node sandbox or a multi-node production environment
  It is the same configuration method however you run it
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.github.io/2019/11/22/common-mistakes-made-when-configuring-multiple-kafka-connect-workers/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.github.io/images/2019/11/IMG_1318.jpeg'); background-position: center;">
					<a href="https://rmoff.github.io/2019/11/20/streaming-data-from-sql-server-to-kafka-to-snowflake-with-kafka-connect/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Nov 20, 2019
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.github.io/2019/11/20/streaming-data-from-sql-server-to-kafka-to-snowflake-with-kafka-connect/" class="color-inherit dim link">Streaming data from SQL Server to Kafka to Snowflake ❄️ with Kafka Connect</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							Snowflake is the data warehouse built for the cloud, so let&#8217;s get all ☁️ cloudy and stream some data from Kafka running in Confluent Cloud to Snowflake!
 What I&#8217;m showing also works just as well for an on-premises Kafka cluster. I&#8217;m using SQL Server as an example data source, with Debezium to capture and stream and changes from it into Kafka.
   I&#8217;m assuming that you&#8217;ve signed up for Confluent Cloud and Snowflake and are the proud owner of credentials for both.
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.github.io/2019/11/20/streaming-data-from-sql-server-to-kafka-to-snowflake-with-kafka-connect/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.github.io/images/2019/11/IMG_1070.jpeg'); background-position: center;">
					<a href="https://rmoff.github.io/2019/11/12/running-dockerised-kafka-connect-worker-on-gcp/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Nov 12, 2019
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.github.io/2019/11/12/running-dockerised-kafka-connect-worker-on-gcp/" class="color-inherit dim link">Running Dockerised Kafka Connect worker on GCP</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>I <a href="http://talks.rmoff.net/">talk and write about Kafka and Confluent Platform</a> a lot, and more and more of the demos that I&#8217;m building are around <a href="https://confluent.cloud">Confluent Cloud</a>. This means that I don&#8217;t have to run or manage my own Kafka brokers, Zookeeper, Schema Registry, KSQL servers, etc which makes things a ton easier. Whilst there are managed connectors on Confluent Cloud (S3 etc), I need to run my own Kafka Connect worker for those connectors not yet provided. An example is the MQTT source connector that I use in <a href="https://rmoff.dev/kssf19-ksql-video">this demo</a>. Up until now I&#8217;d either run this worker locally, or manually build a cloud VM. Locally is fine, as it&#8217;s all Docker, easily spun up in a single <code>docker-compose up -d</code> command. I wanted something that would keep running whilst my laptop was off, but that was as close to my local build as possible—enter GCP and its functionality to run a container on a VM automagically.</p>
</div>
<div class="paragraph">
<p><strong>You can see <a href="https://github.com/confluentinc/demo-scene/blob/master/mqtt-tracker/launch-worker-container_gcloud.sh">the full script here</a></strong>. The rest of this article just walks through the how and why.</p>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.github.io/2019/11/12/running-dockerised-kafka-connect-worker-on-gcp/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.github.io/images/2019/10/IMG_2849.jpg'); background-position: center;">
					<a href="https://rmoff.github.io/2019/10/16/using-kafka-connect-and-debezium-with-confluent-cloud/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Oct 16, 2019
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.github.io/2019/10/16/using-kafka-connect-and-debezium-with-confluent-cloud/" class="color-inherit dim link">Using Kafka Connect and Debezium with Confluent Cloud</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>This is based on using <a href="https://confluent.cloud">Confluent Cloud</a> to provide your managed Kafka and Schema Registry. All that you run yourself is the Kafka Connect worker.</p>
</div>
<div class="paragraph">
<p>Optionally, you can use this <a href="https://github.com/rmoff/debezium-ccloud/blob/master/docker-compose.yml">Docker Compose</a> to run the worker and a sample MySQL database.</p>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.github.io/2019/10/16/using-kafka-connect-and-debezium-with-confluent-cloud/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.github.io/images/2019/10/IMG_0170.jpg'); background-position: center;">
					<a href="https://rmoff.github.io/2019/10/15/skipping-bad-records-with-the-kafka-connect-jdbc-sink-connector/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Oct 15, 2019
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.github.io/2019/10/15/skipping-bad-records-with-the-kafka-connect-jdbc-sink-connector/" class="color-inherit dim link">Skipping bad records with the Kafka Connect JDBC sink connector</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>The Kafka Connect framework provides generic <a href="https://www.confluent.io/blog/kafka-connect-deep-dive-error-handling-dead-letter-queues">error handling and dead-letter queue capabilities</a> which are available for problems with [de]serialisation and Single Message Transforms. When it comes to errors that a connector may encounter doing the actual <code>pull</code> or <code>put</code> of data from the source/target system, it&#8217;s down to the connector itself to implement logic around that. For example, the Elasticsearch sink connector provides configuration (<code>behavior.on.malformed.documents</code>) that can be set so that a single bad record won&#8217;t halt the pipeline. Others, such as the JDBC Sink connector, don&#8217;t provide this <a href="https://github.com/confluentinc/kafka-connect-jdbc/issues/721">yet</a>. That means that if you hit this problem, you need to manually unblock it yourself. One way is to manually move the offset of the consumer on past the bad message.</p>
</div>
<div class="paragraph">
<p><strong>TL;DR</strong> : You can use <code>kafka-consumer-groups --reset-offsets --to-offset &lt;x&gt;</code> to manually move the connector past a bad message</p>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.github.io/2019/10/15/skipping-bad-records-with-the-kafka-connect-jdbc-sink-connector/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.github.io/images/2019/10/IMG_0143.jpg'); background-position: center;">
					<a href="https://rmoff.github.io/2019/10/07/kafka-connect-and-elasticsearch/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Oct 7, 2019
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.github.io/2019/10/07/kafka-connect-and-elasticsearch/" class="color-inherit dim link">Kafka Connect and Elasticsearch</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>I use the Elastic stack for a lot of my <a href="https://talks.rmoff.net/">talks</a> and <a href="https://github.com/confluentinc/demo-scene/">demos</a> because it complements Kafka brilliantly. A few things have changed in recent releases and this blog is a quick note on some of the errors that you might hit and how to resolve them. It was inspired by a lot of the comments and discussion <a href="https://github.com/confluentinc/kafka-connect-elasticsearch/issues/314">here</a> and <a href="https://github.com/confluentinc/kafka-connect-elasticsearch/issues/342">here</a>.</p>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.github.io/2019/10/07/kafka-connect-and-elasticsearch/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.github.io/images/2019/08/IMG_9079.jpg'); background-position: center;">
					<a href="https://rmoff.github.io/2019/08/15/reset-kafka-connect-source-connector-offsets/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Aug 15, 2019
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.github.io/2019/08/15/reset-kafka-connect-source-connector-offsets/" class="color-inherit dim link">Reset Kafka Connect Source Connector Offsets</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							Kafka Connect in distributed mode uses Kafka itself to persist the offsets of any source connectors. This is a great way to do things as it means that you can easily add more workers, rebuild existing ones, etc without having to worry about where the state is persisted. I personally always recommend using distributed mode, even if just for a single worker instance - it just makes things easier, and more standard.
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.github.io/2019/08/15/reset-kafka-connect-source-connector-offsets/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.github.io/images/2019/08/IMG_1248.jpg'); background-position: center;">
					<a href="https://rmoff.github.io/2019/08/09/starting-a-kafka-connect-sink-connector-at-the-end-of-a-topic/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Aug 9, 2019
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.github.io/2019/08/09/starting-a-kafka-connect-sink-connector-at-the-end-of-a-topic/" class="color-inherit dim link">Starting a Kafka Connect sink connector at the end of a topic</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>When you create a sink connector in Kafka Connect, by default it will start reading from the beginning of the topic and stream all of the existing—and new—data to the target. The setting that controls this behaviour is <code>auto.offset.reset</code>, and you can see its value in the worker log when the connector runs:</p>
</div>
<div class="paragraph">
<div class="highlight"><pre style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell"><span style="color:#666">[</span><span style="color:#666">2019</span>-08-05 <span style="color:#666">23</span>:31:35,405<span style="color:#666">]</span> INFO ConsumerConfig values:
        allow.auto.create.topics <span style="color:#666">=</span> <span style="color:#008000">true</span>
        auto.commit.interval.ms <span style="color:#666">=</span> <span style="color:#666">5000</span>
        auto.offset.reset <span style="color:#666">=</span> earliest
…</code></pre></div>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.github.io/2019/08/09/starting-a-kafka-connect-sink-connector-at-the-end-of-a-topic/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.github.io/images/2019/08/IMG_1492.jpg'); background-position: center;">
					<a href="https://rmoff.github.io/2019/08/09/resetting-a-consumer-group-in-kafka/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Aug 9, 2019
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.github.io/2019/08/09/resetting-a-consumer-group-in-kafka/" class="color-inherit dim link">Resetting a Consumer Group in Kafka</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							I&#8217;ve been using Replicator as a powerful way to copy data from my Kafka rig at home onto my laptop&#8217;s Kafka environment. It means that when I&#8217;m on the road I can continue to work with the same set of data and develop pipelines etc. With a VPN back home I can even keep them in sync directly if I want to.
 I hit a problem the other day where Replicator was running, but I had no data in my target topics on my laptop.
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.github.io/2019/08/09/resetting-a-consumer-group-in-kafka/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.github.io/images/2019/06/IMG_0644.jpg'); background-position: center;">
					<a href="https://rmoff.github.io/2019/06/23/manually-delete-a-connector-from-kafka-connect/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Jun 23, 2019
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.github.io/2019/06/23/manually-delete-a-connector-from-kafka-connect/" class="color-inherit dim link">Manually delete a connector from Kafka Connect</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>Kafka Connect has as <a href="https://docs.confluent.io/current/connect/references/restapi.html">REST API</a> through which all config should be done, including removing connectors that have been created. Sometimes though, you might have reason to want to manually do this—and since Kafka Connect running in distributed mode uses Kafka as its persistent data store, you can achieve this by manually writing to the topic yourself.</p>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.github.io/2019/06/23/manually-delete-a-connector-from-kafka-connect/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.github.io/images/2019/06/DSCF3132.jpg'); background-position: center;">
					<a href="https://rmoff.github.io/2019/06/06/automatically-restarting-failed-kafka-connect-tasks/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Jun 6, 2019
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.github.io/2019/06/06/automatically-restarting-failed-kafka-connect-tasks/" class="color-inherit dim link">Automatically restarting failed Kafka Connect tasks</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>Here&#8217;s a hacky way to automatically restart Kafka Connect connectors if they fail. Restarting automatically only makes sense if it&#8217;s a transient failure; if there&#8217;s a problem with your pipeline (e.g. bad records or a mis-configured server) then you don&#8217;t gain anything from this. You might want to check out <a href="https://www.confluent.io/blog/kafka-connect-deep-dive-error-handling-dead-letter-queues">Kafka Connect&#8217;s error handling and dead letter queues</a> too.</p>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.github.io/2019/06/06/automatically-restarting-failed-kafka-connect-tasks/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.github.io/images/2019/05/IMG_9720.jpg'); background-position: center;">
					<a href="https://rmoff.github.io/2019/05/24/putting-kafka-connect-passwords-in-a-separate-file-/-externalising-secrets/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> May 24, 2019
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.github.io/2019/05/24/putting-kafka-connect-passwords-in-a-separate-file-/-externalising-secrets/" class="color-inherit dim link">Putting Kafka Connect passwords in a separate file / externalising secrets</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>Kafka Connect configuration is easy - you just write some JSON! But what if you&#8217;ve got credentials that you need to pass? Embedding those in a config file is not always such a smart idea. Fortunately with <a href="https://cwiki.apache.org/confluence/display/KAFKA/KIP-297%3A+Externalizing+Secrets+for+Connect+Configurations">KIP-297</a> which was released in Apache Kafka 2.0 there is support for external secrets. It&#8217;s extendable to use your own <code>ConfigProvider</code>, and ships with its own for just putting credentials in a file - which I&#8217;ll show here. You can <a href="https://docs.confluent.io/current/connect/security.html#externalizing-secrets">read more here</a>.</p>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.github.io/2019/05/24/putting-kafka-connect-passwords-in-a-separate-file-/-externalising-secrets/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.github.io/images/2019/05/IMG_9954.jpg'); background-position: center;">
					<a href="https://rmoff.github.io/2019/05/22/deleting-a-connector-in-kafka-connect-without-the-rest-api/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> May 22, 2019
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.github.io/2019/05/22/deleting-a-connector-in-kafka-connect-without-the-rest-api/" class="color-inherit dim link">Deleting a Connector in Kafka Connect without the REST API</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>Kafka Connect exposes a <a href="https://docs.confluent.io/current/connect/references/restapi.html">REST interface</a> through which all config and monitoring operations can be done. You can create connectors, delete them, restart them, check their status, and so on. But, I found a situation recently in which I needed to delete a connector and couldn&#8217;t do so with the REST API. Here&#8217;s another way to do it, by amending the configuration Kafka topic that Kafka Connect in distributed mode uses to persist configuration information for connectors. Note that this is not a recommended way of working with Kafka Connect—the REST API is there for a good reason :)</p>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.github.io/2019/05/22/deleting-a-connector-in-kafka-connect-without-the-rest-api/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.github.io/images/2019/05/IMG_9567.jpg'); background-position: center;">
					<a href="https://rmoff.github.io/2019/05/08/when-a-kafka-connect-converter-is-not-a-_converter_/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> May 8, 2019
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.github.io/2019/05/08/when-a-kafka-connect-converter-is-not-a-_converter_/" class="color-inherit dim link">When a Kafka Connect converter is not a <em>converter</em></a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>Kafka Connect is a API within Apache Kafka and its modular nature makes it powerful and flexible. Converters are part of the API but not always fully understood. I&#8217;ve written previously about <a href="https://www.confluent.io/blog/kafka-connect-deep-dive-converters-serialization-explained">Kafka Connect converters</a>, and this post is just a hands-on example to show even further what they are—and are not—about.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
To understand more about Kafka Connect in general, check out my talk from Kafka Summit London <a href="https://talks.rmoff.net/QZ5nsS/from-zero-to-hero-with-kafka-connect"><em>From Zero to Hero with Kafka Connect</em></a>.
</td>
</tr>
</table>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.github.io/2019/05/08/when-a-kafka-connect-converter-is-not-a-_converter_/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.github.io/images/2019/05/IMG_9571.jpg'); background-position: center;">
					<a href="https://rmoff.github.io/2019/05/02/reading-kafka-connect-offsets-via-the-rest-proxy/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> May 2, 2019
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.github.io/2019/05/02/reading-kafka-connect-offsets-via-the-rest-proxy/" class="color-inherit dim link">Reading Kafka Connect Offsets via the REST Proxy</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>When you run Kafka Connect in distributed mode it uses a Kafka topic to store the offset information for each connector. Because it&#8217;s just a Kafka topic, you can read that information using any consumer.</p>
</div>
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.github.io/2019/05/02/reading-kafka-connect-offsets-via-the-rest-proxy/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.github.io/images/2019/01/IMG_8123.jpg'); background-position: center;">
					<a href="https://rmoff.github.io/2019/01/29/kafka-connect-change-log-level-and-write-log-to-file/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Jan 29, 2019
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.github.io/2019/01/29/kafka-connect-change-log-level-and-write-log-to-file/" class="color-inherit dim link">Kafka Connect Change Log Level and Write Log to File</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							By default Kafka Connect sends its output to stdout, so you&#8217;ll see it on the console, Docker logs, or wherever. Sometimes you might want to route it to file, and you can do this by reconfiguring log4j. You can also change the configuration to get more (or less) detail in the logs by changing the log level.
 Finding the log configuration file The configuration file is called connect-log4j.properties and usually found in etc/kafka/connect-log4j.
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.github.io/2019/01/29/kafka-connect-change-log-level-and-write-log-to-file/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.github.io/images/2018/12/IMG_7431.jpg'); background-position: center;">
					<a href="https://rmoff.github.io/2018/12/15/docker-tips-and-tricks-with-ksql-and-kafka/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Dec 15, 2018
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.github.io/2018/12/15/docker-tips-and-tricks-with-ksql-and-kafka/" class="color-inherit dim link">Docker Tips and Tricks with KSQL and Kafka</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							A few years ago a colleague of mine told me about this thing called Docker, and I must admit I dismissed it as a fad…how wrong was I. Docker, and Docker Compose, are one of my key tools of the trade. With them I can build self-contained environments for tutorials, demos, conference talks etc. Tear it down, run it again, without worrying that somewhere a local config changed and will break things.
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.github.io/2018/12/15/docker-tips-and-tricks-with-ksql-and-kafka/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.github.io/images/2018/12/IMG_7311.jpg'); background-position: center;">
					<a href="https://rmoff.github.io/2018/12/03/kafka-connect-cli-tricks/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Dec 3, 2018
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.github.io/2018/12/03/kafka-connect-cli-tricks/" class="color-inherit dim link">Kafka Connect CLI tricks</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							I do lots of work with Kafka Connect, almost entirely in Distributed mode—even just with 1 node -&gt; makes scaling out much easier when/if needed. Because I&rsquo;m using Distributed mode, I use the Kafka Connect REST API to configure and manage it. Whilst others might use GUI REST tools like Postman etc, I tend to just use the commandline. Here are some useful snippets that I use all the time.
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.github.io/2018/12/03/kafka-connect-cli-tricks/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.github.io/images/2018/05/IMG_2759.jpg'); background-position: center;">
					<a href="https://rmoff.github.io/2018/05/21/kafka-connect-and-oracle-data-types/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> May 21, 2018
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.github.io/2018/05/21/kafka-connect-and-oracle-data-types/" class="color-inherit dim link">Kafka Connect and Oracle data types</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							The Kafka Connect JDBC Connector by default does not cope so well with:
 NUMBER columns with no defined precision/scale. You may end up with apparent junk (bytes) in the output, or just errors. TIMESTAMP WITH LOCAL TIME ZONE. Throws JDBC type -102 not currently supported warning in the log.  Read more about NUMBER data type in the Oracle docs.
tl;dr : How do I make it work? There are several options:
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.github.io/2018/05/21/kafka-connect-and-oracle-data-types/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
  
  </section>
</div>

		</main>
		
				<div class="hide-print sans-serif f6 f5-l mt5 ph3 pb6 center nested-copy-line-height lh-copy nested-links mw-100 measure-wide">
		<div class="about-the-author">
		
			
				
			
		
		</div>
		
	</div>

		
		
<footer class="w-100 sans-serif" role="contentinfo">
	<nav class="w-third-l pb3 f6 center db" role="navigation">

<ul class="pagination">
    
    <li class="page-item">
        <a href="/categories/kafka-connect/" class="page-link" aria-label="First"><span aria-hidden="true">&laquo;&laquo;</span></a>
    </li>
    
    <li class="page-item disabled">
    <a  class="page-link" aria-label="Previous"><span aria-hidden="true">&laquo;</span></a>
    </li>
    
    
    
    
    
    
    
        
        
    
    
    <li class="page-item active"><a class="page-link" href="/categories/kafka-connect/">1</a></li>
    
    
    
    
    
    
        
        
    
    
    <li class="page-item"><a class="page-link" href="/categories/kafka-connect/page/2/">2</a></li>
    
    
    <li class="page-item">
    <a href="/categories/kafka-connect/page/2/" class="page-link" aria-label="Next"><span aria-hidden="true">&raquo;</span></a>
    </li>
    
    <li class="page-item">
        <a href="/categories/kafka-connect/page/2/" class="page-link" aria-label="Last"><span aria-hidden="true">&raquo;&raquo;</span></a>
    </li>
    
</ul>

</nav>
</footer>

		
		<footer class="hide-print sans-serif f6 fw1 bg-black near-white bottom-0 w-100 pa3" role="contentinfo">
			<p class="w-50 fr tr">
			<a class="no-underline near-white" href="https://github.com/xaprb/story"><img class="dib" title="Made with Hugo and Story" alt="Story logo" src="https://rmoff.github.io/img/story-logo-white.svg" style="width: 1.5rem; height: 1.5rem" /></a>
			</p>
			<p class="w-50 near-white">
				&copy; 2019 Robin Moffatt
			</p>
		</footer>
		
	
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-75492960-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

	
	</body>
</html>
