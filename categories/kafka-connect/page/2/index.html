<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Kafka Connect &bullet; rmoff&#39;s random ramblings</title>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="https://rmoff.net/index.xml">
		<link rel="canonical" href="https://rmoff.net/categories/kafka-connect/">
		
		
		
		

		
		

		
		<link rel="stylesheet" href="https://rmoff.net/css/tachyons.min.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/story.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/descartes.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/toc.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/retro-cards.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/custom.css" />
		
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
		<link href="https://fonts.googleapis.com/css?family=Quattrocento+Sans:400,400i,700,700i|Quattrocento:400,700|Spectral:400,400i,700,700i&amp;subset=latin-ext" rel="stylesheet">
		
		
		<script>
			!function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init capture register register_once register_for_session unregister unregister_for_session getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey getNextSurveyStep identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty createPersonProfile opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing debug".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
            posthog.init('phc_93NEP79Ju4xqXYWXnoLbr4HMW0Iaepj1BGOVoEXYX6P',{api_host:'https://eu.i.posthog.com', person_profiles: 'identified_only' 
                })
		</script>
		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		
		<script src="https://rmoff.net/js/story.js"></script>
		<script src="https://rmoff.net/js/toc.js"></script>
		<script src="https://rmoff.net/js/medium-mirror.js"></script>

	</head>
	<body class="ma0 bg-white section-categories page-kind-term is-page-false ">
		

<header class="cover bg-top header-wrapper" style="background-image: url('/images/2023/05/h_IMG_2435.jpeg'); background-position: center;">
    <div class="bg-black-30 bb bt">
        
        <div class="glass-nav hide-print">
            <nav class="sans-serif border-box pa3 ph5-l">
                <a href="https://rmoff.net/" title="Home">
                    <img
                        src="https://rmoff.net/img/logo.jpg"
                        class="w2 h2 br-100"
                        alt="rmoff&#39;s random ramblings"
                    />
                </a>
                <div class="fr h2 pv2 tr">
                    <a class="icon-link-small" href="https://bsky.app/profile/rmoff.net"><i class="fa-brands fa-bluesky"></i></a>
                    <a class="icon-link-small" href="https://twitter.com/rmoff/"><i class="fa-brands fa-x-twitter"></i></a>
                    <a class="icon-link-small" href="https://github.com/rmoff/"><i class="fab fa-github-square"></i></a>
                    <a class="icon-link-small" href="https://talks.rmoff.net"><i class="fa-solid fa-chalkboard"></i></a>
                    <a class="icon-link-small" href="https://www.youtube.com/c/rmoff"><i class="fab fa-youtube-square"></i></a>
                    <a class="icon-link-small" href="https://www.linkedin.com/in/robinmoffatt/"><i class="fab fa-linkedin"></i></a>
                    <a class="icon-link-small" href="https://rmoff.net/index.xml" title="RSS Feed"><i class="fas fa-rss"></i></a>
                    <a class="icon-link-small" href="https://rmoff.net/search/" title="Search"><i class="fas fa-search"></i></a>
                </div>
            </nav>
        </div>

        
        <div class="tc-l pv3-ns pv4-l pv2 ph3 ph4-ns">
            <div class="title-box">
                <h1 class="near-white f2 fw3 mb2 mt0 lh-title">
                    <span class="terminal-title">Kafka Connect<span class="terminal-cursor"></span></span>
                </h1>
                <p class="title-subtitle">
                    69 articles in this category
                </p>
            </div>
        </div>
    </div>
</header>

		<main role="main">
		
<div class="pa3 pa4-ns w-100 center" style="max-width: 1200px;">
  <section class="w-100">
  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/12/smt_day2_thumb.jpg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Dec 9, 2020
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Dec 9, 2020
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2020/12/09/twelve-days-of-smt-day-2-valuetokey-and-extractfield/" class="retro-card-main-link">ðŸŽ„ Twelve Days of SMT ðŸŽ„ - Day 2: ValueToKey and ExtractField</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>Setting the key of a Kafka message is important as it ensures correct logical processing when consumed across multiple partitions, as well as being a requirement when joining to messages in other topics. When using Kafka Connect the connector may already set the key, which is great. If not, you can use these two Single Message Transforms (SMT) to set it as part of the pipeline based on a field in the value part of the message.</p>
</div>
<div class="paragraph">
<p>To use the <a href="https://docs.confluent.io/platform/current/connect/transforms/valuetokey.html"><code>ValueToKey</code></a> Single Message Transform specify the name of the field (<code>id</code>) that you want to copy from the value to the key:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="javascript"><span style="color: #d14">&#34;</span><span style="color: #d14">transforms</span><span style="color: #d14">&#34;</span>                    <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">copyIdToKey</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.copyIdToKey.type</span><span style="color: #d14">&#34;</span>   <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">org.apache.kafka.connect.transforms.ValueToKey</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.copyIdToKey.fields</span><span style="color: #d14">&#34;</span> <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">id</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span></code></pre>
</div>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2020/12/09/twelve-days-of-smt-day-2-valuetokey-and-extractfield/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/12/smt_day1_thumb.jpg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Dec 8, 2020
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Dec 8, 2020
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2020/12/08/twelve-days-of-smt-day-1-insertfield-timestamp/" class="retro-card-main-link">ðŸŽ„ Twelve Days of SMT ðŸŽ„ - Day 1: InsertField (timestamp)</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>You can use the <a href="https://docs.confluent.io/platform/current/connect/transforms/insertfield.html"><code>InsertField</code></a> Single Message Transform (SMT) to add the message timestamp into each message that Kafka Connect sends to a sink.</p>
</div>
<div class="paragraph">
<p>To use the Single Message Transform specify the name of the field (<code>timestamp.field</code>) that you want to add to hold the message timestamp:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="rouge highlight" style="background-color: #f8f8f8"><code data-lang="javascript"><span style="color: #d14">&#34;</span><span style="color: #d14">transforms</span><span style="color: #d14">&#34;</span>                         <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">insertTS</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.insertTS.type</span><span style="color: #d14">&#34;</span>           <span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">org.apache.kafka.connect.transforms.InsertField$Value</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">,</span>
<span style="color: #d14">&#34;</span><span style="color: #d14">transforms.insertTS.timestamp.field</span><span style="color: #d14">&#34;</span><span style="background-color: #f8f8f8">:</span> <span style="color: #d14">&#34;</span><span style="color: #d14">messageTS</span><span style="color: #d14">&#34;</span></code></pre>
</div>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2020/12/08/twelve-days-of-smt-day-1-insertfield-timestamp/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/11/kafka_tombstone.jpg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Nov 3, 2020
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Nov 3, 2020
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2020/11/03/kafka-connect-ksqldb-and-kafka-tombstone-messages/" class="retro-card-main-link">Kafka Connect, ksqlDB, and Kafka Tombstone messages</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>As you may already realise, Kafka is not just a fancy message bus, or a pipe for big data. Itâ€™s an event streaming platform! If this is news to you, Iâ€™ll wait here whilst you <a href="https://www.confluent.io/learn/kafka-tutorial/">read this</a> or <a href="https://rmoff.dev/kafka101">watch this</a>â€¦</p>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2020/11/03/kafka-connect-ksqldb-and-kafka-tombstone-messages/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/11/DSCF5316.jpeg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Nov 3, 2020
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Nov 3, 2020
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2020/11/03/streaming-geopoint-data-from-kafka-to-elasticsearch/" class="retro-card-main-link">Streaming Geopoint data from Kafka to Elasticsearch</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>Streaming data from Kafka to Elasticsearch is easy with Kafka Connect - you can see how in this <a href="https://rmoff.dev/kafka-elasticsearch">tutorial</a> and <a href="https://rmoff.dev/kafka-elasticsearch-video">video</a>.</p>
</div>
<div class="paragraph">
<p>One of the things that sometimes causes issues though is how to get location data correctly indexed into Elasticsearch as <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/geo-point.html"><code>geo_point</code></a> fields to enable all that lovely location analysis. Unlike data types like dates and numerics, Elasticsearchâ€™s <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/dynamic-field-mapping.html">Dynamic Field Mapping</a> wonâ€™t automagically pick up <code>geo_point</code> data, and so you have to do two things:</p>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2020/11/03/streaming-geopoint-data-from-kafka-to-elasticsearch/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/10/xml-ibmmq-mongodb.gif'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Oct 5, 2020
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Oct 5, 2020
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2020/10/05/streaming-xml-messages-from-ibm-mq-into-kafka-into-mongodb/" class="retro-card-main-link">Streaming XML messages from IBM MQ into Kafka into MongoDB</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>Letâ€™s imagine we have XML data on a queue in IBM MQ, and we want to ingest it into Kafka to then use downstream, perhaps in an application or maybe to stream to a NoSQL store like MongoDB.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This same pattern for ingesting XML will work with other connectors such as <a href="https://www.confluent.io/hub/confluentinc/kafka-connect-jms">JMS</a> and <a href="https://www.confluent.io/hub/confluentinc/kafka-connect-activemq">ActiveMQ</a>.
</td>
</tr>
</tbody></table>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2020/10/05/streaming-xml-messages-from-ibm-mq-into-kafka-into-mongodb/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/09/IMG_6861.jpeg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Oct 1, 2020
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Oct 1, 2020
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2020/10/01/ingesting-xml-data-into-kafka-option-3-kafka-connect-filepulse-connector/" class="retro-card-main-link">Ingesting XML data into Kafka - Option 3: Kafka Connect FilePulse connector</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>ðŸ‘‰ <em><a href="/2020/10/01/ingesting-xml-data-into-kafka-introduction/">Ingesting XML data into Kafka - Introduction</a></em></p>
</div>
<div class="paragraph">
<p>We saw in the <a href="/2020/10/01/ingesting-xml-data-into-kafka-option-1-the-dirty-hack/">first post</a> how to hack together an ingestion pipeline for XML into Kafka using a source such as <code>curl</code> piped through <code>xq</code> to wrangle the XML and stream it into Kafka using <code>kafkacat</code>, optionally using ksqlDB to apply and register a schema for it.</p>
</div>
<div class="paragraph">
<p>The <a href="/2020/10/01/ingesting-xml-data-into-kafka-option-2-kafka-connect-plus-single-message-transform/">second one</a> showed the use of any Kafka Connect source connector plus the <code>kafka-connect-transform-xml</code> Single Message Transformation. Now weâ€™re going to take a look at a source connector from the community that can also be used to ingest XML data into Kafka.</p>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2020/10/01/ingesting-xml-data-into-kafka-option-3-kafka-connect-filepulse-connector/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/09/IMG_6861.jpeg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Oct 1, 2020
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Oct 1, 2020
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2020/10/01/ingesting-xml-data-into-kafka-option-2-kafka-connect-plus-single-message-transform/" class="retro-card-main-link">Ingesting XML data into Kafka - Option 2: Kafka Connect plus Single Message Transform</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>We previously looked at the background to <a href="/2020/10/01/ingesting-xml-data-into-kafka-introduction/">getting XML into Kafka</a>, and potentially <a href="/2020/10/01/ingesting-xml-data-into-kafka-option-1-the-dirty-hack/">how [not] to do it</a>. Now letâ€™s look at the <em>proper</em> way to build a streaming ingestion pipeline for XML into Kafka, using Kafka Connect.</p>
</div>
<div class="paragraph">
<p>If youâ€™re unfamiliar with Kafka Connect, check out this <a href="https://rmoff.dev/what-is-kafka-connect">quick intro to Kafka Connect here</a>. Kafka Connectâ€™s excellent plugable architecture means that we can pair any <strong>source connector</strong> to read XML from wherever we have it (for example, a flat file, or a MQ, or anywhere else), with a <strong>Single Message Transform</strong> to transform the XML into a payload with a schema, and finally a <strong>converter</strong> to serialise the data in a form that we would like to use such as Avro or Protobuf.</p>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2020/10/01/ingesting-xml-data-into-kafka-option-2-kafka-connect-plus-single-message-transform/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/09/IMG_6647.jpeg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Sep 11, 2020
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Sep 11, 2020
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2020/09/11/what-is-kafka-connect/" class="retro-card-main-link">What is Kafka Connect?</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<p>Kafka Connect is the integration API for Apache Kafka. Check out this video for an overview of what Kafka Connect enables you to do, and how to do it.</p>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2020/09/11/what-is-kafka-connect/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/06/IMG_5119.jpeg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Jun 19, 2020
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Jun 19, 2020
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2020/06/19/how-to-install-connector-plugins-in-kafka-connect/" class="retro-card-main-link">How to install connector plugins in Kafka Connect</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>Kafka Connect (which is part of Apache Kafka) supports pluggable connectors, enabling you to stream data between Kafka and numerous types of system, including to mention just a few:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Databases</p>
</li>
<li>
<p>Message Queues</p>
</li>
<li>
<p>Flat files</p>
</li>
<li>
<p>Object stores</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The appropriate plugin for the technology which you want to integrate can be found on <a href="https://www.confluent.io/hub/">Confluent Hub</a>.</p>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2020/06/19/how-to-install-connector-plugins-in-kafka-connect/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/06/IMG_5001.jpeg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Jun 17, 2020
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Jun 17, 2020
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2020/06/17/loading-csv-data-into-kafka/" class="retro-card-main-link">Loading CSV data into Kafka</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>For whatever reason, CSV still exists as a ubiquitous data interchange format. It doesnâ€™t get much simpler: chuck some plaintext with fields separated by commas into a file and stick <code>.csv</code> on the end. If youâ€™re feeling helpful you can include a header row with field names in.</p>
</div>
<div class="paragraph">
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-csv" data-lang="csv"><span style="display:flex;"><span><span style="color:#ba2121">order_id</span>,<span style="color:#ba2121">customer_id</span>,<span style="color:#ba2121">order_total_usd</span>,<span style="color:#ba2121">make</span>,<span style="color:#ba2121">model</span>,<span style="color:#ba2121">delivery_city</span>,<span style="color:#ba2121">delivery_company</span>,<span style="color:#ba2121">delivery_address</span>
</span></span><span style="display:flex;"><span><span style="color:#ba2121">1</span>,<span style="color:#ba2121">535</span>,<span style="color:#ba2121">190899.73</span>,<span style="color:#ba2121">Dodge</span>,<span style="color:#ba2121">Ram Wagon B350</span>,<span style="color:#ba2121">Sheffield</span>,<span style="color:#ba2121">DuBuque LLC</span>,<span style="color:#ba2121">2810 Northland Avenue</span>
</span></span><span style="display:flex;"><span><span style="color:#ba2121">2</span>,<span style="color:#ba2121">671</span>,<span style="color:#ba2121">33245.53</span>,<span style="color:#ba2121">Volkswagen</span>,<span style="color:#ba2121">Cabriolet</span>,<span style="color:#ba2121">Edinburgh</span>,<span style="color:#ba2121">Bechtelar-VonRueden</span>,<span style="color:#ba2121">1 Macpherson Crossing</span></span></span></code></pre></div>
</div>
<div class="paragraph">
<p>In this article weâ€™ll see how to load this CSV data into Kafka, without even needing to write any code</p>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2020/06/17/loading-csv-data-into-kafka/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/02/IMG_3118.jpeg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Feb 25, 2020
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Feb 25, 2020
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2020/02/25/kafka-connect-jdbc-sink-setting-the-key-field-name/" class="retro-card-main-link">Kafka Connect JDBC Sink - setting the key field name</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>I wanted to get some data from a Kafka topic:</p>
</div>
<div class="paragraph">
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-sql" data-lang="sql"><span style="display:flex;"><span>ksql<span style="color:#666">&gt;</span><span style="color:#bbb"> </span>PRINT<span style="color:#bbb"> </span>PERSON_STATS<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">FROM</span><span style="color:#bbb"> </span>BEGINNING;<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span><span style="color:#008000;font-weight:bold">Key</span><span style="color:#bbb"> </span>format:<span style="color:#bbb"> </span>KAFKA<span style="color:#bbb"> </span>(STRING)<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>Value<span style="color:#bbb"> </span>format:<span style="color:#bbb"> </span>AVRO<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"></span>rowtime:<span style="color:#bbb"> </span><span style="color:#666">2</span><span style="color:#666">/</span><span style="color:#666">25</span><span style="color:#666">/</span><span style="color:#666">20</span><span style="color:#bbb"> </span><span style="color:#666">1</span>:<span style="color:#666">12</span>:<span style="color:#666">51</span><span style="color:#bbb"> </span>PM<span style="color:#bbb"> </span>UTC,<span style="color:#bbb"> </span><span style="color:#008000;font-weight:bold">key</span>:<span style="color:#bbb"> </span>robin,<span style="color:#bbb"> </span>value:<span style="color:#bbb"> </span><span style="">{</span><span style="color:#ba2121">&#34;PERSON&#34;</span>:<span style="color:#bbb"> </span><span style="color:#ba2121">&#34;robin&#34;</span>,<span style="color:#bbb">
</span></span></span><span style="display:flex;"><span><span style="color:#bbb"> </span><span style="color:#ba2121">&#34;LOCATION_CHANGES&#34;</span>:<span style="color:#666">1</span>,<span style="color:#bbb"> </span><span style="color:#ba2121">&#34;UNIQUE_LOCATIONS&#34;</span>:<span style="color:#bbb"> </span><span style="color:#666">1</span><span style="">}</span></span></span></code></pre></div>
</div>
<div class="paragraph">
<p>into Postgres, so did the easy thing and used Kafka Connect with the <a href="https://docs.confluent.io/current/connect/kafka-connect-jdbc/sink-connector/index.html">JDBC Sink connector</a>.</p>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2020/02/25/kafka-connect-jdbc-sink-setting-the-key-field-name/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/02/IMG_2326.jpeg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Feb 7, 2020
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Feb 7, 2020
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2020/02/07/primitive-keys-in-ksqldb/" class="retro-card-main-link">Primitive Keys in ksqlDB</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>ksqlDB 0.7 will add support for message keys as primitive data types beyond just <code>STRING</code> (which is all weâ€™ve had to date). That means that Kafka messages are going to be much easier to work with, and require less wrangling to get into the form in which you need them. Take an example of a database table that youâ€™ve ingested into a Kafka topic, and want to join to a stream of events. Previously youâ€™d have had to take the Kafka topic into which the table had been ingested and run a ksqlDB processor to re-key the messages such that ksqlDB could join on them. <em>Friends, I am here to tell you that this is no longer needed!</em></p>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2020/02/07/primitive-keys-in-ksqldb/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/01/IMG_2254.jpeg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Jan 23, 2020
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Jan 23, 2020
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2020/01/23/notes-on-getting-data-into-influxdb-from-kafka-with-kafka-connect/" class="retro-card-main-link">Notes on getting data into InfluxDB from Kafka with Kafka Connect</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>You can download the InfluxDB connector for Kafka Connect <a href="https://www.confluent.io/hub/confluentinc/kafka-connect-influxdb">here</a>. Documentation for it is <a href="https://docs.confluent.io/current/connect/kafka-connect-influxdb/influx-db-sink-connector/">here</a>.</p>
</div>
<div class="paragraph">
<p>When a message from your source Kafka topic is written to InfluxDB the InfluxDB values are set thus:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Timestamp</strong> is taken from the Kafka message timestamp (which is either set by your producer, or the time at which it was received by the broker)</p>
</li>
<li>
<p><strong>Tag(s)</strong> are taken from the <code>tags</code> field in the message. This field must be a <code>map</code> type - see below</p>
</li>
<li>
<p><strong>Value</strong> fields are taken from the rest of the message, and must be numeric or boolean</p>
</li>
<li>
<p><strong>Measurement name</strong> can be specified as a field of the message, or hardcoded in the connector config.</p>
</li>
</ul>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2020/01/23/notes-on-getting-data-into-influxdb-from-kafka-with-kafka-connect/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/01/IMG_2266.jpeg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Jan 22, 2020
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Jan 22, 2020
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2020/01/22/kafka-connect-and-schemas/" class="retro-card-main-link">Kafka Connect and Schemas</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>Hereâ€™s a fun one that Kafka Connect can sometimes throw out:</p>
</div>
<div class="paragraph">
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>java.lang.ClassCastException: 
</span></span><span style="display:flex;"><span>java.util.HashMap cannot be cast to org.apache.kafka.connect.data.Struct</span></span></code></pre></div>
</div>
<div class="paragraph">
<p>HashMap? Struct? HUH?</p>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2020/01/22/kafka-connect-and-schemas/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/01/IMG_2259.jpeg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Jan 21, 2020
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Jan 21, 2020
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2020/01/21/monitoring-sonos-with-ksqldb-influxdb-and-grafana/" class="retro-card-main-link">Monitoring Sonos with ksqlDB, InfluxDB, and Grafana</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>Iâ€™m quite a fan of Sonos audio equipment but recently had some trouble with some of the devices glitching and even cutting out whilst playing. Under the covers Sonos stuff is running Linux (of course) and exposes some diagnostics through a rudimentary frontend that you can access at <code>http://&lt;sonos player IP&gt;:1400/support/review</code>:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="/images/2020/01/sonos00.png" alt="Sonos Network Matrix"/>
</div>
</div>
<div class="paragraph">
<p>Whilst this gives you the current state, you canâ€™t get historical data on it. It <em>felt</em> like the problems were happening &#34;all the time&#34;, but <strong>were they actually</strong>? For that, we need some cold, hard, data! Something like this, in fact:</p>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2020/01/21/monitoring-sonos-with-ksqldb-influxdb-and-grafana/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/01/IMG_0102.jpeg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Jan 16, 2020
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Jan 16, 2020
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2020/01/16/changing-the-logging-level-for-kafka-connect-dynamically/" class="retro-card-main-link">Changing the Logging Level for Kafka Connect Dynamically</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>Logs are magical things. They tell us what an application is doingâ€”or not doing. They help us debug problems. As it happens, they also underpin the <a href="https://engineering.linkedin.com/distributed-systems/log-what-every-software-engineer-should-know-about-real-time-datas-unifying">entire philosophy of Apache Kafka</a>, but thatâ€™s a story for another day. Today weâ€™re talking about logs written by Kafka Connect, and how we can change the amount of detail written.</p>
</div>
<div class="paragraph">
<p>By default, Kafka Connect will write logs at <code>INFO</code> and above. So when it starts up, the settings that itâ€™s using, and any <code>WARN</code> or <code>ERROR</code> messages along the way - a missing configuration, a broken connector, and so on. If you want to peer under the covers of whatâ€™s happening, perhaps in a given connector, youâ€™d want to see <code>DEBUG</code> or even <code>TRACE</code> messages too.</p>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2020/01/16/changing-the-logging-level-for-kafka-connect-dynamically/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/01/IMG_2114.jpeg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Jan 8, 2020
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Jan 8, 2020
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2020/01/08/streaming-messages-from-rabbitmq-into-kafka-with-kafka-connect/" class="retro-card-main-link">Streaming messages from RabbitMQ into Kafka with Kafka Connect</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>This was prompted by <a href="https://stackoverflow.com/questions/59632068/kafka-connect-is-sending-a-malformed-json">a question</a> on StackOverflow to which I thought the answer would be straightforward, but turned out not to be so. And then I got a bit carried away and ended up with a nice example of how you can handle schema-less data coming from a system such as RabbitMQ and apply a schema to it.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
This same pattern for ingesting bytes and applying a schema will work with other connectors such as <a href="https://www.confluent.io/hub/confluentinc/kafka-connect-mqtt">MQTT</a>
</td>
</tr>
</tbody></table>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2020/01/08/streaming-messages-from-rabbitmq-into-kafka-with-kafka-connect/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2019/12/IMG_1399.jpeg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Dec 20, 2019
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Dec 20, 2019
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2019/12/20/analysing-network-behaviour-with-ksqldb-and-mongodb/" class="retro-card-main-link">Analysing network behaviour with ksqlDB and MongoDB</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>In this post I want to build on <a href="/2019/12/18/detecting-and-analysing-ssh-attacks-with-ksqldb/">my previous one</a> and show another use of the Syslog data that Iâ€™m capturing. Instead of looking for <a href="/2019/12/18/detecting-and-analysing-ssh-attacks-with-ksqldb/">SSH attacks</a>, Iâ€™m going to analyse the behaviour of my networking components.</p>
</div>
<div class="admonitionblock note">
<table>
<tbody><tr>
<td class="icon">
<div class="title">Note</div>
</td>
<td class="content">
You can find all the code to run this on <a href="https://github.com/confluentinc/demo-scene/tree/master/syslog">GitHub</a>.
</td>
</tr>
</tbody></table>
</div>
<div class="sect1">
<h2 id="_getting_syslog_data_into_kafka">Getting Syslog data into Kafka</h2>
<div class="sectionbody">
<div class="paragraph">
<p>As before, letâ€™s create ourselves a <a href="https://www.confluent.io/hub/confluentinc/kafka-connect-syslog">syslog connector</a> in ksqlDB:</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlight"><code class="language-sql" data-lang="sql">CREATE SOURCE CONNECTOR SOURCE_SYSLOG_UDP_01 WITH (
    &#39;tasks.max&#39; = &#39;1&#39;,
    &#39;connector.class&#39; = &#39;io.confluent.connect.syslog.SyslogSourceConnector&#39;,
    &#39;topic&#39; = &#39;syslog&#39;,
    &#39;syslog.port&#39; = &#39;42514&#39;,
    &#39;syslog.listener&#39; = &#39;UDP&#39;,
    &#39;syslog.reverse.dns.remote.ip&#39; = &#39;true&#39;,
    &#39;confluent.license&#39; = &#39;&#39;,
    &#39;confluent.topic.bootstrap.servers&#39; = &#39;kafka:29092&#39;,
    &#39;confluent.topic.replication.factor&#39; = &#39;1&#39;
);</code></pre>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2019/12/20/analysing-network-behaviour-with-ksqldb-and-mongodb/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2019/12/IMG_1537.jpeg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Dec 18, 2019
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Dec 18, 2019
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2019/12/18/detecting-and-analysing-ssh-attacks-with-ksqldb/" class="retro-card-main-link">Detecting and Analysing SSH Attacks with ksqlDB</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>Iâ€™ve <a href="https://www.confluent.io/blog/real-time-syslog-processing-apache-kafka-ksql-part-1-filtering/">written previously</a> about ingesting Syslog into Kafka and using KSQL to analyse it. I want to revisit the subject since itâ€™s nearly two years since I wrote about it and some things have changed since then.</p>
</div>
<div class="paragraph">
<p>ksqlDB now includes the ability to define connectors from within it, which makes setting things up loads easier.</p>
</div>
<div class="paragraph">
<p>You can find the <a href="https://github.com/confluentinc/demo-scene/tree/master/syslog">full rig to run this on GitHub</a>.</p>
</div>
<div class="sect1">
<h2 id="_create_and_configure_the_syslog_connector">Create and configure the Syslog connector</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To start with, create a source connector:</p>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2019/12/18/detecting-and-analysing-ssh-attacks-with-ksqldb/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/img/default-header-img.tn-500x500.jpg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Nov 29, 2019
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Nov 29, 2019
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2019/11/29/kafka-connect-request-timed-out/" class="retro-card-main-link">Kafka Connect - Request timed out</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>A short &amp; sweet blog post to help people Googling for this error, and me next time I encounter it.</p>
</div>
<div class="paragraph">
<p>The scenario: trying to create a connector in Kafka Connect (running in distributed mode, one worker) failed with the <code>curl</code> response</p>
</div>
<div class="paragraph">
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>HTTP/1.1 <span style="color:#666">500</span> Internal Server Error
</span></span><span style="display:flex;"><span>Date: Fri, <span style="color:#666">29</span> Nov <span style="color:#666">2019</span> 14:33:53 GMT
</span></span><span style="display:flex;"><span>Content-Type: application/json
</span></span><span style="display:flex;"><span>Content-Length: <span style="color:#666">48</span>
</span></span><span style="display:flex;"><span>Server: Jetty<span style="color:#666">(</span>9.4.18.v20190429<span style="color:#666">)</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#666">{</span><span style="color:#ba2121">&#34;error_code&#34;</span>:500,<span style="color:#ba2121">&#34;message&#34;</span>:<span style="color:#ba2121">&#34;Request timed out&#34;</span><span style="color:#666">}</span></span></span></code></pre></div>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2019/11/29/kafka-connect-request-timed-out/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
  </section>
</div>

		</main>
		
<footer class="w-100 sans-serif" role="contentinfo">
	<nav class="w-third-l pb3 f6 center db" role="navigation">
    <ul class="pagination pagination-default">
      <li class="page-item">
        <a href="/categories/kafka-connect/" aria-label="First" class="page-link" role="button"><span aria-hidden="true">&laquo;&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/categories/kafka-connect/" aria-label="Previous" class="page-link" role="button"><span aria-hidden="true">&laquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/categories/kafka-connect/" aria-label="Page 1" class="page-link" role="button">1</a>
      </li>
      <li class="page-item active">
        <a aria-current="page" aria-label="Page 2" class="page-link" role="button">2</a>
      </li>
      <li class="page-item">
        <a href="/categories/kafka-connect/page/3/" aria-label="Page 3" class="page-link" role="button">3</a>
      </li>
      <li class="page-item">
        <a href="/categories/kafka-connect/page/4/" aria-label="Page 4" class="page-link" role="button">4</a>
      </li>
      <li class="page-item">
        <a href="/categories/kafka-connect/page/3/" aria-label="Next" class="page-link" role="button"><span aria-hidden="true">&raquo;</span></a>
      </li>
      <li class="page-item">
        <a href="/categories/kafka-connect/page/4/" aria-label="Last" class="page-link" role="button"><span aria-hidden="true">&raquo;&raquo;</span></a>
      </li>
    </ul></nav>
</footer>

		
		<footer class="hide-print sans-serif f6 fw1 bg-black near-white bottom-0 w-100 pa3" role="contentinfo">
			<p class="w-50 fr tr">
			<a class="no-underline near-white" href="https://github.com/xaprb/story"><img class="dib" title="Made with Hugo and Story" alt="Story logo" src="https://rmoff.net/img/story-logo-white.svg" style="width: 1.5rem; height: 1.5rem" /></a>
			</p>
			<p class="w-50 near-white">
				&copy; 2026 
			</p>
		</footer>
		
	</body>
</html>
