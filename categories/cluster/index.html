<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Categories &bullet; rmoff&#39;s random ramblings</title>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="https://rmoff.net/index.xml">
		<link rel="canonical" href="https://rmoff.net/categories/cluster/">
		
		
		
		
		
		

		
		<link rel="stylesheet" href="https://rmoff.net/css/tachyons.min.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/story.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/descartes.css" />
		
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
		<link href="https://fonts.googleapis.com/css?family=Quattrocento+Sans:400,400i,700,700i|Quattrocento:400,700|Spectral:400,400i,700,700i&amp;subset=latin-ext" rel="stylesheet">
		

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		
		<script src="https://rmoff.net/js/story.js"></script>

	</head>
	<body class="ma0 bg-white section-categories page-kind-term is-page-false ">
		
		<header class="cover bg-top" style="background-image: url('https://rmoff.net/img/default-header-img.jpg'); background-position: center;">
			<div class="bg-black-30 bb bt">

				<nav class="hide-print sans-serif  border-box pa3 ph5-l">
					<a href="https://rmoff.net" title="Home">
						<img src="https://rmoff.net/img/logo.jpg" class="w2 h2 br-100" alt="rmoff&#39;s random ramblings" />
					</a>
					<div class="fr h2 pv2 tr">
						<a class="link f5 ml2 dim near-white" href="https://talks.rmoff.net/bio">about</a>
						<a class="link f5 ml2 dim near-white" href="https://talks.rmoff.net">talks</a>
						<a class="link f5 ml2 dim near-white" href="https://www.youtube.com/c/rmoff"><i class="fab fa-youtube-square"></i></a>
						<a class="link f5 ml2 dim near-white" href="https://twitter.com/rmoff/"><i class="fab fa-twitter-square"></i></a>
						<a class="link f5 ml2 dim near-white" href="https://github.com/rmoff/"><i class="fab fa-github-square"></i></a>
						<a class="link f5 ml2 dim near-white" href="https://www.linkedin.com/in/robinmoffatt/"><i class="fab fa-linkedin"></i></a>
						<a class="link f5 ml2 dim near-white fas fa-rss-square" href="https://rmoff.net/index.xml" title="RSS Feed"></a>
						<a class="link f5 ml2 dim near-white fas fa-search" href="https://rmoff.net/search/" role="search" title="Search"></a>
					</div>
				</nav>

				<div id="hdr" class="tc-l pv4-ns pv5-l pv2 ph3 ph4-ns">
					<h1 class="near-white mt1-ns f2 fw3 mb0 mt0 lh-title">cluster</h1>
					<h2 class="near-white mt3-l mb4-l fw1 f6 f3-l measure-wide-l center lh-copy mt2 mb3">
						
						
							
						
					</h2>
				</div>

				
				
				
				

			</div>
		</header>
		
		<main role="main">
		
<div class="pa3 pa4-ns w-100 w-70-ns center">
  <section class="w-100 mw8">
  
  
  
  
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/img/default-header-img.tn-500x500.jpg'); background-position: center;">
					<a href="https://rmoff.net/2010/03/05/whos-been-at-the-cookie-jar-ebs-bi-authentication-and-load-balancers/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Mar 5, 2010
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2010/03/05/whos-been-at-the-cookie-jar-ebs-bi-authentication-and-load-balancers/" class="color-inherit dim link">Who&rsquo;s been at the cookie jar? EBS-BI authentication and Load Balancers</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							We hit a very interesting problem in our Production environment recently. We&rsquo;d made no changes for a long time to the configuration, but all of a sudden users were on the phone complaining. They could login to BI from EBS but after logging in the next link they clicked took them to the OBIEE &ldquo;You are not logged in&rdquo; screen.
Our users login to EBS R12 and then using EBS authentication log in to OBIEE (10.
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2010/03/05/whos-been-at-the-cookie-jar-ebs-bi-authentication-and-load-balancers/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/img/default-header-img.tn-500x500.jpg'); background-position: center;">
					<a href="https://rmoff.net/2009/11/12/deploying-oracle-business-intelligence-enterprise-edition-on-sun-systems/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Nov 12, 2009
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2009/11/12/deploying-oracle-business-intelligence-enterprise-edition-on-sun-systems/" class="color-inherit dim link">Deploying Oracle Business Intelligence Enterprise Edition on Sun Systems</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							A very interesting new PDF from Sun on deploying OBIEE has been published, with discussions on architecture, performance and best practice.
This Sun BluePrints article describes an enterprise deployment architecture for Oracle Business Intelligence Enterprise Edition using Sun servers running the Solaris Operating System and Sun Storage 7000 Unified Storage systems. Designed to empower employees in organizations in any industry—from customer service, shipping, and finance to manufacturing, human resources, and more—to become potential decision makers, the architecture brings fault tolerance, security, resiliency, and performance to enterprise deployments.
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2009/11/12/deploying-oracle-business-intelligence-enterprise-edition-on-sun-systems/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/img/default-header-img.tn-500x500.jpg'); background-position: center;">
					<a href="https://rmoff.net/2009/09/15/obiee-cluster-controller-failover-in-action/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Sep 15, 2009
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2009/09/15/obiee-cluster-controller-failover-in-action/" class="color-inherit dim link">OBIEE cluster controller failover in action</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							Production cluster is 2x BI Server and 2x Presentation Services, with a BIG-IP F5 load balancer on the front.
Symptoms Users started reporting slow login times to BI. Our monitoring tool (Openview) reported that &ldquo;BIServer01 may be down. Failed to contact it using ping.&rdquo;. BIServer01 cannot be reached by ping or ssh from Windows network.
Diagnostics nqsserver and nqsclustercontroller on BIServer01 was logging these repeated errors:
[nQSError: 12002] Socket communication error at call=send: (Number=9) Bad file number
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2009/09/15/obiee-cluster-controller-failover-in-action/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/img/default-header-img.tn-500x500.jpg'); background-position: center;">
					<a href="https://rmoff.net/2009/08/14/unix-script-to-report-on-obiee-and-obia-processes-state/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Aug 14, 2009
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2009/08/14/unix-script-to-report-on-obiee-and-obia-processes-state/" class="color-inherit dim link">Unix script to report on OBIEE and OBIA processes state</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							Here&rsquo;s a set of scripts that I use on our servers as a quick way to check if the various BI components are up and running.
Because we split the stack across servers, there are different scripts called in combination. On our dev boxes we have everything and so the script calls all three sub-scripts, whereas on Production each server will run one of:
BI Server Presentation Server &amp; OAS Informatica &amp; DAC The scripts source another script called process_check.
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2009/08/14/unix-script-to-report-on-obiee-and-obia-processes-state/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/img/default-header-img.tn-500x500.jpg'); background-position: center;">
					<a href="https://rmoff.net/2009/03/30/bug-in-clustered-publisher-scheduler-clustermanager-detected-1-failed-or-restarted-instances/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Mar 30, 2009
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2009/03/30/bug-in-clustered-publisher-scheduler-clustermanager-detected-1-failed-or-restarted-instances/" class="color-inherit dim link">Bug in Clustered Publisher Scheduler - ClusterManager: detected 1 failed or restarted instances</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							Follow on from setting up Publisher in a clustered environment, I&rsquo;ve found a nasty little bug in the scheduling element of Publisher, Quartz.
Looking at the oc4j log file /opmn/logs/default_group~home~default_group~1.log I can see OC4J starting up, and then a whole load of repeated messages:
09/03/30 11:28:43 Oracle Containers for J2EE 10g (10.1.3.3.0) initialized
- ClusterManager: detected 1 failed or restarted instances.
- ClusterManager: Scanning for instance &ldquo;myserver.fqdn.company.net1238408921404&rdquo;&rsquo;s failed in-progress jobs.
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2009/03/30/bug-in-clustered-publisher-scheduler-clustermanager-detected-1-failed-or-restarted-instances/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/img/default-header-img.tn-500x500.jpg'); background-position: center;">
					<a href="https://rmoff.net/2009/03/24/clustering-publisher-scheduler-and-report-repository/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Mar 24, 2009
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2009/03/24/clustering-publisher-scheduler-and-report-repository/" class="color-inherit dim link">Clustering Publisher - Scheduler and Report Repository</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							The Oracle BI Publisher Enterprise Cluster Deployment doc which I just found through Metalink highlighted a couple of points:
- Report repository should be shared
- The scheduler should be configured for a cluster
Report Repository
Through Admin&gt;System Maintenance&gt;Report Repository I changed the path from the default, /xmlp/XMLP to a NFS mount data/shared/xmlp and restarted the xmlpserver application in OAS. On coming back up Publisher complained because all its config files (in xmlp/Admin), had disappeared.
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2009/03/24/clustering-publisher-scheduler-and-report-repository/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
      <div class="relative w-100">
	<article>
		<div class="db pv4 ph3 ph0-l no-underline dark-gray">
			<div class="flex flex-column flex-row-ns">
				
				<div class="mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/img/default-header-img.tn-500x500.jpg'); background-position: center;">
					<a href="https://rmoff.net/2009/03/23/obiee-publisher-configuring-connection-to-clustered-bi-server/" class="sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Mar 23, 2009
					</a>
				</div>
				
				<div class="w-100 w6-ns pl3-ns">
					<h1 class="f3 fw1 mt0 lh-title"><a href="https://rmoff.net/2009/03/23/obiee-publisher-configuring-connection-to-clustered-bi-server/" class="color-inherit dim link">OBIEE Publisher - configuring connection to clustered BI Server</a></h1>
					<div class="f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							I&rsquo;m setting up a clustered OBIEE 10.1.3.4 production environment. There are four servers; two BI Server + Cluster Controller + Scheduler and two OAS + Presentation Services + Publisher. Clustering of BI is configured, now I&rsquo;m setting up the other bits. Today is Publisher.
On publisher instance A connections to the BI Servers directly work fine:
jdbc:oraclebi://serverA.fqdn.company.net:9703/ jdbc:oraclebi://serverB.fqdn.company.net:9703/
both work individually as Connection Strings (with database driver class of oracle.bi.jdbc.AnaJdbcDriver) - verified with &ldquo;Test Connection&rdquo; button.
							<p class="pa0 sans-serif f7"><a class="ba br3 pa2 link" href="https://rmoff.net/2009/03/23/obiee-publisher-configuring-connection-to-clustered-bi-server/">Continue Reading <i class="fas fa-chevron-circle-right"></i></a></p>
						
					</div>
				</div>
			</div>
		</div>
	</article>
</div>

    
  
  </section>
</div>

		</main>
		
				<div class="hide-print sans-serif f6 f5-l mt5 ph3 pb6 center nested-copy-line-height lh-copy nested-links mw-100 measure-wide">
		<div class="about-the-author">
		
			
				<hr>
<p><img src="/images/2018/05/ksldn18-01.jpg" alt="Robin Moffatt"></p>
<p><a href="https://www.youtube.com/c/rmoff"><b class="fab fa-youtube-square"></b></a> <a href="https://www.linkedin.com/in/robinmoffatt/"><b class="fab fa-linkedin"></b></a> <em><a rel="me" href="https://data-folks.masto.host/@rmoff">Robin Moffatt</a> is a Principal DevEx Engineer at LakeFS. He likes writing about himself in the third person, eating good breakfasts, and drinking good beer.</em></p>

			
		
		</div>
		
	</div>

		
		
<footer class="w-100 sans-serif" role="contentinfo">
	<nav class="w-third-l pb3 f6 center db" role="navigation"></nav>
</footer>

		
		<footer class="hide-print sans-serif f6 fw1 bg-black near-white bottom-0 w-100 pa3" role="contentinfo">
			<p class="w-50 fr tr">
			<a class="no-underline near-white" href="https://github.com/xaprb/story"><img class="dib" title="Made with Hugo and Story" alt="Story logo" src="https://rmoff.net/img/story-logo-white.svg" style="width: 1.5rem; height: 1.5rem" /></a>
			</p>
			<p class="w-50 near-white">
				&copy; 2022 
			</p>
		</footer>
		
	
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-75492960-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

	
	</body>
</html>
