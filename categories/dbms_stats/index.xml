<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Dbms_stats on rmoff&#39;s random ramblings</title>
    <link>https://rmoff.net/categories/dbms_stats/</link>
    <description>Recent content in Dbms_stats on rmoff&#39;s random ramblings</description>
    <generator>Hugo</generator>
    <language>en-us</language>
    <lastBuildDate>Tue, 13 Sep 2011 00:00:00 +0000</lastBuildDate>
    <atom:link href="https://rmoff.net/categories/dbms_stats/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>DBMS_STATS - GATHER AUTO</title>
      <link>https://rmoff.net/2011/09/13/dbms_stats-gather-auto/</link>
      <pubDate>Tue, 13 Sep 2011 00:00:00 +0000</pubDate>
      <guid>https://rmoff.net/2011/09/13/dbms_stats-gather-auto/</guid>
      <description>&lt;p&gt;In Oracle 11g, the &lt;a href=&#34;http://download.oracle.com/docs/cd/B28359_01/appdev.111/b28419/d_stats.htm&#34;&gt;DBMS_STATS&lt;/a&gt; procedure &lt;a href=&#34;http://download.oracle.com/docs/cd/B28359_01/appdev.111/b28419/d_stats.htm#BEIBJJHC&#34;&gt;GATHER_SCHEMA_STATS&lt;/a&gt; takes a parameter &amp;lsquo;options&amp;rsquo; which defines the scope of the objects processed by the procedure call, as well as the action. It can be either GATHER or LIST (gather the stats, or list out the objects to be touched, respectively), and AUTO, STALE or EMPTY (defining the object selection to process).&lt;/p&gt;&#xA;&lt;ul&gt;&#xA;&lt;li&gt;&lt;strong&gt;GATHER&lt;/strong&gt; on its own will gather stats on all objects in the schema&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;GATHER EMPTY / LIST EMPTY&lt;/strong&gt; is self-explanatory - objects with no statistics.&lt;/li&gt;&#xA;&lt;li&gt;&lt;strong&gt;GATHER STALE / LIST STALE&lt;/strong&gt; is pretty obvious too - objects that have stale statistics (i.e. have had 10% change to them since statistics were last gathered). NB this 10% can be changed at an object/schema/DB level.&lt;/li&gt;&#xA;&lt;li&gt;However, the documentation is ambiguous as to the precise function of &lt;strong&gt;GATHER AUTO / LIST AUTO&lt;/strong&gt;.&lt;/li&gt;&#xA;&lt;/ul&gt;&#xA;&lt;p&gt;There&amp;rsquo;s even a MOS note, &lt;a href=&#34;https://supporthtml.oracle.com/ep/faces/secure/km/DocumentDisplay.jspx?id=228186.1&#34;&gt;&amp;ldquo;Differences between GATHER STALE and GATHER AUTO (Doc ID 228186.1)&amp;rdquo;&lt;/a&gt;, which strangely enough - given the precision of its title - doesn&amp;rsquo;t really explain the difference.&lt;/p&gt;</description>
    </item>
    <item>
      <title>Global statistics high/low values when using DBMS_STATS.COPY_TABLE_STATS</title>
      <link>https://rmoff.net/2011/06/15/global-statistics-highlow-values-when-using-dbms_stats-copy_table_stats/</link>
      <pubDate>Wed, 15 Jun 2011 00:00:00 +0000</pubDate>
      <guid>https://rmoff.net/2011/06/15/global-statistics-highlow-values-when-using-dbms_stats-copy_table_stats/</guid>
      <description>&lt;p&gt;There is a well-documented problem relating to DBMS_STATS.COPY_TABLE_STATS between partitions where high/low values of the partitioning key column were just copied verbatim from the source partition. This particular problem has now been patched (see &lt;a href=&#34;https://supporthtml.oracle.com/ep/faces/secure/km/DocumentDisplay.jspx?id=8318020.8&#34;&gt;8318020.8&lt;/a&gt;). For background, see Doug Burns&amp;rsquo; &lt;a href=&#34;http://oracledoug.com/serendipity/&#34;&gt;blog&lt;/a&gt; and his &lt;a href=&#34;http://oracledoug.com/serendipity/index.php?/archives/1632-Symposium-2011-My-Presentation.html&#34;&gt;excellent paper&lt;/a&gt; which covers the whole topic of statistics on partitioned tables.&lt;/p&gt;&#xA;&lt;p&gt;This post &lt;a href=&#34;http://blogs.oracle.com/optimizer/2009/02/maintaining_statistics_on_large_partitioned_tables.html&#34;&gt;Maintaining statistics on large partitioned tables&lt;/a&gt; on the Oracle Optimizer blog details what the dbms_stats.copy_table_stats does with regards to the high/low values:&lt;/p&gt;</description>
    </item>
    <item>
      <title>Data Warehousing and Statistics in Oracle 11g - Automatic Optimizer Statistics Collection</title>
      <link>https://rmoff.net/2011/05/26/data-warehousing-and-statistics-in-oracle-11g-automatic-optimizer-statistics-collection/</link>
      <pubDate>Thu, 26 May 2011 00:00:00 +0000</pubDate>
      <guid>https://rmoff.net/2011/05/26/data-warehousing-and-statistics-in-oracle-11g-automatic-optimizer-statistics-collection/</guid>
      <description>&lt;h2 id=&#34;chucking-a-stick-in-the-spokes-of-your-carefully-tested-etlbi-&#34;&gt;Chucking a stick in the spokes of your carefully-tested ETL/BI &amp;hellip;&lt;/h2&gt;&#xA;&lt;p&gt;My opinion is that automated stats gathering for non-system objects should be disabled on Oracle Data Warehouses across all environments.&lt;/p&gt;&#xA;&lt;p&gt;All it does it cover up poor design or implementation which has omitted to consider statistics management. Once you get into the realms of millions or billions of rows of data, the automated housekeeping may well not have time to stat all of your tables on each run. And then it becomes a quasi-lottery when your tables will get processed. Or what if you&amp;rsquo;re working with intra-day loads (eg. near real-time) - the housekeeping job only runs once a day by default.&lt;/p&gt;</description>
    </item>
  </channel>
</rss>
