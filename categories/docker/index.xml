<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>docker on rmoff&#39;s random ramblings</title>
    <link>https://rmoff.net/categories/docker/</link>
    <description>Recent content in docker on rmoff&#39;s random ramblings</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>en-us</language>
    <lastBuildDate>Thu, 01 Oct 2020 01:09:41 +0100</lastBuildDate><atom:link href="https://rmoff.net/categories/docker/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>IBM MQ on Docker - Channel was blocked</title>
      <link>https://rmoff.net/2020/10/01/ibm-mq-on-docker-channel-was-blocked/</link>
      <pubDate>Thu, 01 Oct 2020 01:09:41 +0100</pubDate>
      
      <guid>https://rmoff.net/2020/10/01/ibm-mq-on-docker-channel-was-blocked/</guid>
      <description>&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Running IBM MQ in a Docker container and the client connecting to it was throwing repeated &lt;code&gt;Channel was blocked&lt;/code&gt; errors.&lt;/p&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>How to install connector plugins in Kafka Connect</title>
      <link>https://rmoff.net/2020/06/19/how-to-install-connector-plugins-in-kafka-connect/</link>
      <pubDate>Fri, 19 Jun 2020 17:28:09 +0100</pubDate>
      
      <guid>https://rmoff.net/2020/06/19/how-to-install-connector-plugins-in-kafka-connect/</guid>
      <description>&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Kafka Connect (which is part of Apache Kafka) supports pluggable connectors, enabling you to stream data between Kafka and numerous types of system, including to mention just a few:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;ulist&#34;&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Databases&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Message Queues&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Flat files&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Object stores&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;The appropriate plugin for the technology which you want to integrate can be found on &lt;a href=&#34;https://www.confluent.io/hub/&#34;&gt;Confluent Hub&lt;/a&gt;.&lt;/p&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Using tcpdump With Docker</title>
      <link>https://rmoff.net/2019/11/29/using-tcpdump-with-docker/</link>
      <pubDate>Fri, 29 Nov 2019 11:17:24 +0000</pubDate>
      
      <guid>https://rmoff.net/2019/11/29/using-tcpdump-with-docker/</guid>
      <description>&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;I was doing some troubleshooting between two services recently and wanting to poke around to see what was happening in the REST calls between them. Normally I’d reach for &lt;code&gt;tcpdump&lt;/code&gt; to do this but imagine my horror when I saw:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;root@ksqldb-server:/# tcpdump
bash: tcpdump: &lt;span style=&#34;color:#008000&#34;&gt;command&lt;/span&gt; not found&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Running Dockerised Kafka Connect worker on GCP</title>
      <link>https://rmoff.net/2019/11/12/running-dockerised-kafka-connect-worker-on-gcp/</link>
      <pubDate>Tue, 12 Nov 2019 14:45:43 +0000</pubDate>
      
      <guid>https://rmoff.net/2019/11/12/running-dockerised-kafka-connect-worker-on-gcp/</guid>
      <description>&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;I &lt;a href=&#34;http://talks.rmoff.net/&#34;&gt;talk and write about Kafka and Confluent Platform&lt;/a&gt; a lot, and more and more of the demos that I’m building are around &lt;a href=&#34;https://confluent.cloud&#34;&gt;Confluent Cloud&lt;/a&gt;. This means that I don’t have to run or manage my own Kafka brokers, Zookeeper, Schema Registry, KSQL servers, etc which makes things a ton easier. Whilst there are managed connectors on Confluent Cloud (S3 etc), I need to run my own Kafka Connect worker for those connectors not yet provided. An example is the MQTT source connector that I use in &lt;a href=&#34;https://rmoff.dev/kssf19-ksql-video&#34;&gt;this demo&lt;/a&gt;. Up until now I’d either run this worker locally, or manually build a cloud VM. Locally is fine, as it’s all Docker, easily spun up in a single &lt;code&gt;docker-compose up -d&lt;/code&gt; command. I wanted something that would keep running whilst my laptop was off, but that was as close to my local build as possible—enter GCP and its functionality to run a container on a VM automagically.&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;&lt;strong&gt;You can see &lt;a href=&#34;https://github.com/confluentinc/demo-scene/blob/master/mqtt-tracker/launch-worker-container_gcloud.sh&#34;&gt;the full script here&lt;/a&gt;&lt;/strong&gt;. The rest of this article just walks through the how and why.&lt;/p&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>What to Do When Docker on the Mac Runs Out of Space</title>
      <link>https://rmoff.net/2019/01/09/what-to-do-when-docker-on-the-mac-runs-out-of-space/</link>
      <pubDate>Wed, 09 Jan 2019 10:18:20 +0000</pubDate>
      
      <guid>https://rmoff.net/2019/01/09/what-to-do-when-docker-on-the-mac-runs-out-of-space/</guid>
      <description>&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;I use Docker and Docker Compose &lt;em&gt;a lot&lt;/em&gt;. Like, every day. It’s a fantastic way to build repeatable demos and examples, that can be torn down and spun up in a repeatable way. But…what happens when the demo that was working is spun up and then tail spins down in a blaze of flames?&lt;/p&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Pull new version of multiple Docker images</title>
      <link>https://rmoff.net/2018/12/17/pull-new-version-of-multiple-docker-images/</link>
      <pubDate>Mon, 17 Dec 2018 17:44:02 +0000</pubDate>
      
      <guid>https://rmoff.net/2018/12/17/pull-new-version-of-multiple-docker-images/</guid>
      <description>&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Tiny little snippet this one. Given a list of images:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;$ docker images|grep confluent
confluentinc/cp-enterprise-kafka                5.0.0               d0c5528d7f99        &lt;span style=&#34;color:#666&#34;&gt;3&lt;/span&gt; months ago        600MB
confluentinc/cp-kafka                           5.0.0               373a4e31e02e        &lt;span style=&#34;color:#666&#34;&gt;3&lt;/span&gt; months ago        558MB
confluentinc/cp-zookeeper                       5.0.0               3cab14034c43        &lt;span style=&#34;color:#666&#34;&gt;3&lt;/span&gt; months ago        558MB
confluentinc/cp-ksql-server                     5.0.0               691bc3c1991f        &lt;span style=&#34;color:#666&#34;&gt;4&lt;/span&gt; months ago        493MB
confluentinc/cp-ksql-cli                        5.0.0               e521f3e787d6        &lt;span style=&#34;color:#666&#34;&gt;4&lt;/span&gt; months ago        488MB
…&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;p&gt;Now there’s a new version available, and you want to pull down all the latest ones for it:&lt;/p&gt;
&lt;/div&gt;
&lt;div class=&#34;paragraph&#34;&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;docker images|grep &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#34;^confluentinc&amp;#34;&lt;/span&gt;|awk &lt;span style=&#34;color:#ba2121&#34;&gt;&amp;#39;{print $1}&amp;#39;&lt;/span&gt;|xargs -Ifoo docker pull foo:5.1.0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>Docker Tips and Tricks with Kafka Connect, ksqlDB, and Kafka</title>
      <link>https://rmoff.net/2018/12/15/docker-tips-and-tricks-with-kafka-connect-ksqldb-and-kafka/</link>
      <pubDate>Sat, 15 Dec 2018 22:00:55 +0000</pubDate>
      
      <guid>https://rmoff.net/2018/12/15/docker-tips-and-tricks-with-kafka-connect-ksqldb-and-kafka/</guid>
      <description>A few years ago a colleague of mine told me about this thing called Docker, and I must admit I dismissed it as a fad…how wrong was I. Docker, and Docker Compose, are one of my key tools of the trade. With them I can build self-contained environments for tutorials, demos, conference talks etc. Tear it down, run it again, without worrying that somewhere a local config changed and will break things.</description>
    </item>
    
    <item>
      <title>Logging in as root on Oracle Database Docker image</title>
      <link>https://rmoff.net/2018/11/30/logging-in-as-root-on-oracle-database-docker-image/</link>
      <pubDate>Fri, 30 Nov 2018 12:13:41 +0000</pubDate>
      
      <guid>https://rmoff.net/2018/11/30/logging-in-as-root-on-oracle-database-docker-image/</guid>
      <description>&lt;p&gt;tl;dr:&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre style=&#34;;-moz-tab-size:4;-o-tab-size:4;tab-size:4&#34;&gt;&lt;code class=&#34;language-shell&#34; data-lang=&#34;shell&#34;&gt;docker &lt;span style=&#34;color:#008000&#34;&gt;exec&lt;/span&gt; --interactive &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;            --tty &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;            --user root &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;            --workdir / &lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;\
&lt;/span&gt;&lt;span style=&#34;color:#b62;font-weight:bold&#34;&gt;&lt;/span&gt;            oracle-container-name bash&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</description>
    </item>
    
    <item>
      <title>ERROR: Invalid interpolation format for &#34;command&#34; option in service…</title>
      <link>https://rmoff.net/2018/11/20/error-invalid-interpolation-format-for-command-option-in-service/</link>
      <pubDate>Tue, 20 Nov 2018 17:47:54 +0000</pubDate>
      
      <guid>https://rmoff.net/2018/11/20/error-invalid-interpolation-format-for-command-option-in-service/</guid>
      <description>&lt;p&gt;Doing some funky Docker Compose stuff, including:&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>Accessing Kafka Docker containers&#39; JMX from host</title>
      <link>https://rmoff.net/2018/09/17/accessing-kafka-docker-containers-jmx-from-host/</link>
      <pubDate>Mon, 17 Sep 2018 15:29:48 +0000</pubDate>
      
      <guid>https://rmoff.net/2018/09/17/accessing-kafka-docker-containers-jmx-from-host/</guid>
      <description>See also docs.
To help future Googlers… with the Confluent docker images for Kafka, KSQL, Kafka Connect, etc, if you want to access JMX metrics from within, you just need to pass two environment variables: &amp;lt;x&amp;gt;_JMX_HOSTNAME and &amp;lt;x&amp;gt;_JMX_PORT, prefixed by a component name.
  &amp;lt;x&amp;gt;_JMX_HOSTNAME - the hostname/IP of the JMX host machine, as accessible from the JMX Client.
This is used by the JMX client to connect back into JMX, so must be accessible from the host machine running the JMX client.</description>
    </item>
    
    <item>
      <title>Kafka Listeners - Explained</title>
      <link>https://rmoff.net/2018/08/02/kafka-listeners-explained/</link>
      <pubDate>Thu, 02 Aug 2018 19:38:00 +0000</pubDate>
      
      <guid>https://rmoff.net/2018/08/02/kafka-listeners-explained/</guid>
      <description>&lt;p&gt;&lt;em&gt;(This was cross-posted on the &lt;a href=&#34;https://www.confluent.io/blog/kafka-listeners-explained&#34;&gt;Confluent.io blog&lt;/a&gt;)&lt;/em&gt;&lt;/p&gt;
&lt;hr&gt;
&lt;p&gt;This question comes up on StackOverflow and such places a &lt;strong&gt;lot&lt;/strong&gt;, so here&amp;rsquo;s something to try and help.&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;tl;dr&lt;/strong&gt; : You need to set &lt;code&gt;advertised.listeners&lt;/code&gt; (or &lt;code&gt;KAFKA_ADVERTISED_LISTENERS&lt;/code&gt; if you&amp;rsquo;re using Docker images) to the external address (host/IP) so that clients can correctly connect to it. Otherwise they&amp;rsquo;ll try to connect to the internal host address–and if that&amp;rsquo;s not reachable then problems ensue.&lt;/p&gt;
&lt;p&gt;Put another way, courtesy of Spencer Ruport:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;code&gt;LISTENERS&lt;/code&gt; are what interfaces Kafka binds to. &lt;code&gt;ADVERTISED_LISTENERS&lt;/code&gt;  are how clients can connect.&lt;/p&gt;
&lt;/blockquote&gt;</description>
    </item>
    
    <item>
      <title>Running a Docker Container on Proxmox for BitTorrent Sync</title>
      <link>https://rmoff.net/2016/06/07/running-a-docker-container-on-proxmox-for-bittorrent-sync/</link>
      <pubDate>Tue, 07 Jun 2016 21:43:26 +0000</pubDate>
      
      <guid>https://rmoff.net/2016/06/07/running-a-docker-container-on-proxmox-for-bittorrent-sync/</guid>
      <description>(Previously, previously, previously)
Since Proxmox 4 has a recent Linux kernel and mainline one at that, it means that Docker can be run on it. I&amp;rsquo;ve yet to really dig into Docker and work out when it makes sense in place of Linux Containers (LXC), so this is going to be a learning experience for me.
To install Docker, add Backports repo to apt:
root@proxmox01:~# cat /etc/apt/sources.list.d/backports.list deb http://ftp.debian.org/debian jessie-backports main And then install:</description>
    </item>
    
    <item>
      <title>A New Arrival</title>
      <link>https://rmoff.net/2016/06/07/a-new-arrival/</link>
      <pubDate>Tue, 07 Jun 2016 20:43:20 +0000</pubDate>
      
      <guid>https://rmoff.net/2016/06/07/a-new-arrival/</guid>
      <description>After a long and painful delivery, I&amp;rsquo;m delighted to announce the arrival of a new addition to my household &amp;hellip; :
This custom-build from Scan 3XS is sat in my study quietly humming away. I&amp;rsquo;m going to use it for hosting VMs for R&amp;amp;D on OBIEE, Big Data Lite, Elastic, InfluxDB, Kafka, etc. I&amp;rsquo;ll blog various installations that I&amp;rsquo;ve done on it as a reference for myself, and anyone else interested.</description>
    </item>
    
  </channel>
</rss>
