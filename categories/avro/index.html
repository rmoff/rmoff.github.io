<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Avro &bullet; rmoff&#39;s random ramblings</title>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="https://rmoff.net/index.xml">
		<link rel="canonical" href="https://rmoff.net/categories/avro/">
		
		
		
		

		
		

		
		<link rel="stylesheet" href="https://rmoff.net/css/tachyons.min.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/story.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/descartes.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/toc.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/retro-cards.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/custom.css" />
		
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
		<link href="https://fonts.googleapis.com/css?family=Quattrocento+Sans:400,400i,700,700i|Quattrocento:400,700|Spectral:400,400i,700,700i&amp;subset=latin-ext" rel="stylesheet">
		
		
		<script>
			!function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init capture register register_once register_for_session unregister unregister_for_session getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey getNextSurveyStep identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty createPersonProfile opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing debug".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
            posthog.init('phc_93NEP79Ju4xqXYWXnoLbr4HMW0Iaepj1BGOVoEXYX6P',{api_host:'https://eu.i.posthog.com', person_profiles: 'identified_only' 
                })
		</script>
		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		
		<script src="https://rmoff.net/js/story.js"></script>
		<script src="https://rmoff.net/js/toc.js"></script>
		<script src="https://rmoff.net/js/medium-mirror.js"></script>

	</head>
	<body class="ma0 bg-white section-categories page-kind-term is-page-false ">
		

<header class="cover bg-top header-wrapper" style="background-image: url('/images/2023/05/h_IMG_2435.jpeg'); background-position: center;">
    <div class="bg-black-30 bb bt">
        
        <div class="glass-nav hide-print">
            <nav class="sans-serif border-box pa3 ph5-l">
                <a href="https://rmoff.net/" title="Home">
                    <img
                        src="https://rmoff.net/img/logo.jpg"
                        class="w2 h2 br-100"
                        alt="rmoff&#39;s random ramblings"
                    />
                </a>
                <div class="fr h2 pv2 tr">
                    <a class="icon-link-small" href="https://bsky.app/profile/rmoff.net"><i class="fa-brands fa-bluesky"></i></a>
                    <a class="icon-link-small" href="https://twitter.com/rmoff/"><i class="fa-brands fa-x-twitter"></i></a>
                    <a class="icon-link-small" href="https://github.com/rmoff/"><i class="fab fa-github-square"></i></a>
                    <a class="icon-link-small" href="https://talks.rmoff.net"><i class="fa-solid fa-chalkboard"></i></a>
                    <a class="icon-link-small" href="https://www.youtube.com/c/rmoff"><i class="fab fa-youtube-square"></i></a>
                    <a class="icon-link-small" href="https://www.linkedin.com/in/robinmoffatt/"><i class="fab fa-linkedin"></i></a>
                    <a class="icon-link-small" href="https://rmoff.net/index.xml" title="RSS Feed"><i class="fas fa-rss"></i></a>
                    <a class="icon-link-small" href="https://rmoff.net/search/" title="Search"><i class="fas fa-search"></i></a>
                </div>
            </nav>
        </div>

        
        <div class="tc-l pv3-ns pv4-l pv2 ph3 ph4-ns">
            <div class="title-box">
                <h1 class="near-white f2 fw3 mb2 mt0 lh-title">
                    <span class="terminal-title">Avro<span class="terminal-cursor"></span></span>
                </h1>
                <p class="title-subtitle">
                    4 articles in this category
                </p>
            </div>
        </div>
    </div>
</header>

		<main role="main">
		
<div class="pa3 pa4-ns w-100 center" style="max-width: 1200px;">
  <section class="w-100">
  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2017/09/1__screen__ssh_.png'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Sep 12, 2017
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Sep 12, 2017
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2017/09/12/oracle-goldengate-/-kafka-connect-handler-troubleshooting/" class="retro-card-main-link">Oracle GoldenGate / Kafka Connect Handler troubleshooting</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<p>The Replicat was kapput:</p>
<pre tabindex="0"><code>GGSCI (localhost.localdomain) 3&gt; info rkconnoe

REPLICAT   RKCONNOE  Last Started 2017-09-12 17:06   Status ABENDED
Checkpoint Lag       00:00:00 (updated 00:46:34 ago)
Log Read Checkpoint  File /u01/app/ogg/dirdat/oe000000
                     First Record  RBA 0
</code></pre><p>So checking the OGG error log <code>ggserr.log</code> showed</p>
<pre tabindex="0"><code>2017-09-12T17:06:17.572-0400  ERROR   OGG-15051  Oracle GoldenGate Delivery, rkconnoe.prm:  Java or JNI exception:
                              oracle.goldengate.util.GGException: Error detected handling operation added event.
2017-09-12T17:06:17.572-0400  ERROR   OGG-01668  Oracle GoldenGate Delivery, rkconnoe.prm:  PROCESS ABENDING.
</code></pre><p>So checking the replicat log <code>dirrpt/RKCONNOE_info_log4j.log</code> showed:</p>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2017/09/12/oracle-goldengate-/-kafka-connect-handler-troubleshooting/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/img/default-header-img.tn-500x500.jpg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Nov 29, 2016
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Nov 29, 2016
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2016/11/29/oracle-goldengate-kafka-connect-failed-to-serialize-avro-data/" class="retro-card-main-link">Oracle GoldenGate -&gt; Kafka Connect - &ldquo;Failed to serialize Avro data&rdquo;</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<p><strong>tl;dr</strong> <em>Make sure that <code>key.converter.schema.registry.url</code> and <code>value.converter.schema.registry.url</code> are specified, and that there are no trailing whitespaces.</em></p>
<hr>
<p>I&rsquo;ve been building on <a href="https://www.confluent.io/blog/streaming-data-oracle-using-oracle-goldengate-kafka-connect/">previous work</a> I&rsquo;ve done with Oracle GoldenGate and Kafka Connect, looking at how to have the change records from the Oracle database come through to Kafka in Avro format rather than the default JSON that the <a href="https://java.net/projects/oracledi/downloads/directory/GoldenGate/Oracle%20GoldenGate%20Adapter%20for%20Kafka%20Connect">sample configuration</a> gives.</p>
<p>Simply changing the Kafka Connect OGG configuration file (<code>confluent.properties</code>) from</p>
<pre><code>value.converter=org.apache.kafka.connect.json.JsonConverter
key.converter=org.apache.kafka.connect.json.JsonConverter
</code></pre>
<p>to</p>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2016/11/29/oracle-goldengate-kafka-connect-failed-to-serialize-avro-data/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2016/07/photo-1466046690866-98181611563d.jpeg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Jul 19, 2016
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Jul 19, 2016
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2016/07/19/kafka-connect-hdfs-with-hive-integration-schemaprojectorexception-schema-version-required/" class="retro-card-main-link">Kafka Connect - HDFS with Hive Integration - SchemaProjectorException - Schema version required</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<p>I&rsquo;ve been doing some noodling around with Confluent&rsquo;s Kafka Connect recently, as part of gaining a wider understanding into Kafka. If you&rsquo;re not familiar with Kafka Connect <a href="http://docs.confluent.io/3.0.0/connect/design.html">this page</a> gives a good idea of the thinking behind it.</p>
<p>One issue that I hit defeated my Google-fu so I&rsquo;m recording it here to hopefully help out fellow n00bs.</p>
<p>The pipeline that I&rsquo;d set up looked like this:</p>
<ul>
<li><a href="https://github.com/Eneco/kafka-connect-twitter">Eneco&rsquo;s Twitter Source</a> streaming tweets to a Kafka topic</li>
<li>Confluent&rsquo;s <a href="https://docs.confluent.io/current/connect/kafka-connect-hdfs/index.html">HDFS Sink</a> to stream tweets to HDFS and define Hive table automagically over them</li>
</ul>
<p>It worked great, but only if I didn&rsquo;t enable the Hive integration part. For me the integration with Hive to automatically define schemas was one of the key interests for this platform, so I wanted to see if I could get it to work. The error I got was</p>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2016/07/19/kafka-connect-hdfs-with-hive-integration-schemaprojectorexception-schema-version-required/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2016/03/2016-03-16_23-12-54.png'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Mar 16, 2016
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Mar 16, 2016
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2016/03/16/fun-and-games-with-oracle-goldengate-kafka-and-logstash-on-bigdatalite-4.4/" class="retro-card-main-link">Fun and Games with Oracle GoldenGate, Kafka, and Logstash on BigDataLite 4.4</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<p>The Oracle by Example (ObE) <a href="http://www.oracle.com/webfolder/technetwork/tutorials/obe/fmw/odi/odi_12c/DI_BDL_Guide/BigDataIntegration_Demo.html?cid=10235&amp;ssid=0">here</a> demonstrating how to use <a href="https://docs.oracle.com/goldengate/bd1221/gg-bd/GBDIN/intro_adapter.htm#GBDIN101">Goldengate to replicate transactions big data targets</a> such as HDFS is written for the BigDataLite <a href="http://www.oracle.com/technetwork/database/bigdata-appliance/oracle-bigdatalite421-2843803.html">4.2.1</a>, and for me didn&rsquo;t work on the current latest version, <a href="http://www.oracle.com/technetwork/database/bigdata-appliance/oracle-bigdatalite-2104726.html">4.4.0</a>.</p>
<p>The OBE (and similar <a href="http://www.oracle.com/webfolder/technetwork/odi/ODI_BigData_HOL.pdf">Hands On Lab</a> PDF) assume the presence of <code>pmov.prm</code> and <code>pmov.properties</code> in <code>/u01/ogg/dirprm/</code>. On BDL 4.4 there&rsquo;s only the extract to from Oracle configuration, <code>emov</code>.</p>
<p>Fortunately it&rsquo;s still possible to run this setup out of the box in BDL 4.4, with bells on because it includes <a href="http://kafka.apache.org/">Kafka</a> too. And, who doesn&rsquo;t like a bit of Kafka nowadays?</p>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2016/03/16/fun-and-games-with-oracle-goldengate-kafka-and-logstash-on-bigdatalite-4.4/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
  </section>
</div>

		</main>
		
<footer class="w-100 sans-serif" role="contentinfo">
	<nav class="w-third-l pb3 f6 center db" role="navigation"></nav>
</footer>

		
		<footer class="hide-print sans-serif f6 fw1 bg-black near-white bottom-0 w-100 pa3" role="contentinfo">
			<p class="w-50 fr tr">
			<a class="no-underline near-white" href="https://github.com/xaprb/story"><img class="dib" title="Made with Hugo and Story" alt="Story logo" src="https://rmoff.net/img/story-logo-white.svg" style="width: 1.5rem; height: 1.5rem" /></a>
			</p>
			<p class="w-50 near-white">
				&copy; 2026 
			</p>
		</footer>
		
	</body>
</html>
