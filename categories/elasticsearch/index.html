<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Elasticsearch &bullet; rmoff&#39;s random ramblings</title>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="https://rmoff.net/index.xml">
		<link rel="canonical" href="https://rmoff.net/categories/elasticsearch/">
		
		
		
		

		
		

		
		<link rel="stylesheet" href="https://rmoff.net/css/tachyons.min.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/story.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/descartes.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/toc.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/retro-cards.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/custom.css" />
		
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
		<link href="https://fonts.googleapis.com/css?family=Quattrocento+Sans:400,400i,700,700i|Quattrocento:400,700|Spectral:400,400i,700,700i&amp;subset=latin-ext" rel="stylesheet">
		
		
		<script>
			!function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init capture register register_once register_for_session unregister unregister_for_session getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey getNextSurveyStep identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty createPersonProfile opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing debug".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
            posthog.init('phc_93NEP79Ju4xqXYWXnoLbr4HMW0Iaepj1BGOVoEXYX6P',{api_host:'https://eu.i.posthog.com', person_profiles: 'identified_only' 
                })
		</script>
		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		
		<script src="https://rmoff.net/js/story.js"></script>
		<script src="https://rmoff.net/js/toc.js"></script>
		<script src="https://rmoff.net/js/medium-mirror.js"></script>

	</head>
	<body class="ma0 bg-white section-categories page-kind-term is-page-false ">
		

<header class="cover bg-top header-wrapper" style="background-image: url('/images/2023/05/h_IMG_2435.jpeg'); background-position: center;">
    <div class="bg-black-30 bb bt">
        
        <div class="glass-nav hide-print">
            <nav class="sans-serif border-box pa3 ph5-l">
                <a href="https://rmoff.net/" title="Home">
                    <img
                        src="https://rmoff.net/img/logo.jpg"
                        class="w2 h2 br-100"
                        alt="rmoff&#39;s random ramblings"
                    />
                </a>
                <div class="fr h2 pv2 tr">
                    <a class="icon-link-small" href="https://bsky.app/profile/rmoff.net"><i class="fa-brands fa-bluesky"></i></a>
                    <a class="icon-link-small" href="https://twitter.com/rmoff/"><i class="fa-brands fa-x-twitter"></i></a>
                    <a class="icon-link-small" href="https://github.com/rmoff/"><i class="fab fa-github-square"></i></a>
                    <a class="icon-link-small" href="https://talks.rmoff.net"><i class="fa-solid fa-chalkboard"></i></a>
                    <a class="icon-link-small" href="https://www.youtube.com/c/rmoff"><i class="fab fa-youtube-square"></i></a>
                    <a class="icon-link-small" href="https://www.linkedin.com/in/robinmoffatt/"><i class="fab fa-linkedin"></i></a>
                    <a class="icon-link-small" href="https://rmoff.net/index.xml" title="RSS Feed"><i class="fas fa-rss"></i></a>
                    <a class="icon-link-small" href="https://rmoff.net/search/" title="Search"><i class="fas fa-search"></i></a>
                </div>
            </nav>
        </div>

        
        <div class="tc-l pv3-ns pv4-l pv2 ph3 ph4-ns">
            <div class="title-box">
                <h1 class="near-white f2 fw3 mb2 mt0 lh-title">
                    <span class="terminal-title">Elasticsearch<span class="terminal-cursor"></span></span>
                </h1>
                <p class="title-subtitle">
                    14 articles in this category
                </p>
            </div>
        </div>
    </div>
</header>

		<main role="main">
		
<div class="pa3 pa4-ns w-100 center" style="max-width: 1200px;">
  <section class="w-100">
  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/11/kafka_tombstone.jpg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Nov 3, 2020
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Nov 3, 2020
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2020/11/03/kafka-connect-ksqldb-and-kafka-tombstone-messages/" class="retro-card-main-link">Kafka Connect, ksqlDB, and Kafka Tombstone messages</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>As you may already realise, Kafka is not just a fancy message bus, or a pipe for big data. It’s an event streaming platform! If this is news to you, I’ll wait here whilst you <a href="https://www.confluent.io/learn/kafka-tutorial/">read this</a> or <a href="https://rmoff.dev/kafka101">watch this</a>…</p>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2020/11/03/kafka-connect-ksqldb-and-kafka-tombstone-messages/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/11/DSCF5316.jpeg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Nov 3, 2020
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Nov 3, 2020
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2020/11/03/streaming-geopoint-data-from-kafka-to-elasticsearch/" class="retro-card-main-link">Streaming Geopoint data from Kafka to Elasticsearch</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>Streaming data from Kafka to Elasticsearch is easy with Kafka Connect - you can see how in this <a href="https://rmoff.dev/kafka-elasticsearch">tutorial</a> and <a href="https://rmoff.dev/kafka-elasticsearch-video">video</a>.</p>
</div>
<div class="paragraph">
<p>One of the things that sometimes causes issues though is how to get location data correctly indexed into Elasticsearch as <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/geo-point.html"><code>geo_point</code></a> fields to enable all that lovely location analysis. Unlike data types like dates and numerics, Elasticsearch’s <a href="https://www.elastic.co/guide/en/elasticsearch/reference/current/dynamic-field-mapping.html">Dynamic Field Mapping</a> won’t automagically pick up <code>geo_point</code> data, and so you have to do two things:</p>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2020/11/03/streaming-geopoint-data-from-kafka-to-elasticsearch/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2020/02/IMG_2382.jpeg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Feb 13, 2020
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Feb 13, 2020
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2020/02/13/adventures-in-the-cloud-part-94-ecs/" class="retro-card-main-link">Adventures in the Cloud, Part 94: ECS</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>My name’s Robin, and I’m a Developer Advocate. What that means in part is that I build a ton of demos, and Docker Compose is my jam. I love using Docker Compose for the same reasons that many people do:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Spin up and tear down fully-functioning multi-component environments with ease. No bespoke builds, no cloning of VMs to preserve &#34;that magic state where everything works&#34;</p>
</li>
<li>
<p>Repeatability. It’s the same each time.</p>
</li>
<li>
<p>Portability. I can point someone at a <code>docker-compose.yml</code> that I’ve written and they can run the same on their machine with the same results almost guaranteed.</p>
</li>
</ul>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2020/02/13/adventures-in-the-cloud-part-94-ecs/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2019/12/IMG_1537.jpeg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Dec 18, 2019
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Dec 18, 2019
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2019/12/18/detecting-and-analysing-ssh-attacks-with-ksqldb/" class="retro-card-main-link">Detecting and Analysing SSH Attacks with ksqlDB</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>I’ve <a href="https://www.confluent.io/blog/real-time-syslog-processing-apache-kafka-ksql-part-1-filtering/">written previously</a> about ingesting Syslog into Kafka and using KSQL to analyse it. I want to revisit the subject since it’s nearly two years since I wrote about it and some things have changed since then.</p>
</div>
<div class="paragraph">
<p>ksqlDB now includes the ability to define connectors from within it, which makes setting things up loads easier.</p>
</div>
<div class="paragraph">
<p>You can find the <a href="https://github.com/confluentinc/demo-scene/tree/master/syslog">full rig to run this on GitHub</a>.</p>
</div>
<div class="sect1">
<h2 id="_create_and_configure_the_syslog_connector">Create and configure the Syslog connector</h2>
<div class="sectionbody">
<div class="paragraph">
<p>To start with, create a source connector:</p>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2019/12/18/detecting-and-analysing-ssh-attacks-with-ksqldb/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2019/10/IMG_0143.jpg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Oct 7, 2019
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Oct 7, 2019
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2019/10/07/kafka-connect-and-elasticsearch/" class="retro-card-main-link">Kafka Connect and Elasticsearch</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<div class="paragraph">
<p>I use the Elastic stack for a lot of my <a href="https://talks.rmoff.net/">talks</a> and <a href="https://github.com/confluentinc/demo-scene/">demos</a> because it complements Kafka brilliantly. A few things have changed in recent releases and this blog is a quick note on some of the errors that you might hit and how to resolve them. It was inspired by a lot of the comments and discussion <a href="https://github.com/confluentinc/kafka-connect-elasticsearch/issues/314">here</a> and <a href="https://github.com/confluentinc/kafka-connect-elasticsearch/issues/342">here</a>.</p>
</div>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2019/10/07/kafka-connect-and-elasticsearch/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2018/09/2018-09-03_17-58-49.png'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Sep 3, 2018
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Sep 3, 2018
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2018/09/03/window-timestamps-in-ksql-/-integration-with-elasticsearch/" class="retro-card-main-link">Window Timestamps in KSQL / Integration with Elasticsearch</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<p>KSQL provides the ability to create windowed aggregations. For example,
count the number of messages in a 1 minute window, grouped by a
particular column:</p>
<pre tabindex="0"><code>CREATE TABLE RATINGS_BY_CLUB_STATUS AS \
SELECT CLUB_STATUS, COUNT(*) AS RATING_COUNT \
FROM RATINGS_WITH_CUSTOMER_DATA \
     WINDOW TUMBLING (SIZE 1 MINUTES) \
GROUP BY CLUB_STATUS;
</code></pre><p>How KSQL, and Kafka Streams, stores the window timestamp associated with
an aggregate, has recently changed. <a href="https://github.com/confluentinc/ksql/issues/1497">See #1497 for
details</a>.</p>
<p>Whereas previously the <em>Kafka message timestamp</em> (accessible through the
KSQL <code>ROWTIME</code> system column) stored the start of the window for which
the aggregate had been calculated, this changed in July 2018 to instead
be the timestamp of the latest message to update that aggregate value.
This was in Apache Kafka 2.0 and Confluent Platform 5.0, and back-ported
to previous versions.</p>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2018/09/03/window-timestamps-in-ksql-/-integration-with-elasticsearch/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2018/06/IMG_3302.jpg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Jun 17, 2018
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Jun 17, 2018
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2018/06/17/analysing-network-data-with-apache-kafka-ksql-and-elasticsearch/" class="retro-card-main-link">Analysing Network Data with Apache Kafka, KSQL, and Elasticsearch</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<p>In <a href="http://cnfl.io/syslogs-filtering">this article</a> I demonstrated how to use KSQL to filter streams of network event data. As well as filtering, KSQL can be used to easily <a href="https://www.confluent.io/blog/real-time-syslog-processing-apache-kafka-ksql-enriching-events-with-external-data/">enrich streams</a>. In this article we&rsquo;ll see how this enriched data can be used to drive analysis in Elasticsearch and Kibana—and how KSQL again came into use for building some stream processing as a result of the discovery made.</p>
<p>The data came from my home <a href="https://www.ubnt.com/">Ubiquiti</a> router, and took two forms:</p>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2018/06/17/analysing-network-data-with-apache-kafka-ksql-and-elasticsearch/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2018/02/IMG_8618.JPG'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Mar 6, 2018
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Mar 6, 2018
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2018/03/06/streaming-data-from-kafka-into-elasticsearch/" class="retro-card-main-link">Streaming data from Kafka into Elasticsearch</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<p><em>This article is part of a series exploring Streaming ETL in practice. You can read about <a href="/2018/02/01/howto-oracle-goldengate--apache-kafka--schema-registry--swingbench/">setting up the ingest of realtime events from a standard Oracle platform</a>, and <a href="https://www.confluent.io/blog/ksql-in-action-real-time-streaming-etl-from-oracle-transactional-data">building streaming ETL using KSQL</a>.</em></p>
<hr>
<p>This post shows how we take data streaming in from an Oracle transactional system into Kafka, and simply stream it onwards into Elasticsearch. This is a common pattern, for enabling rapid search or analytics against data held in systems elsewhere.</p>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2018/03/06/streaming-data-from-kafka-into-elasticsearch/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2016/05/Visualize_-_Kibana_and_untitled_and_1__screen-1.png'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> May 13, 2016
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						May 13, 2016
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2016/05/13/monitoring-logstash-ingest-rates-with-elasticsearch-kibana-and-timelion/" class="retro-card-main-link">Monitoring Logstash Ingest Rates with Elasticsearch, Kibana, and Timelion</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<p>Yesterday I wrote about <a href="/2016/05/12/monitoring-logstash-ingest-rates-with-influxdb-and-grafana/">Monitoring Logstash Ingest Rates with InfluxDB and Grafana</a>, in which InfluxDB provided the data store for the ingest rate data, and Grafana the frontend.</p>
<p><a href="https://twitter.com/warkolm/">Mark Walkom</a> reminded me on twitter that the next release of Logstash will add more functionality in this area - and that it&rsquo;ll integrate back into the Elastic stack:</p>
<blockquote class="twitter-tweet" data-lang="en"><p lang="en" dir="ltr"><a href="https://twitter.com/rmoff">@rmoff</a> nice, LS 5.0 will have APIs exposing metrics too. they’ll be integrated back into Marvel/Monitoring! :)</p>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2016/05/13/monitoring-logstash-ingest-rates-with-elasticsearch-kibana-and-timelion/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2016/04/dft02-1.jpg'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Apr 24, 2016
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Apr 24, 2016
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2016/04/24/using-r-to-denormalise-data-for-analysis-in-kibana/" class="retro-card-main-link">Using R to Denormalise Data for Analysis in Kibana</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<p><a href="https://www.elastic.co/products/kibana">Kibana</a> is a tool from <a href="https://www.elastic.co/">Elastic</a> that makes analysis of data held in <a href="https://www.elastic.co/products/elasticsearch">Elasticsearch</a> really easy and very powerful. Because Elasticsearch has very loose schema that can evolve on demand it makes it very quick to get up and running with some cool visualisations and analysis on any set of data. I demonstrated this in a <a href="http://www.rittmanmead.com/2015/04/using-the-elk-stack-to-analyse-donors-choose-data/">blog post last year</a>, taking a CSV file and loading it into Elasticsearch via Logstash.</p>
<p>This is all great, but the one real sticking point with analytics in Elasticsearch/Kibana is that it needs the data to be <strong>denormalised</strong>. That is, you can&rsquo;t give it a bunch of sources of data and it perform the joins for you in Kibana - it just doesn&rsquo;t work like that. If you&rsquo;re using Elasticsearch alone for analytics, maybe with a bespoke application, <a href="https://www.elastic.co/guide/en/elasticsearch/guide/current/relations.html">there are ways of approaching it</a>, but not through Kibana. Now, depending on where the data is coming from, this may not be a problem. For example, if you use the <a href="https://www.elastic.co/guide/en/logstash/current/plugins-inputs-jdbc.html">JDBC Logstash input</a> to pull from an RDBMS source you can specify a complex SQL query going across multiple tables, so that the data when it hits Elasticsearch is nice and denormalised and ready for fun in Kibana. But, source data doesn&rsquo;t always come this way, and it&rsquo;s useful to have a way to work with the data still when it is like this.</p>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2016/04/24/using-r-to-denormalise-data-for-analysis-in-kibana/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2016/04/ogges02-1.png'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Apr 14, 2016
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Apr 14, 2016
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2016/04/14/streaming-data-through-oracle-goldengate-to-elasticsearch/" class="retro-card-main-link">Streaming Data through Oracle GoldenGate to Elasticsearch</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<p>Recently added to the <a href="https://java.net/projects/oracledi/">oracledi project over at java.net</a> is <a href="https://java.net/projects/oracledi/">an adaptor</a> enabling Oracle GoldenGate (OGG) to send data to Elasticsearch. This adds a powerful alternative to [micro-]batch extract via JDBC from Oracle to Elasticsearch, which I wrote about recently <a href="https://www.elastic.co/blog/visualising-oracle-performance-data-with-the-elastic-stack">over at the Elastic blog</a>.</p>
<p>Elasticsearch is a &lsquo;document store&rsquo; widely used for both search and analytics. It&rsquo;s something I&rsquo;ve written a lot about (<a href="/tag/elasticsearch/">here</a> and <a href="http://www.rittmanmead.com/tag/elasticsearch">here</a> for archives), as well as <a href="https://speakerdeck.com/rmoff/data-discovery-and-systems-diagnostics-with-the-elk-stack">spoken about</a> - preaching the good word, as it were, since the Elastic stack as a whole is very very good at what it does and a pleasure to work with. So, being able to combine that with my &ldquo;day job&rdquo; focus of Oracle is fun. Let&rsquo;s get started!</p>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2016/04/14/streaming-data-through-oracle-goldengate-to-elasticsearch/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2016/04/kd05a-1.png'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Apr 12, 2016
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Apr 12, 2016
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2016/04/12/decoupling-the-data-pipeline-with-kafka-a-very-simple-real-life-example/" class="retro-card-main-link">Decoupling the Data Pipeline with Kafka - A (Very) Simple Real Life Example</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<p>I&rsquo;ve recently been playing around with the ELK stack (<a href="https://www.elastic.co/blog/heya-elastic-stack-and-x-pack">now officially known as the Elastic stack</a>) collecting data from <a href="/2016/03/03/obihackers-irc-channel/">an IRC channel</a> with Elastic&rsquo;s Logstash, storing it in Elasticsearch and <a href="/2016/03/24/my-latest-irc-client-kibana/">analysing it with Kibana</a>. But, this isn&rsquo;t an &ldquo;ELK&rdquo; post - this is a Kafka post! ELK is just some example data manipulation tooling that helps demonstrate the principles.</p>
<p>As I <a href="http://www.rittmanmead.com/2015/10/forays-into-kafka-enabling-flexible-data-pipelines/">wrote about last year</a>, Apache Kafka provides a handy way to build flexible &ldquo;pipelines&rdquo;. Today I&rsquo;m writing up a short real-world example of this in practice. There are three elements to the flexibility that I really want to highlight:</p>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2016/04/12/decoupling-the-data-pipeline-with-kafka-a-very-simple-real-life-example/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2016/03/logstash-irc.png'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Mar 24, 2016
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Mar 24, 2016
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2016/03/24/my-latest-irc-client-kibana/" class="retro-card-main-link">My latest IRC client : Kibana</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<p>OK, maybe that&rsquo;s not entirely true. But my <em>read-only</em> client, certainly.</p>
<p><img src="/images/2016/03/2016-03-24_21-15-30.png" alt=""></p>
<p>I was perusing the <a href="https://www.elastic.co/guide/en/logstash/current/input-plugins.html">Logstash input plugins</a> recently when I noticed that there was one for <a href="https://www.elastic.co/guide/en/logstash/current/plugins-inputs-irc.html">IRC</a>. Being a fan of IRC and a regular on the <a href="/2016/03/03/obihackers-irc-channel/">#obihackers</a> channel, I thought this could be fun and yet another great example of how easy <a href="http://elastic.co">the Elastic stack</a> is to work with.</p>
<p>Installation is a piece of cake:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-shell" data-lang="shell"><span style="display:flex;"><span>wget https://download.elasticsearch.org/elasticsearch/release/org/elasticsearch/distribution/zip/elasticsearch/2.2.1/elasticsearch-2.2.1.zip
</span></span><span style="display:flex;"><span>wget https://download.elastic.co/logstash/logstash/logstash-2.2.2.zip
</span></span><span style="display:flex;"><span>wget https://download.elastic.co/kibana/kibana/kibana-4.4.2-linux-x64.tar.gz
</span></span><span style="display:flex;"><span>unzip <span style="color:#b62;font-weight:bold">\*</span>.zip
</span></span><span style="display:flex;"><span>tar -xf kibana-4.4.2-linux-x64.tar.gz
</span></span><span style="display:flex;"><span>sudo mv elasticsearch-2.2.1 logstash-2.2.2 kibana-4.4.2-linux-x64 /opt
</span></span></code></pre></div><p>(you&rsquo;ll also need Oracle JDK installed if not already, <a href="http://www.jamescoyle.net/how-to/1897-download-oracle-java-from-the-terminal-with-wget">here&rsquo;s a handy way to get it from the CLI</a>).</p>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2016/03/24/my-latest-irc-client-kibana/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
      <div class="retro-card-container">
	<article class="retro-card retro-card-clickable">
		<div class="retro-card-inner">
			<div class="flex flex-column flex-row-ns items-start">
				
				<div class="retro-card-image mb4 mb0-ns w-100 h4 h4-m w4-m h5-ns w5-ns br3 cover hide-child" style="background-image: url('https://rmoff.net/images/2016/03/2016-03-16_23-12-54.png'); background-position: center;">
					<div class="retro-card-date sans-serif db child w-100 h-100 f7 lh-copy white no-underline br3 ph3 pt4 pt5-l ttu tc bg-black-60">
						<i class="mt3 mt5-l child far fa-calendar-alt"></i> Mar 16, 2016
					</div>
				</div>
				
				<div class="retro-card-content w-100 w6-ns pl3-ns">
					<div class="retro-card-meta">
						Mar 16, 2016
					</div>
					<h1 class="retro-card-title f3 fw1 mt0 lh-title">
						<a href="https://rmoff.net/2016/03/16/fun-and-games-with-oracle-goldengate-kafka-and-logstash-on-bigdatalite-4.4/" class="retro-card-main-link">Fun and Games with Oracle GoldenGate, Kafka, and Logstash on BigDataLite 4.4</a>
					</h1>
					<div class="retro-card-summary f6 f5-l lh-copy nested-copy-line-height nested-links">
						
							<p>The Oracle by Example (ObE) <a href="http://www.oracle.com/webfolder/technetwork/tutorials/obe/fmw/odi/odi_12c/DI_BDL_Guide/BigDataIntegration_Demo.html?cid=10235&amp;ssid=0">here</a> demonstrating how to use <a href="https://docs.oracle.com/goldengate/bd1221/gg-bd/GBDIN/intro_adapter.htm#GBDIN101">Goldengate to replicate transactions big data targets</a> such as HDFS is written for the BigDataLite <a href="http://www.oracle.com/technetwork/database/bigdata-appliance/oracle-bigdatalite421-2843803.html">4.2.1</a>, and for me didn&rsquo;t work on the current latest version, <a href="http://www.oracle.com/technetwork/database/bigdata-appliance/oracle-bigdatalite-2104726.html">4.4.0</a>.</p>
<p>The OBE (and similar <a href="http://www.oracle.com/webfolder/technetwork/odi/ODI_BigData_HOL.pdf">Hands On Lab</a> PDF) assume the presence of <code>pmov.prm</code> and <code>pmov.properties</code> in <code>/u01/ogg/dirprm/</code>. On BDL 4.4 there&rsquo;s only the extract to from Oracle configuration, <code>emov</code>.</p>
<p>Fortunately it&rsquo;s still possible to run this setup out of the box in BDL 4.4, with bells on because it includes <a href="http://kafka.apache.org/">Kafka</a> too. And, who doesn&rsquo;t like a bit of Kafka nowadays?</p>
						
					</div>
				</div>
			</div>
		</div>
		<a href="https://rmoff.net/2016/03/16/fun-and-games-with-oracle-goldengate-kafka-and-logstash-on-bigdatalite-4.4/" class="retro-card-overlay-link" aria-label="Read full article"></a>
	</article>
</div>

  
  </section>
</div>

		</main>
		
<footer class="w-100 sans-serif" role="contentinfo">
	<nav class="w-third-l pb3 f6 center db" role="navigation"></nav>
</footer>

		
		<footer class="hide-print sans-serif f6 fw1 bg-black near-white bottom-0 w-100 pa3" role="contentinfo">
			<p class="w-50 fr tr">
			<a class="no-underline near-white" href="https://github.com/xaprb/story"><img class="dib" title="Made with Hugo and Story" alt="Story logo" src="https://rmoff.net/img/story-logo-white.svg" style="width: 1.5rem; height: 1.5rem" /></a>
			</p>
			<p class="w-50 near-white">
				&copy; 2026 
			</p>
		</footer>
		
	</body>
</html>
