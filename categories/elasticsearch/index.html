<!DOCTYPE html>
<html lang="en-us">
<head>

  <meta charset="utf-8" />

  
  <title>
  Category → elasticsearch
  
   | rmoff.net
</title>

  
  
  <link href="//cdn.jsdelivr.net" rel="dns-prefetch">
  <link href="//cdnjs.cloudflare.com" rel="dns-prefetch">
  <link href="//at.alicdn.com" rel="dns-prefetch">
  <link href="//fonts.googleapis.com" rel="dns-prefetch">
  <link href="//fonts.gstatic.com" rel="dns-prefetch">
  
  
  
  
  

  

  
  
  

  
  <meta name="twitter:card" content="summary">
  <meta name="twitter:site" content="@gohugoio">
  <meta name="twitter:title" content="rmoff.net">
  
  <meta name="twitter:image" content="/images/avatar.jpg">

  
  <meta property="og:type" content="website">
  <meta property="og:title" content="rmoff.net">
  
  <meta property="og:url" content="https://rmoff.github.io/categories/elasticsearch/">
  <meta property="og:image" content="/images/avatar.jpg">




<meta name="generator" content="Hugo 0.52">


<link rel="canonical" href="https://rmoff.github.io/categories/elasticsearch/">
<link rel="alternate" type="application/rss+xml" href="https://rmoff.github.io/categories/elasticsearch/index.xml" title="rmoff.net">

<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="format-detection" content="telephone=no,email=no,adress=no">
<meta http-equiv="Cache-Control" content="no-transform">


<meta name="robots" content="index,follow">
<meta name="referrer" content="origin-when-cross-origin">







<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="rmoff.net">
<meta name="msapplication-tooltip" content="rmoff.net">
<meta name='msapplication-navbutton-color' content="#5fbf5e">
<meta name="msapplication-TileColor" content="#5fbf5e">
<meta name="msapplication-TileImage" content="/images/tile-image-windows.png">
<link rel="icon" href="/images/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" sizes="192x192" href="/images/touch-icon-android.png">
<link rel="apple-touch-icon" href="/images/touch-icon-apple.png">


<link rel="preload" href="/styles/main.min.css" as="style">
<link rel="preload" href="https://fonts.googleapis.com/css?family=Lobster" as="style">
<link rel="preload" href="/images/avatar.jpg" as="image">
<link rel="preload" href="/images/grey-prism.svg" as="image">


<style>
  body {
    background: rgb(244, 243, 241) url('/images/grey-prism.svg') repeat fixed;
  }
</style>
<link rel="stylesheet" href="/styles/main.min.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lobster">


<script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.2/dist/medium-zoom.min.js"></script>





  
  
<!--[if lte IE 8]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/videojs-ie8@1.1.2/dist/videojs-ie8.min.js"></script>
<![endif]-->

<!--[if lte IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/eligrey-classlist-js-polyfill@1.2.20180112/classList.min.js"></script>
<![endif]-->


<script src="https://cdn.jsdelivr.net/npm/smooth-scroll@14.2.1/dist/smooth-scroll.polyfills.min.js"></script>


</head>
  <body>
    
    <div class="suspension">
      <a title="Go to top" class="to-top is-hide"><span class="icon icon-up"></span></a>
      
    </div>
    
    
  <header class="site-header">
  <img class="avatar" src="/images/avatar.jpg" alt="Avatar">
  
  <h2 class="title">rmoff.net</h2>
  
  <p class="subtitle"></p>
  <button class="menu-toggle" type="button">
    <span class="icon icon-menu"></span>
  </button>
  <nav class="site-menu collapsed">
    <h2 class="offscreen">Main Menu</h2>
    <ul class="menu-list">
      
      
      
      
    </ul>
  </nav>
  <nav class="social-menu collapsed">
    <h2 class="offscreen">Social Networks</h2>
    <ul class="social-list"></ul>
  </nav>
</header>

  <section class="main post-list">
    <header class="list-header offscreen">
      <h2 class="list-label">Posts List</h2>
    </header>
    
    
      
        <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://rmoff.github.io/post/streaming-geopoint-data-from-kafka-to-elasticsearch/" class="post-link">Streaming geopoint data from Kafka to Elasticsearch</a></h3>
    <p class="post-meta">@Robin Moffatt · Oct 5, 2018 · 3 min read</p>
  </header>
  
  <p class="post-summary">Using the Elasticsearch Kafka Connect connector to stream events from a Kafka topic to Elasticsearch.
curl -X &#34;POST&#34; &#34;http://kafka-connect:8083/connectors/&#34; \ -H &#34;Content-Type: application/json&#34; \ -d &#39;{ &#34;name&#34;: &#34;es_sink_ATM_POSSIBLE_FRAUD&#34;, &#34;config&#34;: { &#34;topics&#34;: &#34;ATM_POSSIBLE_FRAUD&#34;, &#34;key.converter&#34;: &#34;org.apache.kafka.connect.storage.StringConverter&#34;, &#34;value.converter&#34;: &#34;org.apache.kafka.connect.json.JsonConverter&#34;, &#34;value.converter.schemas.enable&#34;: false, &#34;connector.class&#34;: &#34;io.confluent.connect.elasticsearch.ElasticsearchSinkConnector&#34;, &#34;key.ignore&#34;: &#34;true&#34;, &#34;schema.ignore&#34;: &#34;true&#34;, &#34;type.name&#34;: &#34;type.name=kafkaconnect&#34;, &#34;topic.index.map&#34;: &#34;ATM_POSSIBLE_FRAUD:atm_possible_fraud&#34;, &#34;connection.url&#34;: &#34;http://elasticsearch:9200&#34; } }&#39;  Dynamic mapping setup in Elasticsearch (before running the Connector) to force columns to a given type:
curl -XPUT &#34;http://elasticsearch:9200/_template/kafkaconnect/&#34; -H &#39;Content-Type: application/json&#39; -d&#39; { &#34;index_patterns&#34;: &#34;*&#34;, &#34;settings&#34;: { &#34;number_of_shards&#34;: 1, &#34;number_of_replicas&#34;: 0 }, &#34;mappings&#34;: { &#34;_default_&#34;: { &#34;dynamic_templates&#34;: [ { &#34;dates&#34;: { &#34;match&#34;: &#34;*TIMESTAMP&#34;, &#34;mapping&#34;: { &#34;type&#34;: &#34;date&#34; } } }, { &#34;geopoint&#34;: { &#34;match&#34;: &#34;*LOCATION&#34;, &#34;mapping&#34;: { &#34;type&#34;: &#34;geo_point&#34; } } }, { &#34;geopoint2&#34;: { &#34;match&#34;: &#34;location&#34;, &#34;mapping&#34;: { &#34;type&#34;: &#34;geo_point&#34; } } }, { &#34;non_analysed_string_template&#34;: { &#34;match&#34;: &#34;account_id, atm, transaction_id&#34;, &#34;match_mapping_type&#34;: &#34;string&#34;, &#34;mapping&#34;: { &#34;type&#34;: &#34;keyword&#34; } } } ] } } }&#39;  Sample JSON message from Kafka: (pretty-printed)</p>
  <footer class="post-footer">
    <a class="read-more" href="https://rmoff.github.io/post/streaming-geopoint-data-from-kafka-to-elasticsearch/">Read More →</a>
  </footer>
</article>

      
        <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://rmoff.github.io/post/window-timestamps-in-ksql-integration-with-elasticsearch/" class="post-link">Window Timestamps in KSQL / Integration with Elasticsearch</a></h3>
    <p class="post-meta">@Robin Moffatt · Sep 3, 2018 · 2 min read</p>
  </header>
  
  <p class="post-summary">KSQL provides the ability to create windowed aggregations. For example, count the number of messages in a 1 minute window, grouped by a particular column:
CREATE TABLE RATINGS_BY_CLUB_STATUS AS \ SELECT CLUB_STATUS, COUNT(*) AS RATING_COUNT \ FROM RATINGS_WITH_CUSTOMER_DATA \ WINDOW TUMBLING (SIZE 1 MINUTES) \ GROUP BY CLUB_STATUS;  How KSQL, and Kafka Streams, stores the window timestamp associated with an aggregate, has recently changed. See #1497 for details.
Whereas previously the Kafka message timestamp (accessible through the KSQL ROWTIME system column) stored the start of the window for which the aggregate had been calculated, this changed in July 2018 to instead be the timestamp of the latest message to update that aggregate value.</p>
  <footer class="post-footer">
    <a class="read-more" href="https://rmoff.github.io/post/window-timestamps-in-ksql-integration-with-elasticsearch/">Read More →</a>
  </footer>
</article>

      
        <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://rmoff.github.io/post/analysing-network-data-with-apache-kafka-ksql-and-elasticsearch/" class="post-link">Analysing Network Data with Apache Kafka, KSQL, and Elasticsearch</a></h3>
    <p class="post-meta">@Robin Moffatt · Jun 17, 2018 · 4 min read</p>
  </header>
  
  <p class="post-summary">In this article I demonstrated how to use KSQL to filter streams of network event data. As well as filtering, KSQL can be used to easily enrich streams. In this article we’ll see how this enriched data can be used to drive analysis in Elasticsearch and Kibana—and how KSQL again came into use for building some stream processing as a result of the discovery made.
The data came from my home Ubiquiti router, and took two forms:</p>
  <footer class="post-footer">
    <a class="read-more" href="https://rmoff.github.io/post/analysing-network-data-with-apache-kafka-ksql-and-elasticsearch/">Read More →</a>
  </footer>
</article>

      
        <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://rmoff.github.io/post/streaming-data-from-kafka-into-elasticsearch/" class="post-link">Streaming data from Kafka into Elasticsearch</a></h3>
    <p class="post-meta">@Robin Moffatt · Mar 6, 2018 · 2 min read</p>
  </header>
  
  <p class="post-summary">This article is part of a series exploring Streaming ETL in practice. You can read about setting up the ingest of realtime events from a standard Oracle platform, and building streaming ETL using KSQL.
This post shows how we take data streaming in from an Oracle transactional system into Kafka, and simply stream it onwards into Elasticsearch. This is a common pattern, for enabling rapid search or analytics against data held in systems elsewhere.</p>
  <footer class="post-footer">
    <a class="read-more" href="https://rmoff.github.io/post/streaming-data-from-kafka-into-elasticsearch/">Read More →</a>
  </footer>
</article>

      
        <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://rmoff.github.io/post/monitoring-logstash-ingest-rates-with-elasticsearch-kibana-and-timelion/" class="post-link">Monitoring Logstash Ingest Rates with Elasticsearch, Kibana, and Timelion</a></h3>
    <p class="post-meta">@Robin Moffatt · May 13, 2016 · 3 min read</p>
  </header>
  
  <p class="post-summary">Yesterday I wrote about Monitoring Logstash Ingest Rates with InfluxDB and Grafana, in which InfluxDB provided the data store for the ingest rate data, and Grafana the frontend.
Mark Walkom reminded me on twitter that the next release of Logstash will add more functionality in this area - and that it’ll integrate back into the Elastic stack:
@rmoff nice, LS 5.0 will have APIs exposing metrics too. they’ll be integrated back into Marvel/Monitoring!</p>
  <footer class="post-footer">
    <a class="read-more" href="https://rmoff.github.io/post/monitoring-logstash-ingest-rates-with-elasticsearch-kibana-and-timelion/">Read More →</a>
  </footer>
</article>

      
        <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://rmoff.github.io/post/denormalising-data-for-analysis-in-kibana/" class="post-link">Using R to Denormalise Data for Analysis in Kibana</a></h3>
    <p class="post-meta">@Robin Moffatt · Apr 24, 2016 · 8 min read</p>
  </header>
  
  <p class="post-summary">Kibana is a tool from Elastic that makes analysis of data held in Elasticsearch really easy and very powerful. Because Elasticsearch has very loose schema that can evolve on demand it makes it very quick to get up and running with some cool visualisations and analysis on any set of data. I demonstrated this in a blog post last year, taking a CSV file and loading it into Elasticsearch via Logstash.</p>
  <footer class="post-footer">
    <a class="read-more" href="https://rmoff.github.io/post/denormalising-data-for-analysis-in-kibana/">Read More →</a>
  </footer>
</article>

      
        <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://rmoff.github.io/post/streaming-data-through-oracle-goldengate-to-elasticsearch/" class="post-link">Streaming Data through Oracle GoldenGate to Elasticsearch</a></h3>
    <p class="post-meta">@Robin Moffatt · Apr 14, 2016 · 12 min read</p>
  </header>
  
  <p class="post-summary">Recently added to the oracledi project over at java.net is an adaptor enabling Oracle GoldenGate (OGG) to send data to Elasticsearch. This adds a powerful alternative to [micro-]batch extract via JDBC from Oracle to Elasticsearch, which I wrote about recently over at the Elastic blog.
Elasticsearch is a ‘document store’ widely used for both search and analytics. It’s something I’ve written a lot about (here and here for archives), as well as spoken about - preaching the good word, as it were, since the Elastic stack as a whole is very very good at what it does and a pleasure to work with.</p>
  <footer class="post-footer">
    <a class="read-more" href="https://rmoff.github.io/post/streaming-data-through-oracle-goldengate-to-elasticsearch/">Read More →</a>
  </footer>
</article>

      
        <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://rmoff.github.io/post/decoupling-the-data-pipeline-with-kafka-a-very-simple-real-life-example/" class="post-link">Decoupling the Data Pipeline with Kafka - A (Very) Simple Real Life Example</a></h3>
    <p class="post-meta">@Robin Moffatt · Apr 12, 2016 · 7 min read</p>
  </header>
  
  <p class="post-summary">I’ve recently been playing around with the ELK stack (now officially known as the Elastic stack) collecting data from an IRC channel with Elastic’s Logstash, storing it in Elasticsearch and analysing it with Kibana. But, this isn’t an “ELK” post - this is a Kafka post! ELK is just some example data manipulation tooling that helps demonstrate the principles.
As I wrote about last year, Apache Kafka provides a handy way to build flexible “pipelines”.</p>
  <footer class="post-footer">
    <a class="read-more" href="https://rmoff.github.io/post/decoupling-the-data-pipeline-with-kafka-a-very-simple-real-life-example/">Read More →</a>
  </footer>
</article>

      
        <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://rmoff.github.io/post/my-latest-irc-client-kibana/" class="post-link">My latest IRC client : Kibana</a></h3>
    <p class="post-meta">@Robin Moffatt · Mar 24, 2016 · 3 min read</p>
  </header>
  
  <p class="post-summary">OK, maybe that’s not entirely true. But my read-only client, certainly.
I was perusing the Logstash input plugins recently when I noticed that there was one for IRC. Being a fan of IRC and a regular on the #obihackers channel, I thought this could be fun and yet another great example of how easy the Elastic stack is to work with.
Installation is a piece of cake:
wget https://download.elasticsearch.org/elasticsearch/release/org/elasticsearch/distribution/zip/elasticsearch/2.2.1/elasticsearch-2.2.1.zip wget https://download.</p>
  <footer class="post-footer">
    <a class="read-more" href="https://rmoff.github.io/post/my-latest-irc-client-kibana/">Read More →</a>
  </footer>
</article>

      
        <article class="post-entry">
  <header class="post-header">
    <h3 class="post-title"><a href="https://rmoff.github.io/post/oracle-goldengate-kafka-hive-on-bigdatalite-4-4/" class="post-link">Fun and Games with Oracle GoldenGate, Kafka, and Logstash on BigDataLite 4.4</a></h3>
    <p class="post-meta">@Robin Moffatt · Mar 16, 2016 · 8 min read</p>
  </header>
  
  <p class="post-summary">The Oracle by Example (ObE) here demonstrating how to use Goldengate to replicate transactions big data targets such as HDFS is written for the BigDataLite 4.2.1, and for me didn’t work on the current latest version, 4.4.0.
The OBE (and similar Hands On Lab PDF) assume the presence of pmov.prm and pmov.properties in /u01/ogg/dirprm/. On BDL 4.4 there’s only the extract to from Oracle configuration, emov.
Fortunately it’s still possible to run this setup out of the box in BDL 4.</p>
  <footer class="post-footer">
    <a class="read-more" href="https://rmoff.github.io/post/oracle-goldengate-kafka-hive-on-bigdatalite-4-4/">Read More →</a>
  </footer>
</article>

      
    
    
  </section>
  


<footer class="site-footer">
  <p>© 2017-2018 rmoff.net</p>
  <p>Powered by <a href="https://gohugo.io/" target="_blank">Hugo</a> with theme <a href="https://github.com/laozhu/hugo-nuo" target="_blank">Nuo</a>.</p>
  
</footer>








<script src="/scripts/index.min.js"></script>








  </body>
</html>
