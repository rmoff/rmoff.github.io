<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>OBIEE Systems Management - dodgy counter behaviour</title>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="https://rmoff.net/index.xml">
		<link rel="canonical" href="https://rmoff.net/2011/03/08/obiee-systems-management-dodgy-counter-behaviour/">
		
		
		
		<meta name="generator" content="Hugo 0.85.0" />

		
		<meta property="og:title" content="OBIEE Systems Management - dodgy counter behaviour" />
		<meta property="og:type" content="article" />
		<meta property="og:image" content="https://rmoff.net/img/default-header-img.jpg" />
		<meta property="og:description" content="" />
		<meta property="og:url" content="https://rmoff.net/2011/03/08/obiee-systems-management-dodgy-counter-behaviour/" />
		<meta property="og:site_name" content="OBIEE Systems Management - dodgy counter behaviour" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:site" content="@" />


		
		<link rel="stylesheet" href="https://rmoff.net/css/tachyons.min.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/story.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/descartes.css" />
		
		<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css" integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU" crossorigin="anonymous">
		<link href="https://fonts.googleapis.com/css?family=Quattrocento+Sans:400,400i,700,700i|Quattrocento:400,700|Spectral:400,400i,700,700i&amp;subset=latin-ext" rel="stylesheet">
		

		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		
		<script src="https://rmoff.net/js/story.js"></script>

	</head>
	<body class="ma0 bg-white section-post page-kind-page is-page-true ">
		
		<header class="cover bg-top" style="background-image: url('https://rmoff.net/img/default-header-img.jpg'); background-position: center;">
			<div class="bg-black-30 bb bt">

				<nav class="hide-print sans-serif  border-box pa3 ph5-l">
					<a href="https://rmoff.net" title="Home">
						<img src="https://rmoff.net/img/logo.jpg" class="w2 h2 br-100" alt="rmoff&#39;s random ramblings" />
					</a>
					<div class="fr h2 pv2 tr">
						<a class="link f5 ml2 dim near-white" href="https://talks.rmoff.net/bio">about</a>
						<a class="link f5 ml2 dim near-white" href="https://talks.rmoff.net">talks</a>
						<a class="link f5 ml2 dim near-white" href="https://www.youtube.com/c/rmoff"><i class="fab fa-youtube-square"></i></a>
						<a class="link f5 ml2 dim near-white" href="https://twitter.com/rmoff/"><i class="fab fa-twitter-square"></i></a>
						<a class="link f5 ml2 dim near-white" href="https://github.com/rmoff/"><i class="fab fa-github-square"></i></a>
						<a class="link f5 ml2 dim near-white" href="https://www.linkedin.com/in/robinmoffatt/"><i class="fab fa-linkedin"></i></a>
						<a class="link f5 ml2 dim near-white fas fa-rss-square" href="https://rmoff.net/index.xml" title="RSS Feed"></a>
						<a class="link f5 ml2 dim near-white fas fa-search" href="https://rmoff.net/search/" role="search" title="Search"></a>
					</div>
				</nav>

				<div id="hdr" class="tc-l pv4-ns pv5-l pv2 ph3 ph4-ns">
					<h1 class="near-white mt1-ns f2 fw3 mb0 mt0 lh-title">OBIEE Systems Management - dodgy counter behaviour</h1>
					<h2 class="near-white mt3-l mb4-l fw1 f6 f3-l measure-wide-l center lh-copy mt2 mb3">
						
						
							
								Published
								<time datetime="2011-03-08T00:00:00Z">Mar 8, 2011</time>
								<span class="display-print">by </span>
								 in <a href="https://rmoff.net/categories/bi" class="no-underline category near-white dim">Bi</a>, <a href="https://rmoff.net/categories/bug" class="no-underline category near-white dim">Bug</a>, <a href="https://rmoff.net/categories/jmx" class="no-underline category near-white dim">Jmx</a>, <a href="https://rmoff.net/categories/mbeans" class="no-underline category near-white dim">Mbeans</a>, <a href="https://rmoff.net/categories/obiee" class="no-underline category near-white dim">Obiee</a>, <a href="https://rmoff.net/categories/systemsmanagement" class="no-underline category near-white dim">Systemsmanagement</a>
								<span class="display-print">at https://rmoff.net/2011/03/08/obiee-systems-management-dodgy-counter-behaviour/</span>
							
						
					</h2>
				</div>

				
				
				
				

			</div>
		</header>
		
		<main role="main">
		
<article class="center bg-white br-3 pv1 ph4 lh-copy f5 nested-links mw7">
	<p>Over the last few months I&rsquo;ve been doing a lot of exploring of OBIEE Systems Management data, covered in a mini-series of blog posts, <a href="/2010/12/06/collecting-obiee-systems-management-data-with-jmx/">Collecting OBIEE systems management data</a>.</p>
<p>There are a vast number of counters exposed, ranging from the very interesting (Active Sessions, Cache Hits, etc) to the less so (Total Query Piggybacks, although for some seriously hardcore performance tuning even this may be of interest).</p>
<p>This short blog post is about a couple of counters which I&rsquo;ve been monitoring but which looks to not be entirely reliable. Both are in the Oracle BI DB Connection Pool, and are:</p>
<ul>
<li><strong>Current Connection Count</strong> - The current number of open connections in the thread pool.</li>
<li><strong>Current Busy Connection Count</strong> - The current number of connections assigned to process a query or processing a query in the DB Connection pool.</li>
</ul>
<p>A picture tells a thousand words in this case: <img src="/images/rnm1978/jmx_connpool_all2.png" alt="" title="jmx_connpool_all"></p>
<p>We can clearly see :</p>
<ul>
<li><strong>Current Busy Connection Count</strong> (&quot;<em>The current number of connections assigned to process a query or processing a query in the DB Connection pool.</em>&quot;) goes negative!</li>
<li><strong>Current Connection Count</strong> (&quot;<em>The current number of open connections in the thread pool.</em>&quot;) accumulates. Either the counter is buggy, or there really are thousands of open connections in the thread pool which sounds worrying in itself.</li>
</ul>
<p>These two counters reset and correct themselves only on a BI Server restart, which can be seen by the red vertical lines on the graph.</p>
<p>A snapshot of the current figures (via JConsole) backs up these numbers and puts &ldquo;Current Connection Count&rdquo; in context next to the &lsquo;Peak&rsquo; and &lsquo;Accumulated&rsquo; figures: <img src="/images/rnm1978/snag-2011-03-08-10-32-06-0000.png" alt="" title="SNAG-2011-03-08-10.32.06-0000"></p>

</article>

		</main>
		
				<div class="hide-print sans-serif f6 f5-l mt5 ph3 pb6 center nested-copy-line-height lh-copy nested-links mw-100 measure-wide">
		<div class="about-the-author">
		
			
			
				
					<hr>
<p><img src="/images/2018/05/ksldn18-01.jpg" alt="Robin Moffatt"></p>
<p><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --><!-- raw HTML omitted --> <em>Robin Moffatt is a Principal Developer Advocate at Confluent, and an Oracle ACE Director (Alumnus). He likes writing about himself in the third person, eating good breakfasts, and drinking good beer.</em></p>

				
			
		
		</div>
		
	</div>

		
		
		
		<footer class="hide-print sans-serif f6 fw1 bg-black near-white bottom-0 w-100 pa3" role="contentinfo">
			<p class="w-50 fr tr">
			<a class="no-underline near-white" href="https://github.com/xaprb/story"><img class="dib" title="Made with Hugo and Story" alt="Story logo" src="https://rmoff.net/img/story-logo-white.svg" style="width: 1.5rem; height: 1.5rem" /></a>
			</p>
			<p class="w-50 near-white">
				&copy; 2022 
			</p>
		</footer>
		
	
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-75492960-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>

	
	</body>
</html>
