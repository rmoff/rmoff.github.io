<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link rel="preload" as="image" href="https://rmoff.net/img/default-header-img.webp" type="image/webp">
		
		<title>OBIEE performance - get your database sweating</title>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="https://rmoff.net/index.xml">
		<link rel="canonical" href="https://rmoff.net/2011/05/19/obiee-performance-get-your-database-sweating/">
		
		

		
		<meta property="og:title" content="OBIEE performance - get your database sweating" />
		<meta property="og:type" content="article" />
		<meta property="og:image" content="https://rmoff.net/img/default-header-img.jpg" />
		<meta property="og:description" content="" />
		<meta property="og:url" content="https://rmoff.net/2011/05/19/obiee-performance-get-your-database-sweating/" />
		<meta property="og:site_name" content="OBIEE performance - get your database sweating" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:site" content="@" />


		
		<style>
			html { background-color: #FAF8F5; color: #2D2926; }
			body { opacity: 0; transition: opacity 0.1s ease; }
			body.loaded { opacity: 1; }
			.site-header { height: 60px; background-color: #FAF8F5; border-bottom: 1px solid #E8421E; }
		</style>

		
		
		<link rel="stylesheet" href="https://rmoff.net/css/redesign.css" />
		
		<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,600;12..96,700;12..96,800&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@400;500;600&display=swap">
		<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,600;12..96,700;12..96,800&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@400;500;600&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
		<noscript><link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,600;12..96,700;12..96,800&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@400;500;600&display=swap" rel="stylesheet"></noscript>
		

		

		
		<script>
			!function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init capture register register_once register_for_session unregister unregister_for_session getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey getNextSurveyStep identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty createPersonProfile opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing debug".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
            posthog.init('phc_93NEP79Ju4xqXYWXnoLbr4HMW0Iaepj1BGOVoEXYX6P',{api_host:'https://eu.i.posthog.com', person_profiles: 'identified_only'})
		</script>

		
		<script src="https://rmoff.net/js/story.js"></script>
		<script src="https://rmoff.net/js/toc.js"></script>
		<script src="https://rmoff.net/js/medium-mirror.js"></script>
	</head>
	<body class="ma0 section-post page-kind-page is-page-true ">
		<script>document.body.classList.add('loaded');</script>

		<header class="site-header hide-print">
	<div class="site-header-inner">
		<a href="https://rmoff.net/" class="site-title">rmoff's random ramblings</a>
		<nav class="site-nav">
			<a href="/categories/interesting-links/" class="nav-il"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg> Interesting Links</a>
			<span class="nav-sep"></span>
			<a href="/categories/"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg> Categories</a>
			<a href="https://rmoff.net/search/"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg> Search</a>
			<a href="https://rmoff.net/index.xml"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9"/><path d="M4 4a16 16 0 0 1 16 16"/><circle cx="5" cy="19" r="1"/></svg> RSS</a>
			<div class="nav-social">
				<a href="https://www.linkedin.com/in/robinmoffatt/" title="linkedin"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg></a>
				<a href="https://twitter.com/rmoff/" title="twitter"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
				<a href="https://bsky.app/profile/rmoff.net" title="bluesky"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 568 501" fill="currentColor"><path d="M123.121 33.664C188.241 82.553 258.281 181.68 284 234.873c25.719-53.192 95.759-152.32 160.879-201.21C491.866-1.611 568-28.906 568 57.947c0 17.346-9.945 145.713-15.778 166.555-20.275 72.453-94.155 90.933-159.875 79.748C507.222 323.8 536.444 388.56 473.333 453.32c-119.86 122.992-172.272-30.859-185.702-70.281-2.462-7.227-3.614-10.608-3.631-7.733-.017-2.875-1.169.506-3.631 7.733-13.43 39.422-65.842 193.273-185.702 70.281-63.111-64.76-33.89-129.52 80.986-149.071-65.72 11.185-139.6-7.295-159.875-79.748C10.945 203.659 1 75.291 1 57.946 1-28.906 76.135-1.612 123.121 33.664z"/></svg></a>
				<a href="https://www.youtube.com/c/rmoff" title="youtube"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></a>
				<a href="https://talks.rmoff.net" title="talks"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="0"/><line x1="12" y1="17" x2="12" y2="22"/><line x1="8" y1="22" x2="16" y2="22"/><polyline points="7 8 12 12 17 8"/></svg></a>
				<a href="https://github.com/rmoff/" title="github"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a>
			</div>
		</nav>
		<button class="nav-toggle" onclick="document.querySelector('.mobile-nav').classList.toggle('open')" aria-label="Menu">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
		</button>
	</div>
	<nav class="mobile-nav">
		<a href="https://rmoff.net/">Home</a>
		<a href="/categories/">Categories</a>
		<a href="/categories/interesting-links/">Interesting Links</a>
		<a href="https://rmoff.net/search/">Search</a>
		<a href="https://rmoff.net/index.xml">RSS</a>
		<a href="https://www.linkedin.com/in/robinmoffatt/">linkedin</a>
		<a href="https://twitter.com/rmoff/">twitter</a>
		<a href="https://bsky.app/profile/rmoff.net">bluesky</a>
		<a href="https://www.youtube.com/c/rmoff">youtube</a>
		<a href="https://talks.rmoff.net">talks</a>
		<a href="https://github.com/rmoff/">github</a>
	</nav>
</header>


		<main role="main">
		

<div class="article-hero" style="background-image: url('https://rmoff.net/img/default-header-img.webp');">
	<div class="article-hero-overlay">
		<div class="article-hero-content">
			<h1>OBIEE performance - get your database sweating</h1>
			<p class="article-hero-meta">
				
					<time datetime="2011-05-19T00:00:00Z">19 May 2011</time>
					<span class="display-print">by </span>
					 &middot; <a href="https://rmoff.net/categories/bi">bi</a>, <a href="https://rmoff.net/categories/dwh">dwh</a>, <a href="https://rmoff.net/categories/obiee">OBIEE</a>, <a href="https://rmoff.net/categories/oracle">oracle</a>, <a href="https://rmoff.net/categories/performance">performance</a>, <a href="https://rmoff.net/categories/rant">rant</a>, <a href="https://rmoff.net/categories/rrdtool">rrdtool</a>
					<span class="display-print">at https://rmoff.net/2011/05/19/obiee-performance-get-your-database-sweating/</span>
				
			</p>
		</div>
	</div>
</div>


<details class="toc-mobile">
	<summary>Table of Contents</summary>
	<nav id="TableOfContents">
  <ul>
    <li><a href="#case-study">Case-study</a></li>
    <li><a href="#monitoring-for-problems">Monitoring for problems</a></li>
    <li><a href="#developing-for-the-long-term">Developing for the long term</a></li>
  </ul>
</nav>
</details>

<div class="container-fluid docs">
	<div class="row">
		<main class="docs-content" role="main">

<article class="article" data-pagefind-body>
	<span data-pagefind-filter="category" style="display:none">bi</span><span data-pagefind-filter="category" style="display:none">dwh</span><span data-pagefind-filter="category" style="display:none">OBIEE</span><span data-pagefind-filter="category" style="display:none">oracle</span><span data-pagefind-filter="category" style="display:none">performance</span><span data-pagefind-filter="category" style="display:none">rant</span><span data-pagefind-filter="category" style="display:none">rrdtool</span>
	<img data-pagefind-meta="image[src]" src="https://rmoff.net/img/default-header-img.jpg" style="display:none" alt="">
	<p>Just because something produces the correct numbers on the report, it doesn&rsquo;t mean you can stop there.</p>
<p><strong>How</strong> you are producing those numbers matters, and matters a lot if you have an interest in the long-term health of your system and its ability to scale.</p>
<p>OBIEE is the case in point here, but the principle applies to any architecture with &gt;1 tiers or components.</p>
<p>Let me start with a rhetorical question. The user has got a report which has ten rows of data. Which of the following methods is going to be a more efficient way to generate the report?</p>
<ol>
<li>Transfer the ten rows of data from the database back to the rendering application, and the rendered report to the user</li>
<li>Transfer <em><strong>fourteen million</strong></em> rows of data from the database back to the rendering application, get the application to crunch these to the required <em><strong>ten</strong></em> rows, transfer rendered report to the user</li>
</ol>
<p>Obviously, it&rsquo;s the first one. In the second one (and this is no hyperbolic example to prove a point, I&rsquo;m sorry to say) we have the following overheads:</p>
<ul>
<li>Network traffic of fourteen million rows from the database to the application server</li>
<li>Disk and/or Memory impact on the application server, depending on how it&rsquo;s processing those fourteen millions rows</li>
<li>CPU impact on the application server when it processes those fourteen million rows</li>
</ul>
<p>Considering OBIEE specifically, you should be aiming to be able to answer all of your questions on the database directly. As soon as you start using the database simply as a source for dumping big volumes of rows into your OBIEE server, you&rsquo;re storing up problems. An RDBMS is designed for crunching lots of data. You&rsquo;ve already lifted all that data off the disk when you selected it out of the tables on Oracle DB - why not get Oracle DB to do the additional processing required too? Where&rsquo;s the benefit in lifting &amp; shifting all of that data to then reprocess it again? In fact, consider why you&rsquo;re crunching big volumes of data each time in the first place. If multiple people have the same big queries, are you missing some aggregates in your data source that would support these queries much better? Or do you need to be looking towards multi-dimensional sources such as Oracle OLAP or Essbase?</p>
<p>The flexibility and power of OBIEE to do its own calculations and aggregations on data is a double-edged sword, and one to be wielded with responsibility. It is a great feature and one which cannot be avoided if you&rsquo;re using federated queries across disparate sources. But if you&rsquo;re using it out of ignorance or laziness to brute-force a solution instead of doing the big work at the lowest level possible then you&rsquo;re asking for trouble.</p>
<p>If you rely on OBIEE to do the heavy work of your reporting solution, then you need to factor this in to your hardware spec for the machine. As a reporting interface to well aggregated data with fairly simple reports, we&rsquo;ve found that it runs at minimal CPU, and doesn&rsquo;t stress the disk. You can predict fairly reliably that this should scale just fine so long as your database can. But if you put the workload on the OBIEE server too, you&rsquo;re going to hit bottlenecks much sooner.</p>
<p>The principle of moving as little data around as possible is described by Cary Millsap as <a href="http://carymillsap.blogspot.com/2010/05/filter-early.html">&ldquo;Filter Early&rdquo;</a> and described well in his blog article. Thanks to <a href="http://twitter.com/#!/RonCrisco/status/69087698840846336">@RonCrisco</a> for helping me remember the name. <a href="http://twitter.com/#!/cdturri/status/69098484715896832">@cdturri</a> pointed out that it&rsquo;s also just common sense :-). Applying it to a specific system, <a href="http://kevinclosson.wordpress.com/2010/09/17/seven-fundamentals-everyone-should-know-about-exadata-before-attending-openworld-2010-sessions/">Exadata uses it in its SmartScan</a> technology where it applies filtering of data directly on the storage rather than bringing all the data back up to the database SQL processing layer (h/t <a href="http://twitter.com/#!/ocpdba/status/69337651072864257">@ocpdba</a>).</p>
<h2 id="case-study">Case-study&nbsp;<a class="headline-hash" href="#case-study">ðŸ”—</a> </h2>
<p>Here&rsquo;s an example of a situation where all is not well in OBIEE-land.</p>
<p>We were alerted to it by unix complaining that a filesystem was running low on space. Checking the contents of the filesystem we spotted these monsters:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#666">[</span>user@server<span style="color:#666">]</span>/data/bi/tmp <span style="color:#19177c">$ls</span> -lrt
</span></span><span style="display:flex;"><span>total <span style="color:#666">112914646</span>
</span></span><span style="display:flex;"><span><span style="color:#666">[</span>...<span style="color:#666">]</span>
</span></span><span style="display:flex;"><span>-rw-------   <span style="color:#666">1</span> user   biadmin    <span style="color:#666">29122976800</span> Apr  <span style="color:#666">6</span> 11:32 nQS_20117_465_33898735.TMP
</span></span><span style="display:flex;"><span>-rw-------   <span style="color:#666">1</span> user   biadmin    <span style="color:#666">24816966976</span> Apr  <span style="color:#666">6</span> 11:12 nQS_20117_464_33792457.TMP
</span></span><span style="display:flex;"><span>-rw-------   <span style="color:#666">1</span> user   biadmin    <span style="color:#666">3582054936</span> Apr  <span style="color:#666">6</span> 11:46 nQS_20117_469_37979712.TMP
</span></span><span style="display:flex;"><span><span style="color:#666">[</span>...<span style="color:#666">]</span>
</span></span></code></pre></div><p>These are temporary files generated by BI Server (nqsserver), and for those of you viewing in black and white, those files are getting on for 30GB a go!</p>
<p>When queried, NQQuery.log embarrassingly admits facts such as:</p>
<pre tabindex="0"><code>Rows 13,894,550, bytes 3,260,497,648 retrieved from database query id: xxxx
</code></pre><p>and Usage Tracking shows the kind of damage being inflicted:</p>
<pre tabindex="0"><code>Total
                       time     row num db     cum num
START_TS     END_TS     sec   count  query      db row 

06-APR 10:05 10:18      579       0      6   3,436,816 
06-APR 10:05 10:18      553       0      4   3,239,101 
06-APR 10:05 10:18      383       0      3   1,624,656 
06-APR 10:11 11:48     5694       0      1  13,894,550 
06-APR 10:11 11:48     4314       0      1  11,840,156 
06-APR 10:21 10:27      336     456      4   3,239,101
</code></pre><p>A look at the machine&rsquo;s vital statistics for this time period shows the impact: <img src="/images/rnm1978/mw_27_20110406.png" alt="" title="mw_27_20110406"></p>
<p>For a bit more detail, here&rsquo;s the time period at greater resolution: <img src="/images/rnm1978/mw_27_20110406_1000.png" alt="" title="mw_27_20110406_1000"></p>
<p>Notice that the server starts paging out during the work, and there&rsquo;s a lot of disk activity - both read and write. CPU goes from a normal c.5% up to 20-30%.</p>
<p>This was one user doing this &ndash; care to place bets on how the system would perform if it were rolled out to ten users running this kind of workload?</p>
<p>For reference, here&rsquo;s one of our other BI Servers which serves at least 10 times as many users, where the reports do the bulk of their work in the database: <img src="/images/rnm1978/mw_07_20110406.png" alt="" title="mw_07_20110406"></p>
<h2 id="monitoring-for-problems">Monitoring for problems&nbsp;<a class="headline-hash" href="#monitoring-for-problems">ðŸ”—</a> </h2>
<p>There are a few easy ways to look out for this bad behaviour. The first is in Usage Tracking, where you can look at S_NQ_ACCT.CUM_NUM_DB_ROW and compare it to S_NQ_ACCT.ROW_COUNT, even writing an alert for when this ratio goes above a defined threshold. You could also look at an alert on S_NQ_ACCT.CUM_NUM_DB_ROW going above a fixed number, since depending on your system&rsquo;s purpose and architectural principles you might want to aim to never be pulling back more rows from the database than necessary for a report.</p>
<p>I&rsquo;d also pay close attention to S_NQ_ACCT.NUM_DB_QUERY, as this will show you reports generating more than one query on the database and thus increasing the workload on the BI Server processing the combined results.</p>
<p>Another thing to check is the NQQuery.log, looking at the number of bytes returned from a database query. This could feed into some kind of generated alert for closer investigation if a query returns above a certain number. OBI 10g:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>grep retrieved NQQuery.log|awk <span style="color:#ba2121">&#39;{print $5}&#39;</span>|sort -n
</span></span></code></pre></div><p>OBI 11g:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>grep retrieved NQQuery.log|awk <span style="color:#ba2121">&#39;{print $20}&#39;</span>|sort -n
</span></span></code></pre></div><p>(if you&rsquo;re running on Windows then to run this command you&rsquo;ll need either cygwin or google for a Win32 version of grep/awk/sort - or brew your own Powershell version)</p>
<p>I&rsquo;d also strongly recommend monitoring your BI Server&rsquo;s TEMP folder (defined as WORK_DIRECTORY_PATHS in NQSConfig.INI), as this is where it lands the data to disk when it&rsquo;s got to crunch it. Monitor this for two reasons - to spot when bad stuff&rsquo;s happening, but also in case it fills up and causes your BI Server to barf. For the latter, you can expect to get:</p>
<pre tabindex="0"><code>[nQSError: 10058] A general error has occurred. 
[nQSError: 46118] Out of disk space.
</code></pre><h2 id="developing-for-the-long-term">Developing for the long term&nbsp;<a class="headline-hash" href="#developing-for-the-long-term">ðŸ”—</a> </h2>
<p>How do you assess your development projects for quality? You presumably are keen that the reports match the specifications and return the right numbers. You hopefully also have <a href="http://en.wikipedia.org/wiki/Non-functional_requirement">NFRs</a> for how quickly these reports run. But what about system impact of new developments? How do you quantify this?</p>
<p>Unless you are delivering a standalone project, fire-and-forget, then maybe you can performance test for load and concurrency up-front to validate how well your solution will scale to the required users. But lots of BI projects are iterative and may well be across functions too. Just because your development project is first to land it doesn&rsquo;t give you the right to dump a steaming pile on the servers and proclaim that it works with your user volumes and meets their NFRs, so all is well. What about all the projects that come along next, and are going to be hindered by your mess?</p>
<p>This is where another double-edged sword comes into play - &ldquo;Best Practice&rdquo;. For me, Best Practice is a way of doing something that multiple implementations, time and expertise has shown to be the best way of not screwing up. It is the starting point from which to work, understanding deviations as required. What it is not, and what gets it the bad reputation, is a fixed set of crude rules to be adhered to blindly and implemented without questioning or understanding.</p>
<p>If a system is not adhering to the kind of best practice I&rsquo;m talking about here - filter early, in essence - then there may be a good reason. But that reason must be consciously and loudly acknowledged and documented.</p>

	<hr>
	<div class="giscus-container">
		<script src="https://giscus.app/client.js"
				data-repo="rmoff/rmoff-blog"
				data-repo-id="MDEwOlJlcG9zaXRvcnkxNTE3NDg2MTE="
				data-category="Announcements"
				data-category-id="DIC_kwDOCQuAA84CvP5T"
				data-mapping="pathname"
				data-strict="1"
				data-reactions-enabled="1"
				data-emit-metadata="0"
				data-input-position="bottom"
				data-theme="light"
				data-lang="en"
				crossorigin="anonymous"
				async>
		</script>
	</div>
</article>
      </main>
    
      
      <div class="docs-toc">
        <ul class="nav toc-top">
          <li><a href="#" id="back_to_top" class="docs-toc-title">On this page</a></li>
        </ul>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#case-study">Case-study</a></li>
    <li><a href="#monitoring-for-problems">Monitoring for problems</a></li>
    <li><a href="#developing-for-the-long-term">Developing for the long term</a></li>
  </ul>
</nav>
      </div>
      
    
    </div>
  </div>
</div>


		</main>

		

		
		<footer class="site-footer hide-print" role="contentinfo">
			<span>&copy; 2026 </span>
		</footer>
		

		
	</body>
</html>
