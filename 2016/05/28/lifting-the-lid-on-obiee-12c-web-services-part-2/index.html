<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link rel="preload" as="image" href="https://rmoff.net/images/2016/05/1__oracle_demo____ssh_.png" >
		
		<title>Lifting the Lid on OBIEE 12c Web Services - Part 2</title>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="https://rmoff.net/index.xml">
		<link rel="canonical" href="https://rmoff.net/2016/05/28/lifting-the-lid-on-obiee-12c-web-services-part-2/">
		
		

		
		<meta property="og:title" content="Lifting the Lid on OBIEE 12c Web Services - Part 2" />
		<meta property="og:type" content="article" />
		<meta property="og:image" content="https://rmoff.net/images/2016/05/1__oracle_demo____ssh_.png" />
		<meta property="og:description" content="" />
		<meta property="og:url" content="https://rmoff.net/2016/05/28/lifting-the-lid-on-obiee-12c-web-services-part-2/" />
		<meta property="og:site_name" content="Lifting the Lid on OBIEE 12c Web Services - Part 2" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:site" content="@" />


		
		<style>
			html { background-color: #FAF8F5; color: #2D2926; }
			body { opacity: 0; transition: opacity 0.1s ease; }
			body.loaded { opacity: 1; }
			.site-header { height: 60px; background-color: #FAF8F5; border-bottom: 1px solid #E8421E; }
		</style>

		
		
		<link rel="stylesheet" href="https://rmoff.net/css/redesign.css" />
		
		<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,600;12..96,700;12..96,800&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@400;500;600&display=swap">
		<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,600;12..96,700;12..96,800&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@400;500;600&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
		<noscript><link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,600;12..96,700;12..96,800&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@400;500;600&display=swap" rel="stylesheet"></noscript>
		

		

		
		<script>
			!function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init capture register register_once register_for_session unregister unregister_for_session getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey getNextSurveyStep identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty createPersonProfile opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing debug".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
            posthog.init('phc_93NEP79Ju4xqXYWXnoLbr4HMW0Iaepj1BGOVoEXYX6P',{api_host:'https://eu.i.posthog.com', person_profiles: 'identified_only'})
		</script>

		
		<script src="https://rmoff.net/js/story.js"></script>
		<script src="https://rmoff.net/js/toc.js"></script>
		<script src="https://rmoff.net/js/medium-mirror.js"></script>
	</head>
	<body class="ma0 section-post page-kind-page is-page-true ">
		<script>document.body.classList.add('loaded');</script>

		<header class="site-header hide-print">
	<div class="site-header-inner">
		<a href="https://rmoff.net/" class="site-title">rmoff's random ramblings</a>
		<nav class="site-nav">
			<a href="/categories/interesting-links/" class="nav-il"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg> Interesting Links</a>
			<span class="nav-sep"></span>
			<a href="/categories/"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg> Categories</a>
			<a href="https://rmoff.net/search/"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg> Search</a>
			<a href="https://rmoff.net/index.xml"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9"/><path d="M4 4a16 16 0 0 1 16 16"/><circle cx="5" cy="19" r="1"/></svg> RSS</a>
			<div class="nav-social">
				<a href="https://www.linkedin.com/in/robinmoffatt/" title="linkedin"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg></a>
				<a href="https://twitter.com/rmoff/" title="twitter"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
				<a href="https://bsky.app/profile/rmoff.net" title="bluesky"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 568 501" fill="currentColor"><path d="M123.121 33.664C188.241 82.553 258.281 181.68 284 234.873c25.719-53.192 95.759-152.32 160.879-201.21C491.866-1.611 568-28.906 568 57.947c0 17.346-9.945 145.713-15.778 166.555-20.275 72.453-94.155 90.933-159.875 79.748C507.222 323.8 536.444 388.56 473.333 453.32c-119.86 122.992-172.272-30.859-185.702-70.281-2.462-7.227-3.614-10.608-3.631-7.733-.017-2.875-1.169.506-3.631 7.733-13.43 39.422-65.842 193.273-185.702 70.281-63.111-64.76-33.89-129.52 80.986-149.071-65.72 11.185-139.6-7.295-159.875-79.748C10.945 203.659 1 75.291 1 57.946 1-28.906 76.135-1.612 123.121 33.664z"/></svg></a>
				<a href="https://www.youtube.com/c/rmoff" title="youtube"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></a>
				<a href="https://talks.rmoff.net" title="talks"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="0"/><line x1="12" y1="17" x2="12" y2="22"/><line x1="8" y1="22" x2="16" y2="22"/><polyline points="7 8 12 12 17 8"/></svg></a>
				<a href="https://github.com/rmoff/" title="github"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a>
			</div>
		</nav>
		<button class="nav-toggle" onclick="document.querySelector('.mobile-nav').classList.toggle('open')" aria-label="Menu">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
		</button>
	</div>
	<nav class="mobile-nav">
		<a href="https://rmoff.net/">Home</a>
		<a href="/categories/">Categories</a>
		<a href="/categories/interesting-links/">Interesting Links</a>
		<a href="https://rmoff.net/search/">Search</a>
		<a href="https://rmoff.net/index.xml">RSS</a>
		<a href="https://www.linkedin.com/in/robinmoffatt/">linkedin</a>
		<a href="https://twitter.com/rmoff/">twitter</a>
		<a href="https://bsky.app/profile/rmoff.net">bluesky</a>
		<a href="https://www.youtube.com/c/rmoff">youtube</a>
		<a href="https://talks.rmoff.net">talks</a>
		<a href="https://github.com/rmoff/">github</a>
	</nav>
</header>


		<main role="main">
		

<div class="article-hero" style="background-image: url('https://rmoff.net/images/2016/05/1__oracle_demo____ssh_.png');">
	<div class="article-hero-overlay">
		<div class="article-hero-content">
			<h1>Lifting the Lid on OBIEE 12c Web Services - Part 2</h1>
			<p class="article-hero-meta">
				
					<time datetime="2016-05-28T20:30:00Z">28 May 2016</time>
					<span class="display-print">by </span>
					 &middot; <a href="https://rmoff.net/categories/obiee">OBIEE</a>, <a href="https://rmoff.net/categories/obiee12c">obiee12c</a>, <a href="https://rmoff.net/categories/rpd">rpd</a>, <a href="https://rmoff.net/categories/downloadrpd">downloadrpd</a>, <a href="https://rmoff.net/categories/uploadrpd">uploadrpd</a>, <a href="https://rmoff.net/categories/data-model-cmd">data-model-cmd</a>, <a href="https://rmoff.net/categories/web-service">web service</a>, <a href="https://rmoff.net/categories/rest">rest</a>, <a href="https://rmoff.net/categories/curl">curl</a>, <a href="https://rmoff.net/categories/sysdig">sysdig</a>
					<span class="display-print">at https://rmoff.net/2016/05/28/lifting-the-lid-on-obiee-12c-web-services-part-2/</span>
				
			</p>
		</div>
	</div>
</div>


<details class="toc-mobile">
	<summary>Table of Contents</summary>
	<nav id="TableOfContents"></nav>
</details>

<div class="container-fluid docs">
	<div class="row">
		<main class="docs-content" role="main">

<article class="article" data-pagefind-body>
	<span data-pagefind-filter="category" style="display:none">OBIEE</span><span data-pagefind-filter="category" style="display:none">obiee12c</span><span data-pagefind-filter="category" style="display:none">rpd</span><span data-pagefind-filter="category" style="display:none">downloadrpd</span><span data-pagefind-filter="category" style="display:none">uploadrpd</span><span data-pagefind-filter="category" style="display:none">data-model-cmd</span><span data-pagefind-filter="category" style="display:none">web service</span><span data-pagefind-filter="category" style="display:none">rest</span><span data-pagefind-filter="category" style="display:none">curl</span><span data-pagefind-filter="category" style="display:none">sysdig</span>
	<img data-pagefind-meta="image[src]" src="https://rmoff.net/images/2016/05/1__oracle_demo____ssh_.png" style="display:none" alt="">
	<p>In OBIEE 12c <code>data-model-cmd</code> is a wrapper for some java code which ultimately calls an internal RESTful web service in OBIEE 12c, <code>bi-lcm</code>. We saw in the <a href="/2016/05/24/lifting-the-lid-on-obiee-12c-web-services-part-1/">previous post</a> how these internal web services can be opened up slightly, and we&rsquo;re going to do the same again here. Which means, time for the same caveat:</p>
<hr>
<p><strong>None of these Web Services are documented, and they should therefore be assumed to be completely unsupported by Oracle. This article is purely for geek interest. Using undocumented APIs leaves you at risk of the API changing at any time.</strong></p>
<hr>
<p>With that out of the way, let&rsquo;s go! Firstly, a simple example of downloading the RPD. The way that OBIEE 12c works with RPDs is significantly different from previous versions, since there is now the concept of customisations and layering. You may have noticed <code>liverpd.rpd</code> or <code>default_diff.xml</code>, both of which are related to this. The nett result is that there is no longer a single RPD file uploaded to the server which can be downloaded again for editing, as there was in 11g and before. You now need to submit a request to OBIEE to retrieve the latest version of the RPD, which it will pull together on the fly and pass back to you. This is done using <code>data-model-cmd</code>:</p>
<pre><code>$ /app/oracle/biee/user_projects/domains/bi/bitools/bin/data-model-cmd.sh downloadrpd -O ~/myRPD.rpd -W Admin123 -U weblogic -P Admin123 -SI ssi
</code></pre>
<p>This writes a local file, myRPD.rpd. In the background, it&rsquo;s calling <code>bi-lcm</code> to retrieve the file, as we can see from two diagnostic routes:</p>
<ul>
<li>
<p>First, my favourite, <code>sysdig</code>, sniffing any traffic on ports 7780 (managed server public listen port) and 7783 (managed server internal listen port, as used by intra-component REST calls etc):</p>
<pre><code>  sudo sysdig -s 2000 -A -c echo_fds &quot;(fd.port=7780 or fd.port=7783)&quot;
</code></pre>
<p>This captures the following <code>POST</code> request:</p>
<pre><code>  POST /bi-lcm/v1/si/ssi/rpd/downloadrpd HTTP/1.1
  Content-Type: application/x-www-form-urlencoded
  Authorization: Basic d2VibG9naWM6QWRtaW4xMjM=
  User-Agent: Jersey/2.21.1 (HttpUrlConnection 1.8.0_51)
  Host: demo.us.oracle.com:7780
  Accept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
  Connection: keep-alive
  Content-Length: 24
</code></pre>
</li>
<li>
<p>Just as useful, in this case, is the <code>bi-lcm</code> log file itself, <code>DOMAIN_HOME/servers/bi_server1/logs/bi-lcm-rest.log.0</code>:</p>
<pre><code>  47 &gt; POST http://demo.us.oracle.com:7780/bi-lcm/v1/si/ssi/rpd/downloadrpd
  47 &gt; Accept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
  47 &gt; Authorization: Basic d2VibG9naWM6QWRtaW4xMjM=
  47 &gt; Connection: keep-alive
  47 &gt; Content-Length: 24
  47 &gt; Content-Type: application/x-www-form-urlencoded
  47 &gt; Host: demo.us.oracle.com:7780
  47 &gt; User-Agent: Jersey/2.21.1 (HttpUrlConnection 1.8.0_51)
  target-password=Admin123
</code></pre>
</li>
</ul>
<p>So the syntax of the RESTful call is pretty simple &ndash; call the <code>downloadrpd</code> endpoint, passing in the password that is to be used to encrypt the generated RPD. Authentication is done by Basic HTTP.</p>
<p>What can we do with this? Two things - neither of which are spectacularly useful as such, but additional ways and means to achieve the same. It may be you&rsquo;ve got a bespoke code integration system that needs to integrate with a RESTful endpoint, or simply it&rsquo;s just another useful tool to have at one&rsquo;s disposal. Before we get into it, it&rsquo;s probably time for that caveat again:</p>
<hr>
<p><strong>None of these Web Services are documented, and they should therefore be assumed to be completely unsupported by Oracle. This article is purely for geek interest. Using undocumented APIs leaves you at risk of the API changing at any time.</strong></p>
<hr>
<p><a href="https://curl.haxx.se/"><code>cURL</code></a> is a commandline utility for sending HTTP (amongst other) requests. We can use it to request the RPD to be downloaded to any machine on which we can run cURL. Because it adheres to the *nix philosophy of making the output available as a pipe, we can redirect it to a file:  (<em>if you don&rsquo;t, you&rsquo;ll get a screen full of gibberish&hellip;</em>)</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X <span style="color:#ba2121">&#34;POST&#34;</span> <span style="color:#ba2121">&#34;http://192.168.56.101:7780/bi-lcm/v1/si/ssi/rpd/downloadrpd&#34;</span> <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>--data-urlencode <span style="color:#ba2121">&#34;target-password=Admin123&#34;</span> <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>--basic --user weblogic:Admin123 <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>&gt; downloadedRPD.rpd
</span></span></code></pre></div><p>Note that I&rsquo;ve used <code>\</code> line continuation character to break the command over multiple lines simply for legibility.</p>
<p>It&rsquo;s pretty clear, hopefully, how to parameterise this for your own use. The server and port are your OBIEE managed server and port (the same that <code>/analytics</code> is on). The rest are credentials, for the downloaded RPD, and to access the OBIEE system, respectively.</p>
<p>Taking the same method, but via a web page, we can run this HTML file anywhere we want:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-html" data-lang="html"><span style="display:flex;"><span>&lt;<span style="color:#008000;font-weight:bold">html</span>&gt;
</span></span><span style="display:flex;"><span>   &lt;<span style="color:#008000;font-weight:bold">head</span>&gt;&lt;/<span style="color:#008000;font-weight:bold">head</span>&gt;
</span></span><span style="display:flex;"><span>   &lt;<span style="color:#008000;font-weight:bold">body</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;<span style="color:#008000;font-weight:bold">FORM</span> <span style="color:#7d9029">action</span><span style="color:#666">=</span><span style="color:#ba2121">&#34;http://192.168.56.101:7780/bi-lcm/v1/si/ssi/rpd/downloadrpd&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#7d9029">enctype</span><span style="color:#666">=</span><span style="color:#ba2121">&#34;application/x-www-form-urlencoded&#34;</span>
</span></span><span style="display:flex;"><span>         <span style="color:#7d9029">method</span><span style="color:#666">=</span><span style="color:#ba2121">&#34;post&#34;</span>&gt;
</span></span><span style="display:flex;"><span>         &lt;<span style="color:#008000;font-weight:bold">P</span>&gt;
</span></span><span style="display:flex;"><span>           New password for downloaded RPD file? &lt;<span style="color:#008000;font-weight:bold">INPUT</span> <span style="color:#7d9029">type</span><span style="color:#666">=</span><span style="color:#ba2121">&#34;text&#34;</span> <span style="color:#7d9029">name</span><span style="color:#666">=</span><span style="color:#ba2121">&#34;target-password&#34;</span>&gt;&lt;<span style="color:#008000;font-weight:bold">BR</span>&gt;
</span></span><span style="display:flex;"><span>            &lt;<span style="color:#008000;font-weight:bold">INPUT</span> <span style="color:#7d9029">type</span><span style="color:#666">=</span><span style="color:#ba2121">&#34;submit&#34;</span> <span style="color:#7d9029">value</span><span style="color:#666">=</span><span style="color:#ba2121">&#34;Send&#34;</span>&gt; &lt;<span style="color:#008000;font-weight:bold">INPUT</span> <span style="color:#7d9029">type</span><span style="color:#666">=</span><span style="color:#ba2121">&#34;reset&#34;</span>&gt;
</span></span><span style="display:flex;"><span>      &lt;/<span style="color:#008000;font-weight:bold">FORM</span>&gt;
</span></span><span style="display:flex;"><span>   &lt;/<span style="color:#008000;font-weight:bold">body</span>&gt;
</span></span><span style="display:flex;"><span>&lt;/<span style="color:#008000;font-weight:bold">html</span>&gt;
</span></span></code></pre></div><p>Load it into a web browser, enter a password for the generated RPD:</p>
<p><img src="/images/2016/05/rpd_download_html.png" alt=""></p>
<p>and enter your credentials for OBIEE when prompted:</p>
<p><img src="/images/2016/05/rpddl02.png" alt=""></p>
<p>The RPD file is downloaded as <code>downloadrpd</code>, which you can rename to whatever you want.</p>
<hr>
<p>So, we can do <code>downloadrpd</code> &ndash; what about <code>uploadrpd</code>? Because that really would be useful for some people, being able to deploy an RPD without needing to dive into the commandline.</p>
<p>Here&rsquo;s the <code>uploadrpd</code> command:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>$ /app/oracle/biee/user_projects/domains/bi/bitools/bin/data-model-cmd.sh <span style="color:#b62;font-weight:bold">\ </span>
</span></span><span style="display:flex;"><span>uploadrpd -I /home/oracle/chng1.rpd -W Admin123 -U weblogic -P Admin123 -SI ssi
</span></span></code></pre></div><p>The resulting POST request looks like this:</p>
<pre><code>POST http://demo.us.oracle.com:7780/bi-lcm/v1/si/ssi/rpd/uploadrpd
Accept: text/html, image/gif, image/jpeg, *; q=.2, */*; q=.2
Authorization: Basic d2VibG9naWM6QWRtaW4xMjM=
Connection: keep-alive
Content-Length: 1221056
Content-Type: multipart/form-data;boundary=Boundary_1_1010953501_1464461679148
Host: demo.us.oracle.com:7780
MIME-Version: 1.0
User-Agent: Jersey/2.21.1 (HttpUrlConnection 1.8.0_51)
</code></pre>
<p>The upload has two parts; the RPD password, and the RPD itself.</p>
<pre><code>--Boundary_1_1010953501_1464461679148
Content-Type: text/plain
Content-Disposition: form-data; name=&quot;rpd-password&quot;

Admin123
--Boundary_1_1010953501_1464461679148
Content-Type: application/vnd.oracle.rpd
Content-Disposition: form-data; filename=&quot;myRPD.rpd&quot;; modification-date=&quot;Sat, 28 May 2016 18:53:14 GMT&quot;; size=1220668; name=&quot;file&quot;

[whole bunch of encoded RPD binary file]
</code></pre>
<p><del>But - I couldn&rsquo;t replicate this HTTP request successfully; called manually through Paw, or cURL, or a manual webpage like the above, it would fail with the error:</del></p>
<pre><code>oracle.bi.lcm.rest.si.rpd.RpdEndpointV1 SEVERE - Exception during RPD file upload: java.lang.NullPointerException
</code></pre>
<p><del>Or on other attempts:</del></p>
<pre><code>java.net.SocketTimeoutException : Read time out after 30000 millis
</code></pre>
<p><del>My guess (based on ruling out all the other stuff) is it&rsquo;s down to how I was encoding the file and/or specifying its length. A challenge for <a href="https://oracleus.activeevents.com/2014/connect/fileDownload/session/75F302D730BDB9CA14ADAB3477574D4D/UGF9144_Berg-OOW_Neos_Voyage_2014.pdf">you Neos</a> out there to crack?</del></p>
<p><strong>Update:</strong> <a href="https://twitter.com/fomin_andrew/status/739189964097851393">Neo has risen to the challenge</a>, showing that the force is strong in this one&hellip; Andrew Fomin (<a href="https://twitter.com/fomin_andrew">twitter</a> | <a href="https://bisoftdiary.com/">blog</a>) has figured out the correct syntax in order to use <code>curl</code> to upload an RPD:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>curl -X POST <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>     <span style="color:#ba2121">&#34;http://192.168.1.41:7780/bi-lcm/v1/si/ssi/rpd/uploadrpd&#34;</span> <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>     --form <span style="color:#ba2121">&#34;file=@myRPD.rpd;type=application/vnd.oracle.rpd&#34;</span> <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>     --form <span style="color:#ba2121">&#34;rpd-password=Password01&#34;</span> <span style="color:#b62;font-weight:bold">\
</span></span></span><span style="display:flex;"><span><span style="color:#b62;font-weight:bold"></span>     --basic --user weblogic:Admin123
</span></span></code></pre></div><p>The key bit in this is that the content-type of the upload RPD file is set to <code>application/vnd.oracle.rpd</code> &ndash; without this the upload fails.</p>
<p>When run, the JSON payload returned shows success (parsed here through <code>jq</code>):</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-json" data-lang="json"><span style="display:flex;"><span>{
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&#34;clazz&#34;</span>: [
</span></span><span style="display:flex;"><span>    <span style="color:#ba2121">&#34;rpd-response&#34;</span>
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&#34;links&#34;</span>: [
</span></span><span style="display:flex;"><span>    {
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&#34;href&#34;</span>: <span style="color:#ba2121">&#34;http://192.168.1.41:7780/bi-lcm/v1/si/ssi/rpd/uploadrpd&#34;</span>,
</span></span><span style="display:flex;"><span>      <span style="color:#008000;font-weight:bold">&#34;rel&#34;</span>: [
</span></span><span style="display:flex;"><span>        <span style="color:#ba2121">&#34;self&#34;</span>
</span></span><span style="display:flex;"><span>      ]
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>  ],
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&#34;properties&#34;</span>: {
</span></span><span style="display:flex;"><span>    <span style="color:#008000;font-weight:bold">&#34;entry&#34;</span>: [
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&#34;key&#34;</span>: <span style="color:#ba2121">&#34;si&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&#34;value&#34;</span>: {
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&#34;type&#34;</span>: <span style="color:#ba2121">&#34;string&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&#34;value&#34;</span>: <span style="color:#ba2121">&#34;ssi&#34;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&#34;key&#34;</span>: <span style="color:#ba2121">&#34;description&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&#34;value&#34;</span>: {
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&#34;type&#34;</span>: <span style="color:#ba2121">&#34;string&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&#34;value&#34;</span>: <span style="color:#ba2121">&#34;RPD upload completed successfully.&#34;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&#34;key&#34;</span>: <span style="color:#ba2121">&#34;desc_code&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&#34;value&#34;</span>: {
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&#34;type&#34;</span>: <span style="color:#ba2121">&#34;string&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&#34;value&#34;</span>: <span style="color:#ba2121">&#34;DESC_CODE_RPD_UPLOAD_SUCCESSFUL&#34;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      },
</span></span><span style="display:flex;"><span>      {
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&#34;key&#34;</span>: <span style="color:#ba2121">&#34;status&#34;</span>,
</span></span><span style="display:flex;"><span>        <span style="color:#008000;font-weight:bold">&#34;value&#34;</span>: {
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&#34;type&#34;</span>: <span style="color:#ba2121">&#34;string&#34;</span>,
</span></span><span style="display:flex;"><span>          <span style="color:#008000;font-weight:bold">&#34;value&#34;</span>: <span style="color:#ba2121">&#34;SUCCESS&#34;</span>
</span></span><span style="display:flex;"><span>        }
</span></span><span style="display:flex;"><span>      }
</span></span><span style="display:flex;"><span>    ]
</span></span><span style="display:flex;"><span>  },
</span></span><span style="display:flex;"><span>  <span style="color:#008000;font-weight:bold">&#34;title&#34;</span>: <span style="color:#ba2121">&#34;RPD-LCM response, SI=ssi, action=Upload RPD&#34;</span>
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Thanks Andrew!</p>
<hr>
<p><strong>None of these Web Services are documented, and they should therefore be assumed to be completely unsupported by Oracle. This article is purely for geek interest. Using undocumented APIs leaves you at risk of the API changing at any time.</strong></p>
<hr>

	<hr>
	<div class="giscus-container">
		<script src="https://giscus.app/client.js"
				data-repo="rmoff/rmoff-blog"
				data-repo-id="MDEwOlJlcG9zaXRvcnkxNTE3NDg2MTE="
				data-category="Announcements"
				data-category-id="DIC_kwDOCQuAA84CvP5T"
				data-mapping="pathname"
				data-strict="1"
				data-reactions-enabled="1"
				data-emit-metadata="0"
				data-input-position="bottom"
				data-theme="light"
				data-lang="en"
				crossorigin="anonymous"
				async>
		</script>
	</div>
</article>
      </main>
    
      
      <div class="docs-toc">
        <ul class="nav toc-top">
          <li><a href="#" id="back_to_top" class="docs-toc-title">On this page</a></li>
        </ul>
        <nav id="TableOfContents"></nav>
      </div>
      
    
    </div>
  </div>
</div>


		</main>

		

		
		<footer class="site-footer hide-print" role="contentinfo">
			<span>&copy; 2026 </span>
		</footer>
		

		
	</body>
</html>
