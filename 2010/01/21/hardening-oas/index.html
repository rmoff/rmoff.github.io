<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<title>Hardening OAS</title>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="https://rmoff.net/index.xml">
		<link rel="canonical" href="https://rmoff.net/2010/01/21/hardening-oas/">
		
		
		
		

		
		<meta property="og:title" content="Hardening OAS" />
		<meta property="og:type" content="article" />
		<meta property="og:image" content="https://rmoff.net/img/default-header-img.jpg" />
		<meta property="og:description" content="" />
		<meta property="og:url" content="https://rmoff.net/2010/01/21/hardening-oas/" />
		<meta property="og:site_name" content="Hardening OAS" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:site" content="@" />


		
		<link rel="stylesheet" href="https://rmoff.net/css/tachyons.min.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/story.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/descartes.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/toc.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/retro-cards.css" />
		<link rel="stylesheet" href="https://rmoff.net/css/custom.css" />
		
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
		<link href="https://fonts.googleapis.com/css?family=Quattrocento+Sans:400,400i,700,700i|Quattrocento:400,700|Spectral:400,400i,700,700i&amp;subset=latin-ext" rel="stylesheet">
		
		
		<script>
			!function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init capture register register_once register_for_session unregister unregister_for_session getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey getNextSurveyStep identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty createPersonProfile opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing debug".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
            posthog.init('phc_93NEP79Ju4xqXYWXnoLbr4HMW0Iaepj1BGOVoEXYX6P',{api_host:'https://eu.i.posthog.com', person_profiles: 'identified_only' 
                })
		</script>
		
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
		
		<script src="https://rmoff.net/js/story.js"></script>
		<script src="https://rmoff.net/js/toc.js"></script>

	</head>
	<body class="ma0 bg-white section-post page-kind-page is-page-true ">
		
		<header class="cover bg-top" style="background-image: url('https://rmoff.net/img/default-header-img.jpg'); background-position: center;">
			<div class="bg-black-30 bb bt">

				<nav class="hide-print sans-serif  border-box pa3 ph5-l">
					<a href="https://rmoff.net" title="Home">
						<link rel="preload" as="image" href="https://rmoff.net/img/repton.gif">
						<img
							src="https://rmoff.net/img/logo.jpg"
							class="w2 h2 br-100"
							alt="rmoff&#39;s random ramblings"
							onmouseover="this.src='https:\/\/rmoff.net\/img\/repton.gif';"
							onmouseout="this.src='https:\/\/rmoff.net\/img\/logo.jpg';"
						/>
					</a>
					<div class="fr h2 pv2 tr">
						<a class="link f5 ml2 dim near-white" href="https://talks.rmoff.net/bio">about</a>
						<a class="link f5 ml2 dim near-white" href="https://talks.rmoff.net">talks</a>
						<a class="link f5 ml2 dim near-white" href="https://bsky.app/profile/rmoff.net"><i class="fa-brands fa-bluesky"></i></a>
						<a class="link f5 ml2 dim near-white" href="https://github.com/rmoff/"><i class="fab fa-github-square"></i></a>
						<a class="link f5 ml2 dim near-white" href="https://www.youtube.com/c/rmoff"><i class="fab fa-youtube-square"></i></a>
						<a class="link f5 ml2 dim near-white" href="https://www.linkedin.com/in/robinmoffatt/"><i class="fab fa-linkedin"></i></a>
						<a class="link f5 ml2 dim near-white fas fa-rss-square" href="https://rmoff.net/index.xml" title="RSS Feed"></a>
						<a class="link f5 ml2 dim near-white fas fa-search" href="https://rmoff.net/search/" role="search" title="Search"></a>
					</div>
				</nav>

				<div id="hdr" class="tc-l pv4-ns pv5-l pv2 ph3 ph4-ns">
					<h1 class="near-white mt1-ns f2 fw3 mb0 mt0 lh-title">
						<span class="terminal-title">Hardening OAS<span class="terminal-cursor"></span></span>
					</h1>
					<h2 class="near-white mt3-l mb4-l fw1 f6 f3-l measure-wide-l center lh-copy mt2 mb3">
						
						
							
								Published
								<time datetime="2010-01-21T00:00:00Z">Jan 21, 2010</time>
								<span class="display-print">by </span>
								 in <a href="https://rmoff.net/categories/apache" class="no-underline category near-white dim">Apache</a>, <a href="https://rmoff.net/categories/oas" class="no-underline category near-white dim">Oas</a>, <a href="https://rmoff.net/categories/security" class="no-underline category near-white dim">Security</a>
								<span class="display-print">at https://rmoff.net/2010/01/21/hardening-oas/</span>
							
						
					</h2>
				</div>

				
				
				
				

			</div>
		</header>
		
		<main role="main">
		
<div class="container-fluid docs">
  <div class="row">
    <main class="docs-content" role="main">

<article class="article">
	<p><a href="/categories/oas/">Oracle Application Server</a> (OAS) is the Web and Application server typically deployed with OBIEE. There are several settings which by default may be viewed as security weaknesses. Whether realistically a target or not, it&rsquo;s good practice to always be considering security and lock down your servers as much as reasonably possible. I adopt the default stance of having to find a reason to leave something less secure, rather than justify why it needs doing.</p>
<p>There are various tools and companies out there that will help you scan your deployments for weaknesses. In reading about this I found <a href="http://cirt.net/nikto2">Nikto</a> which runs on all platforms. In essence it takes a hostname and port and scans for known vulnerabilities in web servers (not just OAS).</p>
<p>Listed below are some of the simple things you can do to secure your default deployment of OAS.</p>
<p>Almost all of this is derived from the very excellent <a href="http://rmccurdy.com/scripts/docs/spidynamics/Securing%20Oracle%20Application%20Server.pdf">Securing Oracle Application Server by Caleb Sima</a></p>
<p>In the text below I refer to $OAS_HOME which may not be an actual environment variable, but is the home directory of your OAS installation.</p>
<p>Don&rsquo;t forget to backup config files before you change them, and take backups of deleted files and directories.</p>
<p>After making the changes bounce OAS (<em>opmnctl stopall; opmnctl startall</em>).</p>
<p>As well as the specifics below you should always keep an eye on <a href="http://www.oracle.com/technology/deploy/security/alerts.htm">Oracle&rsquo;s Critical Patch Updates</a>.</p>
<h2 id="web-server-version-and-details">Web server version and details&nbsp;<a class="headline-hash" href="#web-server-version-and-details">ðŸ”—</a> </h2>
<p>By default OAS will report its version in both HTTP headers and on error pages (such as those returned on a 404 Not Found which is easy to obtain by entering a non-existent URL):</p>
<p><img src="/images/rnm1978/1.png" alt=""> <img src="/images/rnm1978/2010-01-08_141948.png" alt=""></p>
<p>Apply these two changes to $OAS_HOME/Apache/Apache/conf/httpd.conf:</p>
<ol>
<li>Search for <strong>ServerSignature</strong> and change it from On to <strong>Off</strong><br>
This removes the server information from error pages<br>
Ref: <a href="http://httpd.apache.org/docs/2.2/mod/core.html#serversignature">http://httpd.apache.org/docs/2.2/mod/core.html#serversignature</a></li>
<li>Add this on the next line:<br>
<strong>ServerTokens ProductOnly</strong><br>
This removes some server version info from the HTTP header, and is the least possible data to reveal in Apache.<br>
Ref: <a href="http://httpd.apache.org/docs/2.2/mod/core.html#servertokens">http://httpd.apache.org/docs/2.2/mod/core.html#servertokens</a></li>
</ol>
<p>After the changes have been made:</p>
<p><img src="/images/rnm1978/2010-01-08_142751.png" alt=""> <img src="/images/rnm1978/2010-01-08_142713.png" alt=""></p>
<h2 id="trace-method">TRACE method&nbsp;<a class="headline-hash" href="#trace-method">ðŸ”—</a> </h2>
<p>Read <a href="http://www.ducea.com/2007/10/22/apache-tips-disable-the-http-trace-method/">Apache Tips: Disable the HTTP TRACE method/</a> for information on how to see if HTTP TRACE is enabled. It is by default in OAS, and most security scanners will pick it up as a problem.</p>
<p>To disable it, add to $OAS_HOME/Apache/Apache/conf/httpd.conf:<br>
<strong>TraceEnable Off</strong></p>
<h2 id="default-content">Default content&nbsp;<a class="headline-hash" href="#default-content">ðŸ”—</a> </h2>
<p>Most web and application servers come with default content such as example pages or &ldquo;Welcome&rdquo; pages, and OAS is no exception. The reason for getting rid of this content is to give potential attackers one less thing to work with. Static content might give them information about software versions or paths. Dynamic content (JSPs etc) may be exploitable. Either way - what is to be gained from leaving it in place?</p>
<h3 id="apache-default-content">Apache default content&nbsp;<a class="headline-hash" href="#apache-default-content">ðŸ”—</a> </h3>
<p><img src="/images/rnm1978/2010-01-08_150007.png" alt=""></p>
<p>In $OAS_HOME/Apache/Apache: [sourcecode] mv htdocs/ htdocs.old mkdir htdocs vi htdocs/index.html # enter: <HTML><HEAD><TITLE>Nothing to see here</TITLE></HEAD><BODY>Nothing to see here, move along.</BODY></HTML> [/sourcecode]</p>
<p><img src="/images/rnm1978/2010-01-08_150158.png" alt=""></p>
<hr>
<p><img src="/images/rnm1978/2010-01-18_134955.png" alt=""></p>
<p>[sourcecode] rm $OAS_Home/Apache/Apache/icons/README rm $OAS_Home/Apache/Apache/fcgi-bin/* [/sourcecode]</p>
<p><img src="/images/rnm1978/2010-01-18_135124.png" alt=""></p>
<h3 id="j2ee">j2ee&nbsp;<a class="headline-hash" href="#j2ee">ðŸ”—</a> </h3>
<p><img src="/images/rnm1978/2010-01-18_124603.png" alt=""></p>
<p><img src="/images/rnm1978/2010-01-18_124652.png" alt=""></p>
<p><img src="/images/rnm1978/2010-01-18_142342.png" alt=""></p>
<p>[sourcecode] cd $OAS_HOME/j2ee/home/default-web-app rm -r WEB-INF/classes rm -r examples/ echo &ldquo;Nothing to see here&rdquo; &gt; index.html [/sourcecode]</p>
<p><img src="/images/rnm1978/2010-01-18_133909.png" alt=""></p>
<p><img src="/images/rnm1978/2010-01-18_133926.png" alt=""></p>
<h2 id="pre-populated-username-in-oas-login-form">Pre-populated username in OAS login form&nbsp;<a class="headline-hash" href="#pre-populated-username-in-oas-login-form">ðŸ”—</a> </h2>
<p>This could help an attacker as they are given a username to start trying to login as. <img src="/images/rnm1978/2010-01-08_155415.png" alt=""> However, I can&rsquo;t work out how to disable it. I opened a thread on OTN here: <a href="http://forums.oracle.com/forums/thread.jspa?threadID=1010227&amp;tstart=0">http://forums.oracle.com/forums/thread.jspa?threadID=1010227&amp;tstart=0</a></p>
<p>If you know, please leave a comment!</p>
<h2 id="weak-ciphers--ssl-version-2-supported">Weak ciphers / SSL version 2 supported&nbsp;<a class="headline-hash" href="#weak-ciphers--ssl-version-2-supported">ðŸ”—</a> </h2>
<p>Disable the weak SSL ciphers &amp; disable version 2 of the protocol</p>
<p>Add to httpd.conf after the TraceEnable statement from above:</p>
<p>[sourcecode] SSLProtocol ALL -SSLv2 SSLCipherSuite HIGH:!SSLv2:!ADH:!aNULL:!eNULL:!NULL [/sourcecode] Ref: <a href="http://httpd.apache.org/docs/2.0/mod/mod_ssl.html#sslciphersuite">http://httpd.apache.org/docs/2.0/mod/mod_ssl.html#sslciphersuite</a></p>
<p>Ref: <a href="http://adamyoung.net/Disable-SSLv2-System-Wide">http://adamyoung.net/Disable-SSLv2-System-Wide</a></p>
<h2 id="restarting-oas">Restarting OAS&nbsp;<a class="headline-hash" href="#restarting-oas">ðŸ”—</a> </h2>
<p>When I started implementing this I used <strong>opmnctl restartproc</strong>, but found that HTTP_Server came back as status &ldquo;Stop&rdquo; or &ldquo;Bounce&rdquo;. I also got errors like: &ldquo;time out while waiting for a managed process to restart&rdquo;.</p>
<p>What I think happened was that the httpd (Apache) processes didn&rsquo;t come down properly, and so couldn&rsquo;t restart.</p>
<p>Therefore I resorted to <strong>opmnctl shutdown</strong>, then search for any remaining httpd processes (<strong>ps -ef|grep httpd</strong>) and kill any (<strong>kill -9 xxxx</strong>), and then restart OAS (<strong>opmnctl startall</strong>)</p>

	<hr>
	<div style="background-color: rgba(204, 234, 255, 0.25); margin-bottom:50px;margin-top:50px;padding: 20px; border-width: 2px; border-style: solid; border-color: darkorange;">
	
		<script src="https://giscus.app/client.js"
				data-repo="rmoff/rmoff-blog"
				data-repo-id="MDEwOlJlcG9zaXRvcnkxNTE3NDg2MTE="
				data-category="Announcements"
				data-category-id="DIC_kwDOCQuAA84CvP5T"
				data-mapping="pathname"
				data-strict="1"
				data-reactions-enabled="1"
				data-emit-metadata="0"
				data-input-position="bottom"
				data-theme="light"
				data-lang="en"
				crossorigin="anonymous"
				async>
		</script>
		
	</div>
		
				<div class="hide-print sans-serif f6 f5-l mt5 ph3 pb6 center nested-copy-line-height lh-copy nested-links mw-100 measure-wide">
		<div class="about-the-author">
		
			
			
				
					<hr>
<p><img src="/images/2018/05/ksldn18-01.jpg" alt="Robin Moffatt"></p>
<p><a href="https://bsky.app/profile/rmoff.net"><b class="fa-brands fa-bluesky"></b></a>  <em>Robin Moffatt works on the DevRel team at Confluent. He likes writing about himself in the third person, eating good breakfasts, and drinking good beer.</em></p>

				
			
		
		</div>
		
	</div>

		

</article>
      </main>
    
      
      <div class="docs-toc">
        <ul class="nav toc-top">
          <li><a href="#" id="back_to_top" class="docs-toc-title">Contents</a></li>
        </ul>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#web-server-version-and-details">Web server version and details</a></li>
    <li><a href="#trace-method">TRACE method</a></li>
    <li><a href="#default-content">Default content</a>
      <ul>
        <li><a href="#apache-default-content">Apache default content</a></li>
        <li><a href="#j2ee">j2ee</a></li>
      </ul>
    </li>
    <li><a href="#pre-populated-username-in-oas-login-form">Pre-populated username in OAS login form</a></li>
    <li><a href="#weak-ciphers--ssl-version-2-supported">Weak ciphers / SSL version 2 supported</a></li>
    <li><a href="#restarting-oas">Restarting OAS</a></li>
  </ul>
</nav>
      </div>
      
      <div class="toc-mobile-label">TABLE OF CONTENTS</div>
      
    
    </div>
  </div>
</div>


		</main>
		
		
		<footer class="hide-print sans-serif f6 fw1 bg-black near-white bottom-0 w-100 pa3" role="contentinfo">
			<p class="w-50 fr tr">
			<a class="no-underline near-white" href="https://github.com/xaprb/story"><img class="dib" title="Made with Hugo and Story" alt="Story logo" src="https://rmoff.net/img/story-logo-white.svg" style="width: 1.5rem; height: 1.5rem" /></a>
			</p>
			<p class="w-50 near-white">
				&copy; 2025 
			</p>
		</footer>
		
	</body>
</html>
