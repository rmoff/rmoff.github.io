<!DOCTYPE html>
<html lang="en">
	<head>
		<meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett">
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link rel="preload" as="image" href="https://rmoff.net/img/default-header-img.webp" type="image/webp">
		
		<title>Securing OBIEE Systems Management JMX for remote access</title>
		<link rel="alternate" type="application/rss+xml" title="RSS" href="https://rmoff.net/index.xml">
		<link rel="canonical" href="https://rmoff.net/2010/03/05/securing-obiee-systems-management-jmx-for-remote-access/">
		
		

		
		<meta property="og:title" content="Securing OBIEE Systems Management JMX for remote access" />
		<meta property="og:type" content="article" />
		<meta property="og:image" content="https://rmoff.net/img/default-header-img.jpg" />
		<meta property="og:description" content="" />
		<meta property="og:url" content="https://rmoff.net/2010/03/05/securing-obiee-systems-management-jmx-for-remote-access/" />
		<meta property="og:site_name" content="Securing OBIEE Systems Management JMX for remote access" />
		<meta name="twitter:card" content="summary_large_image" />
		<meta name="twitter:site" content="@" />


		
		<style>
			html { background-color: #FAF8F5; color: #2D2926; }
			body { opacity: 0; transition: opacity 0.1s ease; }
			body.loaded { opacity: 1; }
			.site-header { height: 60px; background-color: #FAF8F5; border-bottom: 1px solid #E8421E; }
		</style>

		
		
		<link rel="stylesheet" href="https://rmoff.net/css/redesign.css" />
		
		<link rel="preload" as="style" href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,600;12..96,700;12..96,800&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@400;500;600&display=swap">
		<link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,600;12..96,700;12..96,800&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@400;500;600&display=swap" rel="stylesheet" media="print" onload="this.media='all'">
		<noscript><link href="https://fonts.googleapis.com/css2?family=Bricolage+Grotesque:opsz,wght@12..96,400;12..96,600;12..96,700;12..96,800&family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=JetBrains+Mono:wght@400;500&family=Outfit:wght@400;500;600&display=swap" rel="stylesheet"></noscript>
		

		

		
		<script>
			!function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.crossOrigin="anonymous",p.async=!0,p.src=s.api_host.replace(".i.posthog.com","-assets.i.posthog.com")+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="init capture register register_once register_for_session unregister unregister_for_session getFeatureFlag getFeatureFlagPayload isFeatureEnabled reloadFeatureFlags updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures on onFeatureFlags onSessionId getSurveys getActiveMatchingSurveys renderSurvey canRenderSurvey getNextSurveyStep identify setPersonProperties group resetGroups setPersonPropertiesForFlags resetPersonPropertiesForFlags setGroupPropertiesForFlags resetGroupPropertiesForFlags reset get_distinct_id getGroups get_session_id get_session_replay_url alias set_config startSessionRecording stopSessionRecording sessionRecordingStarted captureException loadToolbar get_property getSessionProperty createPersonProfile opt_in_capturing opt_out_capturing has_opted_in_capturing has_opted_out_capturing clear_opt_in_out_capturing debug".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
            posthog.init('phc_93NEP79Ju4xqXYWXnoLbr4HMW0Iaepj1BGOVoEXYX6P',{api_host:'https://eu.i.posthog.com', person_profiles: 'identified_only'})
		</script>

		
		<script src="https://rmoff.net/js/story.js"></script>
		<script src="https://rmoff.net/js/toc.js"></script>
		<script src="https://rmoff.net/js/medium-mirror.js"></script>
	</head>
	<body class="ma0 section-post page-kind-page is-page-true ">
		<script>document.body.classList.add('loaded');</script>

		<header class="site-header hide-print">
	<div class="site-header-inner">
		<a href="https://rmoff.net/" class="site-title">rmoff's random ramblings</a>
		<nav class="site-nav">
			<a href="/categories/interesting-links/" class="nav-il"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"/><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"/></svg> Interesting Links</a>
			<span class="nav-sep"></span>
			<a href="/categories/"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg> Categories</a>
			<a href="https://rmoff.net/search/"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg> Search</a>
			<a href="https://rmoff.net/index.xml"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 11a9 9 0 0 1 9 9"/><path d="M4 4a16 16 0 0 1 16 16"/><circle cx="5" cy="19" r="1"/></svg> RSS</a>
			<div class="nav-social">
				<a href="https://www.linkedin.com/in/robinmoffatt/" title="linkedin"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433a2.062 2.062 0 0 1-2.063-2.065 2.064 2.064 0 1 1 2.063 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg></a>
				<a href="https://twitter.com/rmoff/" title="twitter"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M18.244 2.25h3.308l-7.227 8.26 8.502 11.24H16.17l-5.214-6.817L4.99 21.75H1.68l7.73-8.835L1.254 2.25H8.08l4.713 6.231zm-1.161 17.52h1.833L7.084 4.126H5.117z"/></svg></a>
				<a href="https://bsky.app/profile/rmoff.net" title="bluesky"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 568 501" fill="currentColor"><path d="M123.121 33.664C188.241 82.553 258.281 181.68 284 234.873c25.719-53.192 95.759-152.32 160.879-201.21C491.866-1.611 568-28.906 568 57.947c0 17.346-9.945 145.713-15.778 166.555-20.275 72.453-94.155 90.933-159.875 79.748C507.222 323.8 536.444 388.56 473.333 453.32c-119.86 122.992-172.272-30.859-185.702-70.281-2.462-7.227-3.614-10.608-3.631-7.733-.017-2.875-1.169.506-3.631 7.733-13.43 39.422-65.842 193.273-185.702 70.281-63.111-64.76-33.89-129.52 80.986-149.071-65.72 11.185-139.6-7.295-159.875-79.748C10.945 203.659 1 75.291 1 57.946 1-28.906 76.135-1.612 123.121 33.664z"/></svg></a>
				<a href="https://www.youtube.com/c/rmoff" title="youtube"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M23.498 6.186a3.016 3.016 0 0 0-2.122-2.136C19.505 3.545 12 3.545 12 3.545s-7.505 0-9.377.505A3.017 3.017 0 0 0 .502 6.186C0 8.07 0 12 0 12s0 3.93.502 5.814a3.016 3.016 0 0 0 2.122 2.136c1.871.505 9.376.505 9.376.505s7.505 0 9.377-.505a3.015 3.015 0 0 0 2.122-2.136C24 15.93 24 12 24 12s0-3.93-.502-5.814zM9.545 15.568V8.432L15.818 12l-6.273 3.568z"/></svg></a>
				<a href="https://talks.rmoff.net" title="talks"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="2" y="3" width="20" height="14" rx="0"/><line x1="12" y1="17" x2="12" y2="22"/><line x1="8" y1="22" x2="16" y2="22"/><polyline points="7 8 12 12 17 8"/></svg></a>
				<a href="https://github.com/rmoff/" title="github"><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg></a>
			</div>
		</nav>
		<button class="nav-toggle" onclick="document.querySelector('.mobile-nav').classList.toggle('open')" aria-label="Menu">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="3" y1="6" x2="21" y2="6"/><line x1="3" y1="12" x2="21" y2="12"/><line x1="3" y1="18" x2="21" y2="18"/></svg>
		</button>
	</div>
	<nav class="mobile-nav">
		<a href="https://rmoff.net/">Home</a>
		<a href="/categories/">Categories</a>
		<a href="/categories/interesting-links/">Interesting Links</a>
		<a href="https://rmoff.net/search/">Search</a>
		<a href="https://rmoff.net/index.xml">RSS</a>
		<a href="https://www.linkedin.com/in/robinmoffatt/">linkedin</a>
		<a href="https://twitter.com/rmoff/">twitter</a>
		<a href="https://bsky.app/profile/rmoff.net">bluesky</a>
		<a href="https://www.youtube.com/c/rmoff">youtube</a>
		<a href="https://talks.rmoff.net">talks</a>
		<a href="https://github.com/rmoff/">github</a>
	</nav>
</header>


		<main role="main">
		

<div class="article-hero" style="background-image: url('https://rmoff.net/img/default-header-img.webp');">
	<div class="article-hero-overlay">
		<div class="article-hero-content">
			<h1>Securing OBIEE Systems Management JMX for remote access</h1>
			<p class="article-hero-meta">
				
					<time datetime="2010-03-05T00:00:00Z">05 Mar 2010</time>
					<span class="display-print">by </span>
					 &middot; <a href="https://rmoff.net/categories/jmx">jmx</a>, <a href="https://rmoff.net/categories/obiee">OBIEE</a>, <a href="https://rmoff.net/categories/security">security</a>, <a href="https://rmoff.net/categories/systemsmanagement">systemsmanagement</a>
					<span class="display-print">at https://rmoff.net/2010/03/05/securing-obiee-systems-management-jmx-for-remote-access/</span>
				
			</p>
		</div>
	</div>
</div>


<details class="toc-mobile">
	<summary>Table of Contents</summary>
	<nav id="TableOfContents">
  <ul>
    <li><a href="#jmx">JMX</a></li>
    <li><a href="#security-issue">Security Issue</a></li>
    <li><a href="#making-the-jmx-agent-more-secure">Making the JMX Agent more secure</a></li>
    <li><a href="#using-jconsole">Using JConsole</a></li>
    <li><a href="#footnote">Footnote</a></li>
  </ul>
</nav>
</details>

<div class="container-fluid docs">
	<div class="row">
		<main class="docs-content" role="main">

<article class="article" data-pagefind-body>
	<span data-pagefind-filter="category" style="display:none">jmx</span><span data-pagefind-filter="category" style="display:none">OBIEE</span><span data-pagefind-filter="category" style="display:none">security</span><span data-pagefind-filter="category" style="display:none">systemsmanagement</span>
	<img data-pagefind-meta="image[src]" src="https://rmoff.net/img/default-header-img.jpg" style="display:none" alt="">
	<h2 id="jmx">JMX&nbsp;<a class="headline-hash" href="#jmx">ðŸ”—</a> </h2>
<p>OBIEE&rsquo;s Systems Management functionality exposes performance counters and the application&rsquo;s configuration options through Java MBeans and optionally a protocol called JMX.</p>
<p>It&rsquo;s extremely useful, and is documented pretty widely :</p>
<ul>
<li><a href="/2009/07/16/jconsole-/-jmx/">JConsole / JMX</a></li>
<li><a href="/2009/07/21/jconsole-/-jmx-followup/">JConsole / JMX â€“ followup</a></li>
<li><a href="/2009/07/22/oracle-bi-management-/-systems-management-mbeans/">Oracle BI Management / Systems Management MBeans</a></li>
<li><a href="http://obiee101.blogspot.com/2009/07/obiee-perfmon-performance-monitor.html">PerfMon</a></li>
<li><a href="http://blogs.oracle.com/siebelessentials/2008/11/oracle_bi_ee_and_mbeans.html">OBIEE MBeans and OC4J</a></li>
<li><a href="/2009/07/29/obiee-performance-monitoring-and-alerting-with-jmanage/">OBIEE performance monitoring and alerting with jManage</a></li>
</ul>
<p>In this article I&rsquo;m going to discuss the use of JMX to access these counters remotely, and a possible security issue that&rsquo;s present in the <a href="http://docs.google.com/viewer?a=v&amp;q=cache:cBH-0QJHbTEJ:download.oracle.com/docs/cd/B16240_01/doc/apirefs.102/e12639.pdf+com.sun.management.jmxremote.authenticate%3Dfalse&amp;hl=en&amp;gl=uk&amp;pid=bl&amp;srcid=ADGEESiWEE9yb6LNERALgxwRhxGkUPC_8VzSZcYiyFUbV2MMMcP0RniO8EcSgT8Y2VsihL8JwLtTQHBuEDAQhS0FOOGfRKt9AxGdnbZEBalywMSEQoyzrktNU1ppcvLgB-F2Hjcr6gLI&amp;sig=AHIEtbTc_xYSdrrFG4k-rsCaJrd4ZJjodQ">BI Management Pack</a> manual. The BI Management Pack is an add-on to Oracle&rsquo;s Enterprise Manager / Grid Control for managing OBIEE, see <a href="http://www.oracle.com/technology/pub/articles/rittman-oem-bipack.html">Mark Rittman&rsquo;s excellent guide on Oracle&rsquo;s website</a>.</p>
<h2 id="security-issue">Security Issue&nbsp;<a class="headline-hash" href="#security-issue">ðŸ”—</a> </h2>
<p>To access Systems Management data remotely you need to start the JMX agent, having configured it for remote access first. However, if you are lazy, and/or follow the configuration in the BI Management Pack manual, and set <strong>com.sun.management.jmxremote.authenticate=false</strong> <strong>anyone can update your OBIEE configuration</strong> if they have network access to your server and a client for JMX (such as jconsole, part of standard java distribution) and time to guess the port number. This is not cool. Ever played with AUTHENTICATION=BYPASS_NQS?</p>
<p>The <a href="http://java.sun.com/javase/6/docs/technotes/guides/management/agent.html">latest Java documentation</a> (now with an Oracle logo!) does address this:</p>
<blockquote>
<p>Caution - This configuration is insecure. Any remote user who knows (or guesses) your JMX port number and host name will be able to monitor and control your Java application and platform. While it may be acceptable for development, it is not recommended for production systems.</p>
</blockquote>
<p>To be clear - <em>if you&rsquo;re not running the JMX Agent, this is all irrelevant</em>. It&rsquo;s only if you&rsquo;re running it and haven&rsquo;t thought through the consequences of the configuration.</p>
<h2 id="making-the-jmx-agent-more-secure">Making the JMX Agent more secure&nbsp;<a class="headline-hash" href="#making-the-jmx-agent-more-secure">ðŸ”—</a> </h2>
<p>One way to secure the JMX agent is to use password authentication. The other is to set up SSL. The following demonstrates how to enable password authentication.</p>
<p>Please note - the following covers how to password-protect the JMX agent. It isn&rsquo;t making it bullet-proof, and there&rsquo;s no reason why a dictionary attack against it wouldn&rsquo;t work as there&rsquo;s no lockout. This also means it&rsquo;s a good reason not to use a default username from the config files. Note also the following warning in the Java documentation: (if anyone can translate it into english I&rsquo;d be grateful ;-) )</p>
<blockquote>
<p>&ldquo;WARNING: A potential security issue has been identified with password authentication for JMX remote connectors when the client obtains the remote connector from an insecure RMI registry (the default). If an attacker starts a bogus RMI registry on the target server before the legitmate one is started, then the attacker can steal clients&rsquo; passwords.&rdquo;</p>
</blockquote>
<p>To enable password authentication you need to edit three files. The first file to edit is the agent script, runagent.sh. You&rsquo;ll find this in $ORACLEBI_HOME/systemsmanagement. By default, the file looks like this:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#bc7a00">#!/bin/sh
</span></span></span><span style="display:flex;"><span><span style="color:#bc7a00"></span><span style="color:#408080;font-style:italic"># this is a template of runagent.sh to be used on Unix.</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"># The installer will fill in JAVA_HOME, SAROOTDIR, and SATEMPDIR</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#008000">export</span> <span style="color:#19177c">JAVA_HOME</span><span style="color:#666">=</span>/usr/java/jdk1.6.0_17
</span></span><span style="display:flex;"><span><span style="color:#008000">export</span> <span style="color:#19177c">SAROOTDIR</span><span style="color:#666">=</span>/app/oracle/product/obiee
</span></span><span style="display:flex;"><span><span style="color:#008000">export</span> <span style="color:#19177c">SADATADIR</span><span style="color:#666">=</span>/data
</span></span><span style="display:flex;"><span><span style="color:#008000">export</span> <span style="color:#19177c">SATEMPDIR</span><span style="color:#666">=</span>/data/tmp
</span></span><span style="display:flex;"><span><span style="color:#008000">export</span> <span style="color:#19177c">UNIXPERFDIR</span><span style="color:#666">=</span><span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">SATEMPDIR</span><span style="color:#b68;font-weight:bold">}</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#19177c">java_cmd</span><span style="color:#666">=</span><span style="color:#ba2121">&#34;</span><span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">JAVA_HOME</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#ba2121">/bin/java -Djava.library.path=</span><span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">SAROOTDIR</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#ba2121">/server/Bin -Dcom.sun.management.jmxremote -classpath analytics-jmx.jar:lib/xmlparserv2.jar oracle.bi.analytics.management.StandardConsoleAgent&#34;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">java_cmd</span><span style="color:#b68;font-weight:bold">}</span>
</span></span></code></pre></div><p>To enable remote access to the JMX agent you change the java_cmd to the following:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#19177c">java_cmd</span><span style="color:#666">=</span><span style="color:#ba2121">&#34;</span><span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">JAVA_HOME</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#ba2121">/bin/java -Djava.library.path=</span><span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">SAROOTDIR</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#ba2121">/server/Bin -Dcom.sun.management.jmxremote -Dcom.sun.man
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">agement.jmxremote.port=9980 -Dcom.sun.management.jmxremote.authenticate=false -Dcom.sun.management.jmxremote.ssl=false -
</span></span></span><span style="display:flex;"><span><span style="color:#ba2121">classpath analytics-jmx.jar:lib/xmlparserv2.jar oracle.bi.analytics.management.StandardConsoleAgent&#34;</span>
</span></span></code></pre></div><p>Note that jmxremote.authenticate is set to false. To secure the JMX agent you change it to true:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#19177c">java_cmd</span><span style="color:#666">=</span><span style="color:#ba2121">&#34;</span><span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">JAVA_HOME</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#ba2121">/bin/java -Djava.library.path=</span><span style="color:#b68;font-weight:bold">${</span><span style="color:#19177c">SAROOTDIR</span><span style="color:#b68;font-weight:bold">}</span><span style="color:#ba2121">/server/Bin -Dcom.sun.management.jmxremote -Dcom.sun.management.jmxremote.port=9980 -Dcom.sun.management.jmxremote.authenticate=true -classpath analytics-jmx.jar:lib/xmlparserv2.jar oracle.bi.analytics.management.StandardConsoleAgent&#34;</span>
</span></span></code></pre></div><p>Now note what JAVA_HOME is set to in the runagent.sh file (in the above example it&rsquo;s /usr/java/jdk1.6.0_17). Navigate to this directory, and then to <strong>jre/lib/management</strong>. You should see these four files:</p>
<pre tabindex="0"><code>jmxremote.access
jmxremote.password.template
management.properties
snmp.acl.template
</code></pre><p>Create a copy of jmxremote.password.template to a file called <strong>jmxremote.password</strong>. Open the file and you&rsquo;ll see two default users (or &ldquo;roles&rdquo;) as the documentation calls them.</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#19177c">$cp</span> jmxremote.password.template jmxremote.password
</span></span><span style="display:flex;"><span><span style="color:#19177c">$vi</span> jmxremote.password
</span></span></code></pre></div><div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"># Following are two commented-out entries.  The &#34;measureRole&#34; role has</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"># password &#34;QED&#34;.  The &#34;controlRole&#34; role has password &#34;R&amp;D&#34;.</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic">#</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"># monitorRole  QED</span>
</span></span><span style="display:flex;"><span><span style="color:#408080;font-style:italic"># controlRole   R&amp;D</span>
</span></span></code></pre></div><p>We&rsquo;ll come back to this file in a moment. Now open <strong>jmxremote.access</strong> and you&rsquo;ll see the access rights for the users (&ldquo;roles&rdquo;) in the password file are defined here:</p>
<pre tabindex="0"><code>#       &#34;readonly&#34; grants access to read attributes of MBeans.
#                   For monitoring, this means that a remote client in this
#                   role can read measurements but cannot perform any action
#                   that changes the environment of the running program.
#       &#34;readwrite&#34; grants access to read and write attributes of MBeans,
#                   to invoke operations on them, and to create or remove them.
#                   This access should be granted to only trusted clients,
#                   since they can potentially interfere with the smooth
#                   operation of a running program
</code></pre><p>So, now decide how you want to regulate access. <strong>I would strongly recommend that the only access available through remote JMX is readonly</strong>. Read/Write access to configuration needs to be through one auditable route, and I&rsquo;d suggest this isn&rsquo;t the best one. If that&rsquo;s how we&rsquo;re going to configure it, we set the files up like this: (delete or comment out everything in the files first, having taken a backup first) <strong>jmxremote.password:</strong></p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>jmxobiee  S3cur3Passw0rd
</span></span></code></pre></div><p><strong>jmxremote.access</strong></p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>jmxobiee <span style="color:#008000">readonly</span>
</span></span></code></pre></div><p>Finally, secure access to the password file so that it&rsquo;s only readable by the application owner ID:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>chmod <span style="color:#666">600</span> jmxremote.password
</span></span></code></pre></div><p>Now, go back to $ORACLEBI_HOME/systemsmanagement, and start the JMX agent:</p>
<div class="highlight"><pre tabindex="0" style=";-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span>nohup ./runagent &amp;
</span></span></code></pre></div><p>(the nohup and &amp; make it run in the background so it doesn&rsquo;t quit when you exit your session)</p>
<p>Having started your agent, you can go to JConsole and login to it remotely.</p>
<p>See the document <a href="http://java.sun.com/j2se/1.5.0/docs/guide/management/agent.html#remote">here</a> for the full details of securing JMX, including use of SSL and alternative password file locations.</p>
<h2 id="using-jconsole">Using JConsole&nbsp;<a class="headline-hash" href="#using-jconsole">ðŸ”—</a> </h2>
<p>JConsole should be in your PATH, so enter JConsole from Start -&gt; Run (Windows), or alternatively find it in the bin directory of your JAVA home directory (Windows/Linux/Unix). <img src="/images/rnm1978/2010-03-05_141030.png" alt="" title="2010-03-05_141030"></p>
<p>To see the OBIEE counters click on MBeans tab : <img src="/images/rnm1978/2010-03-05_141340.png" alt="" title="2010-03-05_141340"></p>
<p>and then expand the &ldquo;Oracle BI Management&rdquo; folder: <img src="/images/rnm1978/2010-03-05_141521.png" alt="" title="2010-03-05_141521"></p>
<p>You&rsquo;ll notice if you&rsquo;re connected as a readonly user and try to change any values you get an error: <img src="/images/rnm1978/2010-03-05_141644.png" alt="" title="2010-03-05_141644"></p>
<p>When OBIEE is running you get some very detailed performance counters: <img src="/images/rnm1978/2010-03-05_142104.png" alt="" title="2010-03-05_142104"></p>
<p>(If you only see Configuration folders within BI then it&rsquo;s because OBIEE isn&rsquo;t running :) )</p>
<p>One nice thing you can do is see a graph of the metrics, by clicking on Attributes in the left tree, and then double-clicking on the number you want to graph in the right pane:</p>
<p><img src="/images/rnm1978/2010-03-05_1428191.png" alt="" title="2010-03-05_142819"></p>
<h2 id="footnote">Footnote&nbsp;<a class="headline-hash" href="#footnote">ðŸ”—</a> </h2>
<p>I find the possibilities of the JMX interface to BI counters very interesting, and am surprised there is so little discussed about it. Maybe everyone else is merrily using it and feels no need to brag ;-)</p>
<p>The counters in particular that BI Server exposes gives a peek under the covers of an application that has no detailing logging other than NQQuery.log. Using these counters through JMX we can look at things such as the current state of a connection pool, or the BI Server Cache.</p>
<p>Does anyone know of a freeware tool for collecting data from JMX? I know I could use the BI Management Pack but we don&rsquo;t have it. JConsole or <a href="/2009/07/29/obiee-performance-monitoring-and-alerting-with-jmanage/">JManage</a> give visualisation of the data realtime, but the latter is very rough around the edges.</p>

	<hr>
	<div class="giscus-container">
		<script src="https://giscus.app/client.js"
				data-repo="rmoff/rmoff-blog"
				data-repo-id="MDEwOlJlcG9zaXRvcnkxNTE3NDg2MTE="
				data-category="Announcements"
				data-category-id="DIC_kwDOCQuAA84CvP5T"
				data-mapping="pathname"
				data-strict="1"
				data-reactions-enabled="1"
				data-emit-metadata="0"
				data-input-position="bottom"
				data-theme="light"
				data-lang="en"
				crossorigin="anonymous"
				async>
		</script>
	</div>
</article>
      </main>
    
      
      <div class="docs-toc">
        <ul class="nav toc-top">
          <li><a href="#" id="back_to_top" class="docs-toc-title">On this page</a></li>
        </ul>
        <nav id="TableOfContents">
  <ul>
    <li><a href="#jmx">JMX</a></li>
    <li><a href="#security-issue">Security Issue</a></li>
    <li><a href="#making-the-jmx-agent-more-secure">Making the JMX Agent more secure</a></li>
    <li><a href="#using-jconsole">Using JConsole</a></li>
    <li><a href="#footnote">Footnote</a></li>
  </ul>
</nav>
      </div>
      
    
    </div>
  </div>
</div>


		</main>

		

		
		<footer class="site-footer hide-print" role="contentinfo">
			<span>&copy; 2026 </span>
		</footer>
		

		
	</body>
</html>
